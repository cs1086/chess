(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(o){if(o.ep)return;o.ep=!0;const f=s(o);fetch(o.href,f)}})();var xf={exports:{}},ba={};var Kg;function S1(){if(Kg)return ba;Kg=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(a,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var h in o)h!=="key"&&(f[h]=o[h])}else f=o;return o=f.ref,{$$typeof:l,type:a,key:d,ref:o!==void 0?o:null,props:f}}return ba.Fragment=n,ba.jsx=s,ba.jsxs=s,ba}var Wg;function w1(){return Wg||(Wg=1,xf.exports=S1()),xf.exports}var y=w1(),Sf={exports:{}},we={};var $g;function C1(){if($g)return we;$g=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function N(C){return C===null||typeof C!="object"?null:(C=x&&C[x]||C["@@iterator"],typeof C=="function"?C:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,j={};function ee(C,U,F){this.props=C,this.context=U,this.refs=j,this.updater=F||V}ee.prototype.isReactComponent={},ee.prototype.setState=function(C,U){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,U,"setState")},ee.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Q(){}Q.prototype=ee.prototype;function P(C,U,F){this.props=C,this.context=U,this.refs=j,this.updater=F||V}var Se=P.prototype=new Q;Se.constructor=P,G(Se,ee.prototype),Se.isPureReactComponent=!0;var He=Array.isArray;function ne(){}var de={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function Ge(C,U,F){var te=F.ref;return{$$typeof:l,type:C,key:U,ref:te!==void 0?te:null,props:F}}function Re(C,U){return Ge(C.type,U,C.props)}function me(C){return typeof C=="object"&&C!==null&&C.$$typeof===l}function Qe(C){var U={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(F){return U[F]})}var Ct=/\/+/g;function at(C,U){return typeof C=="object"&&C!==null&&C.key!=null?Qe(""+C.key):U.toString(36)}function it(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(ne,ne):(C.status="pending",C.then(function(U){C.status==="pending"&&(C.status="fulfilled",C.value=U)},function(U){C.status==="pending"&&(C.status="rejected",C.reason=U)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function D(C,U,F,te,ge){var Ee=typeof C;(Ee==="undefined"||Ee==="boolean")&&(C=null);var ye=!1;if(C===null)ye=!0;else switch(Ee){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(C.$$typeof){case l:case n:ye=!0;break;case b:return ye=C._init,D(ye(C._payload),U,F,te,ge)}}if(ye)return ge=ge(C),ye=te===""?"."+at(C,0):te,He(ge)?(F="",ye!=null&&(F=ye.replace(Ct,"$&/")+"/"),D(ge,U,F,"",function(on){return on})):ge!=null&&(me(ge)&&(ge=Re(ge,F+(ge.key==null||C&&C.key===ge.key?"":(""+ge.key).replace(Ct,"$&/")+"/")+ye)),U.push(ge)),1;ye=0;var ct=te===""?".":te+":";if(He(C))for(var We=0;We<C.length;We++)te=C[We],Ee=ct+at(te,We),ye+=D(te,U,F,Ee,ge);else if(We=N(C),typeof We=="function")for(C=We.call(C),We=0;!(te=C.next()).done;)te=te.value,Ee=ct+at(te,We++),ye+=D(te,U,F,Ee,ge);else if(Ee==="object"){if(typeof C.then=="function")return D(it(C),U,F,te,ge);throw U=String(C),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ye}function Z(C,U,F){if(C==null)return C;var te=[],ge=0;return D(C,te,"","",function(Ee){return U.call(F,Ee,ge++)}),te}function T(C){if(C._status===-1){var U=C._result;U=U(),U.then(function(F){(C._status===0||C._status===-1)&&(C._status=1,C._result=F)},function(F){(C._status===0||C._status===-1)&&(C._status=2,C._result=F)}),C._status===-1&&(C._status=0,C._result=U)}if(C._status===1)return C._result.default;throw C._result}var fe=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Ne={map:Z,forEach:function(C,U,F){Z(C,function(){U.apply(this,arguments)},F)},count:function(C){var U=0;return Z(C,function(){U++}),U},toArray:function(C){return Z(C,function(U){return U})||[]},only:function(C){if(!me(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return we.Activity=v,we.Children=Ne,we.Component=ee,we.Fragment=s,we.Profiler=o,we.PureComponent=P,we.StrictMode=a,we.Suspense=g,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de,we.__COMPILER_RUNTIME={__proto__:null,c:function(C){return de.H.useMemoCache(C)}},we.cache=function(C){return function(){return C.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(C,U,F){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var te=G({},C.props),ge=C.key;if(U!=null)for(Ee in U.key!==void 0&&(ge=""+U.key),U)!$.call(U,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&U.ref===void 0||(te[Ee]=U[Ee]);var Ee=arguments.length-2;if(Ee===1)te.children=F;else if(1<Ee){for(var ye=Array(Ee),ct=0;ct<Ee;ct++)ye[ct]=arguments[ct+2];te.children=ye}return Ge(C.type,ge,te)},we.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},we.createElement=function(C,U,F){var te,ge={},Ee=null;if(U!=null)for(te in U.key!==void 0&&(Ee=""+U.key),U)$.call(U,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ge[te]=U[te]);var ye=arguments.length-2;if(ye===1)ge.children=F;else if(1<ye){for(var ct=Array(ye),We=0;We<ye;We++)ct[We]=arguments[We+2];ge.children=ct}if(C&&C.defaultProps)for(te in ye=C.defaultProps,ye)ge[te]===void 0&&(ge[te]=ye[te]);return Ge(C,Ee,ge)},we.createRef=function(){return{current:null}},we.forwardRef=function(C){return{$$typeof:h,render:C}},we.isValidElement=me,we.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:T}},we.memo=function(C,U){return{$$typeof:p,type:C,compare:U===void 0?null:U}},we.startTransition=function(C){var U=de.T,F={};de.T=F;try{var te=C(),ge=de.S;ge!==null&&ge(F,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(ne,fe)}catch(Ee){fe(Ee)}finally{U!==null&&F.types!==null&&(U.types=F.types),de.T=U}},we.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()},we.use=function(C){return de.H.use(C)},we.useActionState=function(C,U,F){return de.H.useActionState(C,U,F)},we.useCallback=function(C,U){return de.H.useCallback(C,U)},we.useContext=function(C){return de.H.useContext(C)},we.useDebugValue=function(){},we.useDeferredValue=function(C,U){return de.H.useDeferredValue(C,U)},we.useEffect=function(C,U){return de.H.useEffect(C,U)},we.useEffectEvent=function(C){return de.H.useEffectEvent(C)},we.useId=function(){return de.H.useId()},we.useImperativeHandle=function(C,U,F){return de.H.useImperativeHandle(C,U,F)},we.useInsertionEffect=function(C,U){return de.H.useInsertionEffect(C,U)},we.useLayoutEffect=function(C,U){return de.H.useLayoutEffect(C,U)},we.useMemo=function(C,U){return de.H.useMemo(C,U)},we.useOptimistic=function(C,U){return de.H.useOptimistic(C,U)},we.useReducer=function(C,U,F){return de.H.useReducer(C,U,F)},we.useRef=function(C){return de.H.useRef(C)},we.useState=function(C){return de.H.useState(C)},we.useSyncExternalStore=function(C,U,F){return de.H.useSyncExternalStore(C,U,F)},we.useTransition=function(){return de.H.useTransition()},we.version="19.2.3",we}var Jg;function pd(){return Jg||(Jg=1,Sf.exports=C1()),Sf.exports}var be=pd(),wf={exports:{}},xa={},Cf={exports:{}},Ef={};var ey;function E1(){return ey||(ey=1,(function(l){function n(D,Z){var T=D.length;D.push(Z);e:for(;0<T;){var fe=T-1>>>1,Ne=D[fe];if(0<o(Ne,Z))D[fe]=Z,D[T]=Ne,T=fe;else break e}}function s(D){return D.length===0?null:D[0]}function a(D){if(D.length===0)return null;var Z=D[0],T=D.pop();if(T!==Z){D[0]=T;e:for(var fe=0,Ne=D.length,C=Ne>>>1;fe<C;){var U=2*(fe+1)-1,F=D[U],te=U+1,ge=D[te];if(0>o(F,T))te<Ne&&0>o(ge,F)?(D[fe]=ge,D[te]=T,fe=te):(D[fe]=F,D[U]=T,fe=U);else if(te<Ne&&0>o(ge,T))D[fe]=ge,D[te]=T,fe=te;else break e}}return Z}function o(D,Z){var T=D.sortIndex-Z.sortIndex;return T!==0?T:D.id-Z.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var d=Date,h=d.now();l.unstable_now=function(){return d.now()-h}}var g=[],p=[],b=1,v=null,x=3,N=!1,V=!1,G=!1,j=!1,ee=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function Se(D){for(var Z=s(p);Z!==null;){if(Z.callback===null)a(p);else if(Z.startTime<=D)a(p),Z.sortIndex=Z.expirationTime,n(g,Z);else break;Z=s(p)}}function He(D){if(G=!1,Se(D),!V)if(s(g)!==null)V=!0,ne||(ne=!0,Qe());else{var Z=s(p);Z!==null&&it(He,Z.startTime-D)}}var ne=!1,de=-1,$=5,Ge=-1;function Re(){return j?!0:!(l.unstable_now()-Ge<$)}function me(){if(j=!1,ne){var D=l.unstable_now();Ge=D;var Z=!0;try{e:{V=!1,G&&(G=!1,Q(de),de=-1),N=!0;var T=x;try{t:{for(Se(D),v=s(g);v!==null&&!(v.expirationTime>D&&Re());){var fe=v.callback;if(typeof fe=="function"){v.callback=null,x=v.priorityLevel;var Ne=fe(v.expirationTime<=D);if(D=l.unstable_now(),typeof Ne=="function"){v.callback=Ne,Se(D),Z=!0;break t}v===s(g)&&a(g),Se(D)}else a(g);v=s(g)}if(v!==null)Z=!0;else{var C=s(p);C!==null&&it(He,C.startTime-D),Z=!1}}break e}finally{v=null,x=T,N=!1}Z=void 0}}finally{Z?Qe():ne=!1}}}var Qe;if(typeof P=="function")Qe=function(){P(me)};else if(typeof MessageChannel<"u"){var Ct=new MessageChannel,at=Ct.port2;Ct.port1.onmessage=me,Qe=function(){at.postMessage(null)}}else Qe=function(){ee(me,0)};function it(D,Z){de=ee(function(){D(l.unstable_now())},Z)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(D){D.callback=null},l.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<D?Math.floor(1e3/D):5},l.unstable_getCurrentPriorityLevel=function(){return x},l.unstable_next=function(D){switch(x){case 1:case 2:case 3:var Z=3;break;default:Z=x}var T=x;x=Z;try{return D()}finally{x=T}},l.unstable_requestPaint=function(){j=!0},l.unstable_runWithPriority=function(D,Z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var T=x;x=D;try{return Z()}finally{x=T}},l.unstable_scheduleCallback=function(D,Z,T){var fe=l.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?fe+T:fe):T=fe,D){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=T+Ne,D={id:b++,callback:Z,priorityLevel:D,startTime:T,expirationTime:Ne,sortIndex:-1},T>fe?(D.sortIndex=T,n(p,D),s(g)===null&&D===s(p)&&(G?(Q(de),de=-1):G=!0,it(He,T-fe))):(D.sortIndex=Ne,n(g,D),V||N||(V=!0,ne||(ne=!0,Qe()))),D},l.unstable_shouldYield=Re,l.unstable_wrapCallback=function(D){var Z=x;return function(){var T=x;x=Z;try{return D.apply(this,arguments)}finally{x=T}}}})(Ef)),Ef}var ty;function T1(){return ty||(ty=1,Cf.exports=E1()),Cf.exports}var Tf={exports:{}},Bt={};var ny;function N1(){if(ny)return Bt;ny=1;var l=pd();function n(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(g,p,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:g,containerInfo:p,implementation:b}}var d=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Bt.createPortal=function(g,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return f(g,p,null,b)},Bt.flushSync=function(g){var p=d.T,b=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=p,a.p=b,a.d.f()}},Bt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(g,p))},Bt.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},Bt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var b=p.as,v=h(b,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?a.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:N}):b==="script"&&a.d.X(g,{crossOrigin:v,integrity:x,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Bt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=h(p.as,p.crossOrigin);a.d.M(g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(g)},Bt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,v=h(b,p.crossOrigin);a.d.L(g,b,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Bt.preloadModule=function(g,p){if(typeof g=="string")if(p){var b=h(p.as,p.crossOrigin);a.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(g)},Bt.requestFormReset=function(g){a.d.r(g)},Bt.unstable_batchedUpdates=function(g,p){return g(p)},Bt.useFormState=function(g,p,b){return d.H.useFormState(g,p,b)},Bt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Bt.version="19.2.3",Bt}var iy;function A1(){if(iy)return Tf.exports;iy=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Tf.exports=N1(),Tf.exports}var ly;function R1(){if(ly)return xa;ly=1;var l=T1(),n=pd(),s=A1();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(a(188))}function p(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(a(188));return t!==e?null:e}for(var i=e,r=t;;){var c=i.return;if(c===null)break;var u=c.alternate;if(u===null){if(r=c.return,r!==null){i=r;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===i)return g(c),e;if(u===r)return g(c),t;u=u.sibling}throw Error(a(188))}if(i.return!==r.return)i=c,r=u;else{for(var m=!1,_=c.child;_;){if(_===i){m=!0,i=c,r=u;break}if(_===r){m=!0,r=c,i=u;break}_=_.sibling}if(!m){for(_=u.child;_;){if(_===i){m=!0,i=u,r=c;break}if(_===r){m=!0,r=u,i=c;break}_=_.sibling}if(!m)throw Error(a(189))}}if(i.alternate!==r)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),P=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),He=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),de=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),Ge=Symbol.for("react.activity"),Re=Symbol.for("react.memo_cache_sentinel"),me=Symbol.iterator;function Qe(e){return e===null||typeof e!="object"?null:(e=me&&e[me]||e["@@iterator"],typeof e=="function"?e:null)}var Ct=Symbol.for("react.client.reference");function at(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ct?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case ee:return"Profiler";case j:return"StrictMode";case He:return"Suspense";case ne:return"SuspenseList";case Ge:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case V:return"Portal";case P:return e.displayName||"Context";case Q:return(e._context.displayName||"Context")+".Consumer";case Se:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case de:return t=e.displayName||null,t!==null?t:at(e.type)||"Memo";case $:t=e._payload,e=e._init;try{return at(e(t))}catch{}}return null}var it=Array.isArray,D=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T={pending:!1,data:null,method:null,action:null},fe=[],Ne=-1;function C(e){return{current:e}}function U(e){0>Ne||(e.current=fe[Ne],fe[Ne]=null,Ne--)}function F(e,t){Ne++,fe[Ne]=e.current,e.current=t}var te=C(null),ge=C(null),Ee=C(null),ye=C(null);function ct(e,t){switch(F(Ee,t),F(ge,e),F(te,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=vg(t),e=bg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(te),F(te,e)}function We(){U(te),U(ge),U(Ee)}function on(e){e.memoizedState!==null&&F(ye,e);var t=te.current,i=bg(t,e.type);t!==i&&(F(ge,e),F(te,i))}function Yt(e){ge.current===e&&(U(te),U(ge)),ye.current===e&&(U(ye),ga._currentValue=T)}var Hn,rc;function ui(e){if(Hn===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Hn=t&&t[1]||"",rc=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hn+e+rc}var Ja=!1;function B(e,t){if(!e||Ja)return"";Ja=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(O){var M=O}Reflect.construct(e,[],H)}else{try{H.call()}catch(O){M=O}e.call(H.prototype)}}else{try{throw Error()}catch(O){M=O}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(O){if(O&&M&&typeof O.stack=="string")return[O.stack,M.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=r.DetermineComponentFrameRoot(),m=u[0],_=u[1];if(m&&_){var S=m.split(`
`),R=_.split(`
`);for(c=r=0;r<S.length&&!S[r].includes("DetermineComponentFrameRoot");)r++;for(;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;if(r===S.length||c===R.length)for(r=S.length-1,c=R.length-1;1<=r&&0<=c&&S[r]!==R[c];)c--;for(;1<=r&&0<=c;r--,c--)if(S[r]!==R[c]){if(r!==1||c!==1)do if(r--,c--,0>c||S[r]!==R[c]){var z=`
`+S[r].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=r&&0<=c);break}}}finally{Ja=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?ui(i):""}function q(e,t){switch(e.tag){case 26:case 27:case 5:return ui(e.type);case 16:return ui("Lazy");case 13:return e.child!==t&&t!==null?ui("Suspense Fallback"):ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return B(e.type,!1);case 11:return B(e.type.render,!1);case 1:return B(e.type,!0);case 31:return ui("Activity");default:return""}}function K(e){try{var t="",i=null;do t+=q(e,i),i=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var k=Object.prototype.hasOwnProperty,Y=l.unstable_scheduleCallback,L=l.unstable_cancelCallback,J=l.unstable_shouldYield,ie=l.unstable_requestPaint,X=l.unstable_now,ve=l.unstable_getCurrentPriorityLevel,De=l.unstable_ImmediatePriority,le=l.unstable_UserBlockingPriority,pe=l.unstable_NormalPriority,qe=l.unstable_LowPriority,Et=l.unstable_IdlePriority,cn=l.log,Rn=l.unstable_setDisableYieldValue,xn=null,jt=null;function Mn(e){if(typeof cn=="function"&&Rn(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(xn,e)}catch{}}var Jt=Math.clz32?Math.clz32:ov,av=Math.log,rv=Math.LN2;function ov(e){return e>>>=0,e===0?32:31-(av(e)/rv|0)|0}var er=256,tr=262144,nr=4194304;function Vi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ir(e,t,i){var r=e.pendingLanes;if(r===0)return 0;var c=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var _=r&134217727;return _!==0?(r=_&~u,r!==0?c=Vi(r):(m&=_,m!==0?c=Vi(m):i||(i=_&~e,i!==0&&(c=Vi(i))))):(_=r&~u,_!==0?c=Vi(_):m!==0?c=Vi(m):i||(i=r&~e,i!==0&&(c=Vi(i)))),c===0?0:t!==0&&t!==c&&(t&u)===0&&(u=c&-c,i=t&-t,u>=i||u===32&&(i&4194048)!==0)?t:c}function Rs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function cv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eh(){var e=nr;return nr<<=1,(nr&62914560)===0&&(nr=4194304),e}function oc(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Ms(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function uv(e,t,i,r,c,u){var m=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var _=e.entanglements,S=e.expirationTimes,R=e.hiddenUpdates;for(i=m&~i;0<i;){var z=31-Jt(i),H=1<<z;_[z]=0,S[z]=-1;var M=R[z];if(M!==null)for(R[z]=null,z=0;z<M.length;z++){var O=M[z];O!==null&&(O.lane&=-536870913)}i&=~H}r!==0&&th(e,r,0),u!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function th(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Jt(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|i&261930}function nh(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-Jt(i),c=1<<r;c&t|e[r]&t&&(e[r]|=t),i&=~c}}function ih(e,t){var i=t&-t;return i=(i&42)!==0?1:cc(i),(i&(e.suspendedLanes|t))!==0?0:i}function cc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function uc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lh(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:Yg(e.type))}function sh(e,t){var i=Z.p;try{return Z.p=e,t()}finally{Z.p=i}}var fi=Math.random().toString(36).slice(2),zt="__reactFiber$"+fi,Vt="__reactProps$"+fi,xl="__reactContainer$"+fi,fc="__reactEvents$"+fi,fv="__reactListeners$"+fi,dv="__reactHandles$"+fi,ah="__reactResources$"+fi,Os="__reactMarker$"+fi;function dc(e){delete e[zt],delete e[Vt],delete e[fc],delete e[fv],delete e[dv]}function Sl(e){var t=e[zt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[xl]||i[zt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Ng(e);e!==null;){if(i=e[zt])return i;e=Ng(e)}return t}e=i,i=e.parentNode}return null}function wl(e){if(e=e[zt]||e[xl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ds(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(a(33))}function Cl(e){var t=e[ah];return t||(t=e[ah]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Tt(e){e[Os]=!0}var rh=new Set,oh={};function Qi(e,t){El(e,t),El(e+"Capture",t)}function El(e,t){for(oh[e]=t,e=0;e<t.length;e++)rh.add(t[e])}var hv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ch={},uh={};function mv(e){return k.call(uh,e)?!0:k.call(ch,e)?!1:hv.test(e)?uh[e]=!0:(ch[e]=!0,!1)}function lr(e,t,i){if(mv(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function sr(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Bn(e,t,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+r)}}function un(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pv(e,t,i){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(m){i=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(m){i=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hc(e){if(!e._valueTracker){var t=fh(e)?"checked":"value";e._valueTracker=pv(e,t,""+e[t])}}function dh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=fh(e)?e.checked?"true":"false":e.value),e=r,e!==i?(t.setValue(e),!0):!1}function ar(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gv=/[\n"\\]/g;function fn(e){return e.replace(gv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function mc(e,t,i,r,c,u,m,_){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+un(t)):e.value!==""+un(t)&&(e.value=""+un(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?pc(e,m,un(t)):i!=null?pc(e,m,un(i)):r!=null&&e.removeAttribute("value"),c==null&&u!=null&&(e.defaultChecked=!!u),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+un(_):e.removeAttribute("name")}function hh(e,t,i,r,c,u,m,_){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||i!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){hc(e);return}i=i!=null?""+un(i):"",t=t!=null?""+un(t):i,_||t===e.value||(e.value=t),e.defaultValue=t}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=_?e.checked:!!r,e.defaultChecked=!!r,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),hc(e)}function pc(e,t,i){t==="number"&&ar(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Tl(e,t,i,r){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&r&&(e[i].defaultSelected=!0)}else{for(i=""+un(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function mh(e,t,i){if(t!=null&&(t=""+un(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+un(i):""}function ph(e,t,i,r){if(t==null){if(r!=null){if(i!=null)throw Error(a(92));if(it(r)){if(1<r.length)throw Error(a(93));r=r[0]}i=r}i==null&&(i=""),t=i}i=un(t),e.defaultValue=i,r=e.textContent,r===i&&r!==""&&r!==null&&(e.value=r),hc(e)}function Nl(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var yv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gh(e,t,i){var r=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,i):typeof i!="number"||i===0||yv.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function yh(e,t,i){if(t!=null&&typeof t!="object")throw Error(a(62));if(e=e.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in t)r=t[c],t.hasOwnProperty(c)&&i[c]!==r&&gh(e,c,r)}else for(var u in t)t.hasOwnProperty(u)&&gh(e,u,t[u])}function gc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _v=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rr(e){return vv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gn(){}var yc=null;function _c(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Al=null,Rl=null;function _h(e){var t=wl(e);if(t&&(e=t.stateNode)){var i=e[Vt]||null;e:switch(e=t.stateNode,t.type){case"input":if(mc(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+fn(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var c=r[Vt]||null;if(!c)throw Error(a(90));mc(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<i.length;t++)r=i[t],r.form===e.form&&dh(r)}break e;case"textarea":mh(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Tl(e,!!i.multiple,t,!1)}}}var vc=!1;function vh(e,t,i){if(vc)return e(t,i);vc=!0;try{var r=e(t);return r}finally{if(vc=!1,(Al!==null||Rl!==null)&&(Fr(),Al&&(t=Al,e=Rl,Rl=Al=null,_h(t),e)))for(t=0;t<e.length;t++)_h(e[t])}}function js(e,t){var i=e.stateNode;if(i===null)return null;var r=i[Vt]||null;if(r===null)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,t,typeof i));return i}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bc=!1;if(qn)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){bc=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{bc=!1}var di=null,xc=null,or=null;function bh(){if(or)return or;var e,t=xc,i=t.length,r,c="value"in di?di.value:di.textContent,u=c.length;for(e=0;e<i&&t[e]===c[e];e++);var m=i-e;for(r=1;r<=m&&t[i-r]===c[u-r];r++);return or=c.slice(e,1<r?1-r:void 0)}function cr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ur(){return!0}function xh(){return!1}function Qt(e){function t(i,r,c,u,m){this._reactName=i,this._targetInst=c,this.type=r,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(i=e[_],this[_]=i?i(u):u[_]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?ur:xh,this.isPropagationStopped=xh,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),t}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fr=Qt(Pi),ks=v({},Pi,{view:0,detail:0}),bv=Qt(ks),Sc,wc,Is,dr=v({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ec,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Is&&(Is&&e.type==="mousemove"?(Sc=e.screenX-Is.screenX,wc=e.screenY-Is.screenY):wc=Sc=0,Is=e),Sc)},movementY:function(e){return"movementY"in e?e.movementY:wc}}),Sh=Qt(dr),xv=v({},dr,{dataTransfer:0}),Sv=Qt(xv),wv=v({},ks,{relatedTarget:0}),Cc=Qt(wv),Cv=v({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ev=Qt(Cv),Tv=v({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nv=Qt(Tv),Av=v({},Pi,{data:0}),wh=Qt(Av),Rv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ov={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ov[e])?!!t[e]:!1}function Ec(){return Dv}var jv=v({},ks,{key:function(e){if(e.key){var t=Rv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ec,charCode:function(e){return e.type==="keypress"?cr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zv=Qt(jv),kv=v({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ch=Qt(kv),Iv=v({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ec}),Uv=Qt(Iv),Lv=v({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hv=Qt(Lv),Bv=v({},dr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gv=Qt(Bv),qv=v({},Pi,{newState:0,oldState:0}),Yv=Qt(qv),Vv=[9,13,27,32],Tc=qn&&"CompositionEvent"in window,Us=null;qn&&"documentMode"in document&&(Us=document.documentMode);var Qv=qn&&"TextEvent"in window&&!Us,Eh=qn&&(!Tc||Us&&8<Us&&11>=Us),Th=" ",Nh=!1;function Ah(e,t){switch(e){case"keyup":return Vv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ml=!1;function Pv(e,t){switch(e){case"compositionend":return Rh(t);case"keypress":return t.which!==32?null:(Nh=!0,Th);case"textInput":return e=t.data,e===Th&&Nh?null:e;default:return null}}function Xv(e,t){if(Ml)return e==="compositionend"||!Tc&&Ah(e,t)?(e=bh(),or=xc=di=null,Ml=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Eh&&t.locale!=="ko"?null:t.data;default:return null}}var Fv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fv[e.type]:t==="textarea"}function Oh(e,t,i,r){Al?Rl?Rl.push(r):Rl=[r]:Al=r,t=to(t,"onChange"),0<t.length&&(i=new fr("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var Ls=null,Hs=null;function Zv(e){hg(e,0)}function hr(e){var t=Ds(e);if(dh(t))return e}function Dh(e,t){if(e==="change")return t}var jh=!1;if(qn){var Nc;if(qn){var Ac="oninput"in document;if(!Ac){var zh=document.createElement("div");zh.setAttribute("oninput","return;"),Ac=typeof zh.oninput=="function"}Nc=Ac}else Nc=!1;jh=Nc&&(!document.documentMode||9<document.documentMode)}function kh(){Ls&&(Ls.detachEvent("onpropertychange",Ih),Hs=Ls=null)}function Ih(e){if(e.propertyName==="value"&&hr(Hs)){var t=[];Oh(t,Hs,e,_c(e)),vh(Zv,t)}}function Kv(e,t,i){e==="focusin"?(kh(),Ls=t,Hs=i,Ls.attachEvent("onpropertychange",Ih)):e==="focusout"&&kh()}function Wv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hr(Hs)}function $v(e,t){if(e==="click")return hr(t)}function Jv(e,t){if(e==="input"||e==="change")return hr(t)}function eb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var en=typeof Object.is=="function"?Object.is:eb;function Bs(e,t){if(en(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var c=i[r];if(!k.call(t,c)||!en(e[c],t[c]))return!1}return!0}function Uh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lh(e,t){var i=Uh(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Uh(i)}}function Hh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ar(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=ar(e.document)}return t}function Rc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var tb=qn&&"documentMode"in document&&11>=document.documentMode,Ol=null,Mc=null,Gs=null,Oc=!1;function Gh(e,t,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Oc||Ol==null||Ol!==ar(r)||(r=Ol,"selectionStart"in r&&Rc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gs&&Bs(Gs,r)||(Gs=r,r=to(Mc,"onSelect"),0<r.length&&(t=new fr("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=Ol)))}function Xi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Dl={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionrun:Xi("Transition","TransitionRun"),transitionstart:Xi("Transition","TransitionStart"),transitioncancel:Xi("Transition","TransitionCancel"),transitionend:Xi("Transition","TransitionEnd")},Dc={},qh={};qn&&(qh=document.createElement("div").style,"AnimationEvent"in window||(delete Dl.animationend.animation,delete Dl.animationiteration.animation,delete Dl.animationstart.animation),"TransitionEvent"in window||delete Dl.transitionend.transition);function Fi(e){if(Dc[e])return Dc[e];if(!Dl[e])return e;var t=Dl[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in qh)return Dc[e]=t[i];return e}var Yh=Fi("animationend"),Vh=Fi("animationiteration"),Qh=Fi("animationstart"),nb=Fi("transitionrun"),ib=Fi("transitionstart"),lb=Fi("transitioncancel"),Ph=Fi("transitionend"),Xh=new Map,jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jc.push("scrollEnd");function Sn(e,t){Xh.set(e,t),Qi(t,[e])}var mr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},dn=[],jl=0,zc=0;function pr(){for(var e=jl,t=zc=jl=0;t<e;){var i=dn[t];dn[t++]=null;var r=dn[t];dn[t++]=null;var c=dn[t];dn[t++]=null;var u=dn[t];if(dn[t++]=null,r!==null&&c!==null){var m=r.pending;m===null?c.next=c:(c.next=m.next,m.next=c),r.pending=c}u!==0&&Fh(i,c,u)}}function gr(e,t,i,r){dn[jl++]=e,dn[jl++]=t,dn[jl++]=i,dn[jl++]=r,zc|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function kc(e,t,i,r){return gr(e,t,i,r),yr(e)}function Zi(e,t){return gr(e,null,null,t),yr(e)}function Fh(e,t,i){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i);for(var c=!1,u=e.return;u!==null;)u.childLanes|=i,r=u.alternate,r!==null&&(r.childLanes|=i),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(c=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,c&&t!==null&&(c=31-Jt(i),e=u.hiddenUpdates,r=e[c],r===null?e[c]=[t]:r.push(t),t.lane=i|536870912),u):null}function yr(e){if(50<ca)throw ca=0,Vu=null,Error(a(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var zl={};function sb(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(e,t,i,r){return new sb(e,t,i,r)}function Ic(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yn(e,t){var i=e.alternate;return i===null?(i=tn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Zh(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function _r(e,t,i,r,c,u){var m=0;if(r=e,typeof e=="function")Ic(e)&&(m=1);else if(typeof e=="string")m=u1(e,i,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ge:return e=tn(31,i,t,c),e.elementType=Ge,e.lanes=u,e;case G:return Ki(i.children,c,u,t);case j:m=8,c|=24;break;case ee:return e=tn(12,i,t,c|2),e.elementType=ee,e.lanes=u,e;case He:return e=tn(13,i,t,c),e.elementType=He,e.lanes=u,e;case ne:return e=tn(19,i,t,c),e.elementType=ne,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:m=10;break e;case Q:m=9;break e;case Se:m=11;break e;case de:m=14;break e;case $:m=16,r=null;break e}m=29,i=Error(a(130,e===null?"null":typeof e,"")),r=null}return t=tn(m,i,t,c),t.elementType=e,t.type=r,t.lanes=u,t}function Ki(e,t,i,r){return e=tn(7,e,r,t),e.lanes=i,e}function Uc(e,t,i){return e=tn(6,e,null,t),e.lanes=i,e}function Kh(e){var t=tn(18,null,null,0);return t.stateNode=e,t}function Lc(e,t,i){return t=tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wh=new WeakMap;function hn(e,t){if(typeof e=="object"&&e!==null){var i=Wh.get(e);return i!==void 0?i:(t={value:e,source:t,stack:K(t)},Wh.set(e,t),t)}return{value:e,source:t,stack:K(t)}}var kl=[],Il=0,vr=null,qs=0,mn=[],pn=0,hi=null,On=1,Dn="";function Vn(e,t){kl[Il++]=qs,kl[Il++]=vr,vr=e,qs=t}function $h(e,t,i){mn[pn++]=On,mn[pn++]=Dn,mn[pn++]=hi,hi=e;var r=On;e=Dn;var c=32-Jt(r)-1;r&=~(1<<c),i+=1;var u=32-Jt(t)+c;if(30<u){var m=c-c%5;u=(r&(1<<m)-1).toString(32),r>>=m,c-=m,On=1<<32-Jt(t)+c|i<<c|r,Dn=u+e}else On=1<<u|i<<c|r,Dn=e}function Hc(e){e.return!==null&&(Vn(e,1),$h(e,1,0))}function Bc(e){for(;e===vr;)vr=kl[--Il],kl[Il]=null,qs=kl[--Il],kl[Il]=null;for(;e===hi;)hi=mn[--pn],mn[pn]=null,Dn=mn[--pn],mn[pn]=null,On=mn[--pn],mn[pn]=null}function Jh(e,t){mn[pn++]=On,mn[pn++]=Dn,mn[pn++]=hi,On=t.id,Dn=t.overflow,hi=e}var kt=null,rt=null,Be=!1,mi=null,gn=!1,Gc=Error(a(519));function pi(e){var t=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ys(hn(t,e)),Gc}function em(e){var t=e.stateNode,i=e.type,r=e.memoizedProps;switch(t[zt]=e,t[Vt]=r,i){case"dialog":Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":case"embed":Ie("load",t);break;case"video":case"audio":for(i=0;i<fa.length;i++)Ie(fa[i],t);break;case"source":Ie("error",t);break;case"img":case"image":case"link":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"input":Ie("invalid",t),hh(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ie("invalid",t);break;case"textarea":Ie("invalid",t),ph(t,r.value,r.defaultValue,r.children)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||r.suppressHydrationWarning===!0||yg(t.textContent,i)?(r.popover!=null&&(Ie("beforetoggle",t),Ie("toggle",t)),r.onScroll!=null&&Ie("scroll",t),r.onScrollEnd!=null&&Ie("scrollend",t),r.onClick!=null&&(t.onclick=Gn),t=!0):t=!1,t||pi(e,!0)}function tm(e){for(kt=e.return;kt;)switch(kt.tag){case 5:case 31:case 13:gn=!1;return;case 27:case 3:gn=!0;return;default:kt=kt.return}}function Ul(e){if(e!==kt)return!1;if(!Be)return tm(e),Be=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||af(e.type,e.memoizedProps)),i=!i),i&&rt&&pi(e),tm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));rt=Tg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));rt=Tg(e)}else t===27?(t=rt,Ri(e.type)?(e=ff,ff=null,rt=e):rt=t):rt=kt?_n(e.stateNode.nextSibling):null;return!0}function Wi(){rt=kt=null,Be=!1}function qc(){var e=mi;return e!==null&&(Zt===null?Zt=e:Zt.push.apply(Zt,e),mi=null),e}function Ys(e){mi===null?mi=[e]:mi.push(e)}var Yc=C(null),$i=null,Qn=null;function gi(e,t,i){F(Yc,t._currentValue),t._currentValue=i}function Pn(e){e._currentValue=Yc.current,U(Yc)}function Vc(e,t,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function Qc(e,t,i,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var u=c.dependencies;if(u!==null){var m=c.child;u=u.firstContext;e:for(;u!==null;){var _=u;u=c;for(var S=0;S<t.length;S++)if(_.context===t[S]){u.lanes|=i,_=u.alternate,_!==null&&(_.lanes|=i),Vc(u.return,i,e),r||(m=null);break e}u=_.next}}else if(c.tag===18){if(m=c.return,m===null)throw Error(a(341));m.lanes|=i,u=m.alternate,u!==null&&(u.lanes|=i),Vc(m,i,e),m=null}else m=c.child;if(m!==null)m.return=c;else for(m=c;m!==null;){if(m===e){m=null;break}if(c=m.sibling,c!==null){c.return=m.return,m=c;break}m=m.return}c=m}}function Ll(e,t,i,r){e=null;for(var c=t,u=!1;c!==null;){if(!u){if((c.flags&524288)!==0)u=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var m=c.alternate;if(m===null)throw Error(a(387));if(m=m.memoizedProps,m!==null){var _=c.type;en(c.pendingProps.value,m.value)||(e!==null?e.push(_):e=[_])}}else if(c===ye.current){if(m=c.alternate,m===null)throw Error(a(387));m.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ga):e=[ga])}c=c.return}e!==null&&Qc(t,e,i,r),t.flags|=262144}function br(e){for(e=e.firstContext;e!==null;){if(!en(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ji(e){$i=e,Qn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function It(e){return nm($i,e)}function xr(e,t){return $i===null&&Ji(e),nm(e,t)}function nm(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Qn===null){if(e===null)throw Error(a(308));Qn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Qn=Qn.next=t;return i}var ab=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},rb=l.unstable_scheduleCallback,ob=l.unstable_NormalPriority,_t={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pc(){return{controller:new ab,data:new Map,refCount:0}}function Vs(e){e.refCount--,e.refCount===0&&rb(ob,function(){e.controller.abort()})}var Qs=null,Xc=0,Hl=0,Bl=null;function cb(e,t){if(Qs===null){var i=Qs=[];Xc=0,Hl=Ku(),Bl={status:"pending",value:void 0,then:function(r){i.push(r)}}}return Xc++,t.then(im,im),t}function im(){if(--Xc===0&&Qs!==null){Bl!==null&&(Bl.status="fulfilled");var e=Qs;Qs=null,Hl=0,Bl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ub(e,t){var i=[],r={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var c=0;c<i.length;c++)(0,i[c])(t)},function(c){for(r.status="rejected",r.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),r}var lm=D.S;D.S=function(e,t){Gp=X(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&cb(e,t),lm!==null&&lm(e,t)};var el=C(null);function Fc(){var e=el.current;return e!==null?e:tt.pooledCache}function Sr(e,t){t===null?F(el,el.current):F(el,t.pool)}function sm(){var e=Fc();return e===null?null:{parent:_t._currentValue,pool:e}}var Gl=Error(a(460)),Zc=Error(a(474)),wr=Error(a(542)),Cr={then:function(){}};function am(e){return e=e.status,e==="fulfilled"||e==="rejected"}function rm(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Gn,Gn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,cm(e),e;default:if(typeof t.status=="string")t.then(Gn,Gn);else{if(e=tt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=r}},function(r){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,cm(e),e}throw nl=t,Gl}}function tl(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(nl=i,Gl):i}}var nl=null;function om(){if(nl===null)throw Error(a(459));var e=nl;return nl=null,e}function cm(e){if(e===Gl||e===wr)throw Error(a(483))}var ql=null,Ps=0;function Er(e){var t=Ps;return Ps+=1,ql===null&&(ql=[]),rm(ql,e,t)}function Xs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Tr(e,t){throw t.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function um(e){function t(E,w){if(e){var A=E.deletions;A===null?(E.deletions=[w],E.flags|=16):A.push(w)}}function i(E,w){if(!e)return null;for(;w!==null;)t(E,w),w=w.sibling;return null}function r(E){for(var w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function c(E,w){return E=Yn(E,w),E.index=0,E.sibling=null,E}function u(E,w,A){return E.index=A,e?(A=E.alternate,A!==null?(A=A.index,A<w?(E.flags|=67108866,w):A):(E.flags|=67108866,w)):(E.flags|=1048576,w)}function m(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function _(E,w,A,I){return w===null||w.tag!==6?(w=Uc(A,E.mode,I),w.return=E,w):(w=c(w,A),w.return=E,w)}function S(E,w,A,I){var he=A.type;return he===G?z(E,w,A.props.children,I,A.key):w!==null&&(w.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===$&&tl(he)===w.type)?(w=c(w,A.props),Xs(w,A),w.return=E,w):(w=_r(A.type,A.key,A.props,null,E.mode,I),Xs(w,A),w.return=E,w)}function R(E,w,A,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==A.containerInfo||w.stateNode.implementation!==A.implementation?(w=Lc(A,E.mode,I),w.return=E,w):(w=c(w,A.children||[]),w.return=E,w)}function z(E,w,A,I,he){return w===null||w.tag!==7?(w=Ki(A,E.mode,I,he),w.return=E,w):(w=c(w,A),w.return=E,w)}function H(E,w,A){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Uc(""+w,E.mode,A),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case N:return A=_r(w.type,w.key,w.props,null,E.mode,A),Xs(A,w),A.return=E,A;case V:return w=Lc(w,E.mode,A),w.return=E,w;case $:return w=tl(w),H(E,w,A)}if(it(w)||Qe(w))return w=Ki(w,E.mode,A,null),w.return=E,w;if(typeof w.then=="function")return H(E,Er(w),A);if(w.$$typeof===P)return H(E,xr(E,w),A);Tr(E,w)}return null}function M(E,w,A,I){var he=w!==null?w.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return he!==null?null:_(E,w,""+A,I);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case N:return A.key===he?S(E,w,A,I):null;case V:return A.key===he?R(E,w,A,I):null;case $:return A=tl(A),M(E,w,A,I)}if(it(A)||Qe(A))return he!==null?null:z(E,w,A,I,null);if(typeof A.then=="function")return M(E,w,Er(A),I);if(A.$$typeof===P)return M(E,w,xr(E,A),I);Tr(E,A)}return null}function O(E,w,A,I,he){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return E=E.get(A)||null,_(w,E,""+I,he);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case N:return E=E.get(I.key===null?A:I.key)||null,S(w,E,I,he);case V:return E=E.get(I.key===null?A:I.key)||null,R(w,E,I,he);case $:return I=tl(I),O(E,w,A,I,he)}if(it(I)||Qe(I))return E=E.get(A)||null,z(w,E,I,he,null);if(typeof I.then=="function")return O(E,w,A,Er(I),he);if(I.$$typeof===P)return O(E,w,A,xr(w,I),he);Tr(w,I)}return null}function se(E,w,A,I){for(var he=null,Ye=null,ue=w,Ae=w=0,Le=null;ue!==null&&Ae<A.length;Ae++){ue.index>Ae?(Le=ue,ue=null):Le=ue.sibling;var Ve=M(E,ue,A[Ae],I);if(Ve===null){ue===null&&(ue=Le);break}e&&ue&&Ve.alternate===null&&t(E,ue),w=u(Ve,w,Ae),Ye===null?he=Ve:Ye.sibling=Ve,Ye=Ve,ue=Le}if(Ae===A.length)return i(E,ue),Be&&Vn(E,Ae),he;if(ue===null){for(;Ae<A.length;Ae++)ue=H(E,A[Ae],I),ue!==null&&(w=u(ue,w,Ae),Ye===null?he=ue:Ye.sibling=ue,Ye=ue);return Be&&Vn(E,Ae),he}for(ue=r(ue);Ae<A.length;Ae++)Le=O(ue,E,Ae,A[Ae],I),Le!==null&&(e&&Le.alternate!==null&&ue.delete(Le.key===null?Ae:Le.key),w=u(Le,w,Ae),Ye===null?he=Le:Ye.sibling=Le,Ye=Le);return e&&ue.forEach(function(zi){return t(E,zi)}),Be&&Vn(E,Ae),he}function _e(E,w,A,I){if(A==null)throw Error(a(151));for(var he=null,Ye=null,ue=w,Ae=w=0,Le=null,Ve=A.next();ue!==null&&!Ve.done;Ae++,Ve=A.next()){ue.index>Ae?(Le=ue,ue=null):Le=ue.sibling;var zi=M(E,ue,Ve.value,I);if(zi===null){ue===null&&(ue=Le);break}e&&ue&&zi.alternate===null&&t(E,ue),w=u(zi,w,Ae),Ye===null?he=zi:Ye.sibling=zi,Ye=zi,ue=Le}if(Ve.done)return i(E,ue),Be&&Vn(E,Ae),he;if(ue===null){for(;!Ve.done;Ae++,Ve=A.next())Ve=H(E,Ve.value,I),Ve!==null&&(w=u(Ve,w,Ae),Ye===null?he=Ve:Ye.sibling=Ve,Ye=Ve);return Be&&Vn(E,Ae),he}for(ue=r(ue);!Ve.done;Ae++,Ve=A.next())Ve=O(ue,E,Ae,Ve.value,I),Ve!==null&&(e&&Ve.alternate!==null&&ue.delete(Ve.key===null?Ae:Ve.key),w=u(Ve,w,Ae),Ye===null?he=Ve:Ye.sibling=Ve,Ye=Ve);return e&&ue.forEach(function(x1){return t(E,x1)}),Be&&Vn(E,Ae),he}function et(E,w,A,I){if(typeof A=="object"&&A!==null&&A.type===G&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case N:e:{for(var he=A.key;w!==null;){if(w.key===he){if(he=A.type,he===G){if(w.tag===7){i(E,w.sibling),I=c(w,A.props.children),I.return=E,E=I;break e}}else if(w.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===$&&tl(he)===w.type){i(E,w.sibling),I=c(w,A.props),Xs(I,A),I.return=E,E=I;break e}i(E,w);break}else t(E,w);w=w.sibling}A.type===G?(I=Ki(A.props.children,E.mode,I,A.key),I.return=E,E=I):(I=_r(A.type,A.key,A.props,null,E.mode,I),Xs(I,A),I.return=E,E=I)}return m(E);case V:e:{for(he=A.key;w!==null;){if(w.key===he)if(w.tag===4&&w.stateNode.containerInfo===A.containerInfo&&w.stateNode.implementation===A.implementation){i(E,w.sibling),I=c(w,A.children||[]),I.return=E,E=I;break e}else{i(E,w);break}else t(E,w);w=w.sibling}I=Lc(A,E.mode,I),I.return=E,E=I}return m(E);case $:return A=tl(A),et(E,w,A,I)}if(it(A))return se(E,w,A,I);if(Qe(A)){if(he=Qe(A),typeof he!="function")throw Error(a(150));return A=he.call(A),_e(E,w,A,I)}if(typeof A.then=="function")return et(E,w,Er(A),I);if(A.$$typeof===P)return et(E,w,xr(E,A),I);Tr(E,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,w!==null&&w.tag===6?(i(E,w.sibling),I=c(w,A),I.return=E,E=I):(i(E,w),I=Uc(A,E.mode,I),I.return=E,E=I),m(E)):i(E,w)}return function(E,w,A,I){try{Ps=0;var he=et(E,w,A,I);return ql=null,he}catch(ue){if(ue===Gl||ue===wr)throw ue;var Ye=tn(29,ue,null,E.mode);return Ye.lanes=I,Ye.return=E,Ye}}}var il=um(!0),fm=um(!1),yi=!1;function Kc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _i(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vi(e,t,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Pe&2)!==0){var c=r.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),r.pending=t,t=yr(e),Fh(e,null,i),t}return gr(e,r,t,i),yr(e)}function Fs(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,nh(e,i)}}function $c(e,t){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var c=null,u=null;if(i=i.firstBaseUpdate,i!==null){do{var m={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};u===null?c=u=m:u=u.next=m,i=i.next}while(i!==null);u===null?c=u=t:u=u.next=t}else c=u=t;i={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:r.shared,callbacks:r.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Jc=!1;function Zs(){if(Jc){var e=Bl;if(e!==null)throw e}}function Ks(e,t,i,r){Jc=!1;var c=e.updateQueue;yi=!1;var u=c.firstBaseUpdate,m=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var S=_,R=S.next;S.next=null,m===null?u=R:m.next=R,m=S;var z=e.alternate;z!==null&&(z=z.updateQueue,_=z.lastBaseUpdate,_!==m&&(_===null?z.firstBaseUpdate=R:_.next=R,z.lastBaseUpdate=S))}if(u!==null){var H=c.baseState;m=0,z=R=S=null,_=u;do{var M=_.lane&-536870913,O=M!==_.lane;if(O?(Ue&M)===M:(r&M)===M){M!==0&&M===Hl&&(Jc=!0),z!==null&&(z=z.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var se=e,_e=_;M=t;var et=i;switch(_e.tag){case 1:if(se=_e.payload,typeof se=="function"){H=se.call(et,H,M);break e}H=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=_e.payload,M=typeof se=="function"?se.call(et,H,M):se,M==null)break e;H=v({},H,M);break e;case 2:yi=!0}}M=_.callback,M!==null&&(e.flags|=64,O&&(e.flags|=8192),O=c.callbacks,O===null?c.callbacks=[M]:O.push(M))}else O={lane:M,tag:_.tag,payload:_.payload,callback:_.callback,next:null},z===null?(R=z=O,S=H):z=z.next=O,m|=M;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;O=_,_=O.next,O.next=null,c.lastBaseUpdate=O,c.shared.pending=null}}while(!0);z===null&&(S=H),c.baseState=S,c.firstBaseUpdate=R,c.lastBaseUpdate=z,u===null&&(c.shared.lanes=0),Ci|=m,e.lanes=m,e.memoizedState=H}}function dm(e,t){if(typeof e!="function")throw Error(a(191,e));e.call(t)}function hm(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)dm(i[e],t)}var Yl=C(null),Nr=C(0);function mm(e,t){e=ti,F(Nr,e),F(Yl,t),ti=e|t.baseLanes}function eu(){F(Nr,ti),F(Yl,Yl.current)}function tu(){ti=Nr.current,U(Yl),U(Nr)}var nn=C(null),yn=null;function bi(e){var t=e.alternate;F(pt,pt.current&1),F(nn,e),yn===null&&(t===null||Yl.current!==null||t.memoizedState!==null)&&(yn=e)}function nu(e){F(pt,pt.current),F(nn,e),yn===null&&(yn=e)}function pm(e){e.tag===22?(F(pt,pt.current),F(nn,e),yn===null&&(yn=e)):xi()}function xi(){F(pt,pt.current),F(nn,nn.current)}function ln(e){U(nn),yn===e&&(yn=null),U(pt)}var pt=C(0);function Ar(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||cf(i)||uf(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xn=0,Te=null,$e=null,vt=null,Rr=!1,Vl=!1,ll=!1,Mr=0,Ws=0,Ql=null,fb=0;function ht(){throw Error(a(321))}function iu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!en(e[i],t[i]))return!1;return!0}function lu(e,t,i,r,c,u){return Xn=u,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?$m:vu,ll=!1,u=i(r,c),ll=!1,Vl&&(u=ym(t,i,r,c)),gm(e),u}function gm(e){D.H=ea;var t=$e!==null&&$e.next!==null;if(Xn=0,vt=$e=Te=null,Rr=!1,Ws=0,Ql=null,t)throw Error(a(300));e===null||bt||(e=e.dependencies,e!==null&&br(e)&&(bt=!0))}function ym(e,t,i,r){Te=e;var c=0;do{if(Vl&&(Ql=null),Ws=0,Vl=!1,25<=c)throw Error(a(301));if(c+=1,vt=$e=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}D.H=Jm,u=t(i,r)}while(Vl);return u}function db(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?$s(t):t,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(Te.flags|=1024),t}function su(){var e=Mr!==0;return Mr=0,e}function au(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function ru(e){if(Rr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Rr=!1}Xn=0,vt=$e=Te=null,Vl=!1,Ws=Mr=0,Ql=null}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Te.memoizedState=vt=e:vt=vt.next=e,vt}function gt(){if($e===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=vt===null?Te.memoizedState:vt.next;if(t!==null)vt=t,$e=e;else{if(e===null)throw Te.alternate===null?Error(a(467)):Error(a(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},vt===null?Te.memoizedState=vt=e:vt=vt.next=e}return vt}function Or(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $s(e){var t=Ws;return Ws+=1,Ql===null&&(Ql=[]),e=rm(Ql,e,t),t=Te,(vt===null?t.memoizedState:vt.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?$m:vu),e}function Dr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $s(e);if(e.$$typeof===P)return It(e)}throw Error(a(438,String(e)))}function ou(e){var t=null,i=Te.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var r=Te.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Or(),Te.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),r=0;r<e;r++)i[r]=Re;return t.index++,i}function Fn(e,t){return typeof t=="function"?t(e):t}function jr(e){var t=gt();return cu(t,$e,e)}function cu(e,t,i){var r=e.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=i;var c=e.baseQueue,u=r.pending;if(u!==null){if(c!==null){var m=c.next;c.next=u.next,u.next=m}t.baseQueue=c=u,r.pending=null}if(u=e.baseState,c===null)e.memoizedState=u;else{t=c.next;var _=m=null,S=null,R=t,z=!1;do{var H=R.lane&-536870913;if(H!==R.lane?(Ue&H)===H:(Xn&H)===H){var M=R.revertLane;if(M===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),H===Hl&&(z=!0);else if((Xn&M)===M){R=R.next,M===Hl&&(z=!0);continue}else H={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(_=S=H,m=u):S=S.next=H,Te.lanes|=M,Ci|=M;H=R.action,ll&&i(u,H),u=R.hasEagerState?R.eagerState:i(u,H)}else M={lane:H,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(_=S=M,m=u):S=S.next=M,Te.lanes|=H,Ci|=H;R=R.next}while(R!==null&&R!==t);if(S===null?m=u:S.next=_,!en(u,e.memoizedState)&&(bt=!0,z&&(i=Bl,i!==null)))throw i;e.memoizedState=u,e.baseState=m,e.baseQueue=S,r.lastRenderedState=u}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function uu(e){var t=gt(),i=t.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var r=i.dispatch,c=i.pending,u=t.memoizedState;if(c!==null){i.pending=null;var m=c=c.next;do u=e(u,m.action),m=m.next;while(m!==c);en(u,t.memoizedState)||(bt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),i.lastRenderedState=u}return[u,r]}function _m(e,t,i){var r=Te,c=gt(),u=Be;if(u){if(i===void 0)throw Error(a(407));i=i()}else i=t();var m=!en(($e||c).memoizedState,i);if(m&&(c.memoizedState=i,bt=!0),c=c.queue,hu(xm.bind(null,r,c,e),[e]),c.getSnapshot!==t||m||vt!==null&&vt.memoizedState.tag&1){if(r.flags|=2048,Pl(9,{destroy:void 0},bm.bind(null,r,c,i,t),null),tt===null)throw Error(a(349));u||(Xn&127)!==0||vm(r,t,i)}return i}function vm(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Te.updateQueue,t===null?(t=Or(),Te.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function bm(e,t,i,r){t.value=i,t.getSnapshot=r,Sm(t)&&wm(e)}function xm(e,t,i){return i(function(){Sm(t)&&wm(e)})}function Sm(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!en(e,i)}catch{return!0}}function wm(e){var t=Zi(e,2);t!==null&&Kt(t,e,2)}function fu(e){var t=Gt();if(typeof e=="function"){var i=e;if(e=i(),ll){Mn(!0);try{i()}finally{Mn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:e},t}function Cm(e,t,i,r){return e.baseState=i,cu(e,$e,typeof r=="function"?r:Fn)}function hb(e,t,i,r,c){if(Ir(e))throw Error(a(485));if(e=t.action,e!==null){var u={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};D.T!==null?i(!0):u.isTransition=!1,r(u),i=t.pending,i===null?(u.next=t.pending=u,Em(t,u)):(u.next=i.next,t.pending=i.next=u)}}function Em(e,t){var i=t.action,r=t.payload,c=e.state;if(t.isTransition){var u=D.T,m={};D.T=m;try{var _=i(c,r),S=D.S;S!==null&&S(m,_),Tm(e,t,_)}catch(R){du(e,t,R)}finally{u!==null&&m.types!==null&&(u.types=m.types),D.T=u}}else try{u=i(c,r),Tm(e,t,u)}catch(R){du(e,t,R)}}function Tm(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){Nm(e,t,r)},function(r){return du(e,t,r)}):Nm(e,t,i)}function Nm(e,t,i){t.status="fulfilled",t.value=i,Am(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Em(e,i)))}function du(e,t,i){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=i,Am(t),t=t.next;while(t!==r)}e.action=null}function Am(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Rm(e,t){return t}function Mm(e,t){if(Be){var i=tt.formState;if(i!==null){e:{var r=Te;if(Be){if(rt){t:{for(var c=rt,u=gn;c.nodeType!==8;){if(!u){c=null;break t}if(c=_n(c.nextSibling),c===null){c=null;break t}}u=c.data,c=u==="F!"||u==="F"?c:null}if(c){rt=_n(c.nextSibling),r=c.data==="F!";break e}}pi(r)}r=!1}r&&(t=i[0])}}return i=Gt(),i.memoizedState=i.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rm,lastRenderedState:t},i.queue=r,i=Zm.bind(null,Te,r),r.dispatch=i,r=fu(!1),u=_u.bind(null,Te,!1,r.queue),r=Gt(),c={state:t,dispatch:null,action:e,pending:null},r.queue=c,i=hb.bind(null,Te,c,u,i),c.dispatch=i,r.memoizedState=e,[t,i,!1]}function Om(e){var t=gt();return Dm(t,$e,e)}function Dm(e,t,i){if(t=cu(e,t,Rm)[0],e=jr(Fn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=$s(t)}catch(m){throw m===Gl?wr:m}else r=t;t=gt();var c=t.queue,u=c.dispatch;return i!==t.memoizedState&&(Te.flags|=2048,Pl(9,{destroy:void 0},mb.bind(null,c,i),null)),[r,u,e]}function mb(e,t){e.action=t}function jm(e){var t=gt(),i=$e;if(i!==null)return Dm(t,i,e);gt(),t=t.memoizedState,i=gt();var r=i.queue.dispatch;return i.memoizedState=e,[t,r,!1]}function Pl(e,t,i,r){return e={tag:e,create:i,deps:r,inst:t,next:null},t=Te.updateQueue,t===null&&(t=Or(),Te.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e),e}function zm(){return gt().memoizedState}function zr(e,t,i,r){var c=Gt();Te.flags|=e,c.memoizedState=Pl(1|t,{destroy:void 0},i,r===void 0?null:r)}function kr(e,t,i,r){var c=gt();r=r===void 0?null:r;var u=c.memoizedState.inst;$e!==null&&r!==null&&iu(r,$e.memoizedState.deps)?c.memoizedState=Pl(t,u,i,r):(Te.flags|=e,c.memoizedState=Pl(1|t,u,i,r))}function km(e,t){zr(8390656,8,e,t)}function hu(e,t){kr(2048,8,e,t)}function pb(e){Te.flags|=4;var t=Te.updateQueue;if(t===null)t=Or(),Te.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Im(e){var t=gt().memoizedState;return pb({ref:t,nextImpl:e}),function(){if((Pe&2)!==0)throw Error(a(440));return t.impl.apply(void 0,arguments)}}function Um(e,t){return kr(4,2,e,t)}function Lm(e,t){return kr(4,4,e,t)}function Hm(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bm(e,t,i){i=i!=null?i.concat([e]):null,kr(4,4,Hm.bind(null,t,e),i)}function mu(){}function Gm(e,t){var i=gt();t=t===void 0?null:t;var r=i.memoizedState;return t!==null&&iu(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function qm(e,t){var i=gt();t=t===void 0?null:t;var r=i.memoizedState;if(t!==null&&iu(t,r[1]))return r[0];if(r=e(),ll){Mn(!0);try{e()}finally{Mn(!1)}}return i.memoizedState=[r,t],r}function pu(e,t,i){return i===void 0||(Xn&1073741824)!==0&&(Ue&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=Yp(),Te.lanes|=e,Ci|=e,i)}function Ym(e,t,i,r){return en(i,t)?i:Yl.current!==null?(e=pu(e,i,r),en(e,t)||(bt=!0),e):(Xn&42)===0||(Xn&1073741824)!==0&&(Ue&261930)===0?(bt=!0,e.memoizedState=i):(e=Yp(),Te.lanes|=e,Ci|=e,t)}function Vm(e,t,i,r,c){var u=Z.p;Z.p=u!==0&&8>u?u:8;var m=D.T,_={};D.T=_,_u(e,!1,t,i);try{var S=c(),R=D.S;if(R!==null&&R(_,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var z=ub(S,r);Js(e,t,z,rn(e))}else Js(e,t,r,rn(e))}catch(H){Js(e,t,{then:function(){},status:"rejected",reason:H},rn())}finally{Z.p=u,m!==null&&_.types!==null&&(m.types=_.types),D.T=m}}function gb(){}function gu(e,t,i,r){if(e.tag!==5)throw Error(a(476));var c=Qm(e).queue;Vm(e,c,t,T,i===null?gb:function(){return Pm(e),i(r)})}function Qm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:T,baseState:T,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:T},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Pm(e){var t=Qm(e);t.next===null&&(t=e.alternate.memoizedState),Js(e,t.next.queue,{},rn())}function yu(){return It(ga)}function Xm(){return gt().memoizedState}function Fm(){return gt().memoizedState}function yb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=rn();e=_i(i);var r=vi(t,e,i);r!==null&&(Kt(r,t,i),Fs(r,t,i)),t={cache:Pc()},e.payload=t;return}t=t.return}}function _b(e,t,i){var r=rn();i={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Ir(e)?Km(t,i):(i=kc(e,t,i,r),i!==null&&(Kt(i,e,r),Wm(i,t,r)))}function Zm(e,t,i){var r=rn();Js(e,t,i,r)}function Js(e,t,i,r){var c={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ir(e))Km(t,c);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,_=u(m,i);if(c.hasEagerState=!0,c.eagerState=_,en(_,m))return gr(e,t,c,0),tt===null&&pr(),!1}catch{}if(i=kc(e,t,c,r),i!==null)return Kt(i,e,r),Wm(i,t,r),!0}return!1}function _u(e,t,i,r){if(r={lane:2,revertLane:Ku(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ir(e)){if(t)throw Error(a(479))}else t=kc(e,i,r,2),t!==null&&Kt(t,e,2)}function Ir(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function Km(e,t){Vl=Rr=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Wm(e,t,i){if((i&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,i|=r,t.lanes=i,nh(e,i)}}var ea={readContext:It,use:Dr,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};ea.useEffectEvent=ht;var $m={readContext:It,use:Dr,useCallback:function(e,t){return Gt().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:km,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,zr(4194308,4,Hm.bind(null,t,e),i)},useLayoutEffect:function(e,t){return zr(4194308,4,e,t)},useInsertionEffect:function(e,t){zr(4,2,e,t)},useMemo:function(e,t){var i=Gt();t=t===void 0?null:t;var r=e();if(ll){Mn(!0);try{e()}finally{Mn(!1)}}return i.memoizedState=[r,t],r},useReducer:function(e,t,i){var r=Gt();if(i!==void 0){var c=i(t);if(ll){Mn(!0);try{i(t)}finally{Mn(!1)}}}else c=t;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=_b.bind(null,Te,e),[r.memoizedState,e]},useRef:function(e){var t=Gt();return e={current:e},t.memoizedState=e},useState:function(e){e=fu(e);var t=e.queue,i=Zm.bind(null,Te,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:mu,useDeferredValue:function(e,t){var i=Gt();return pu(i,e,t)},useTransition:function(){var e=fu(!1);return e=Vm.bind(null,Te,e.queue,!0,!1),Gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var r=Te,c=Gt();if(Be){if(i===void 0)throw Error(a(407));i=i()}else{if(i=t(),tt===null)throw Error(a(349));(Ue&127)!==0||vm(r,t,i)}c.memoizedState=i;var u={value:i,getSnapshot:t};return c.queue=u,km(xm.bind(null,r,u,e),[e]),r.flags|=2048,Pl(9,{destroy:void 0},bm.bind(null,r,u,i,t),null),i},useId:function(){var e=Gt(),t=tt.identifierPrefix;if(Be){var i=Dn,r=On;i=(r&~(1<<32-Jt(r)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Mr++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=fb++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:yu,useFormState:Mm,useActionState:Mm,useOptimistic:function(e){var t=Gt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=_u.bind(null,Te,!0,i),i.dispatch=t,[e,t]},useMemoCache:ou,useCacheRefresh:function(){return Gt().memoizedState=yb.bind(null,Te)},useEffectEvent:function(e){var t=Gt(),i={impl:e};return t.memoizedState=i,function(){if((Pe&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}},vu={readContext:It,use:Dr,useCallback:Gm,useContext:It,useEffect:hu,useImperativeHandle:Bm,useInsertionEffect:Um,useLayoutEffect:Lm,useMemo:qm,useReducer:jr,useRef:zm,useState:function(){return jr(Fn)},useDebugValue:mu,useDeferredValue:function(e,t){var i=gt();return Ym(i,$e.memoizedState,e,t)},useTransition:function(){var e=jr(Fn)[0],t=gt().memoizedState;return[typeof e=="boolean"?e:$s(e),t]},useSyncExternalStore:_m,useId:Xm,useHostTransitionStatus:yu,useFormState:Om,useActionState:Om,useOptimistic:function(e,t){var i=gt();return Cm(i,$e,e,t)},useMemoCache:ou,useCacheRefresh:Fm};vu.useEffectEvent=Im;var Jm={readContext:It,use:Dr,useCallback:Gm,useContext:It,useEffect:hu,useImperativeHandle:Bm,useInsertionEffect:Um,useLayoutEffect:Lm,useMemo:qm,useReducer:uu,useRef:zm,useState:function(){return uu(Fn)},useDebugValue:mu,useDeferredValue:function(e,t){var i=gt();return $e===null?pu(i,e,t):Ym(i,$e.memoizedState,e,t)},useTransition:function(){var e=uu(Fn)[0],t=gt().memoizedState;return[typeof e=="boolean"?e:$s(e),t]},useSyncExternalStore:_m,useId:Xm,useHostTransitionStatus:yu,useFormState:jm,useActionState:jm,useOptimistic:function(e,t){var i=gt();return $e!==null?Cm(i,$e,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:ou,useCacheRefresh:Fm};Jm.useEffectEvent=Im;function bu(e,t,i,r){t=e.memoizedState,i=i(r,t),i=i==null?t:v({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var xu={enqueueSetState:function(e,t,i){e=e._reactInternals;var r=rn(),c=_i(r);c.payload=t,i!=null&&(c.callback=i),t=vi(e,c,r),t!==null&&(Kt(t,e,r),Fs(t,e,r))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=rn(),c=_i(r);c.tag=1,c.payload=t,i!=null&&(c.callback=i),t=vi(e,c,r),t!==null&&(Kt(t,e,r),Fs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=rn(),r=_i(i);r.tag=2,t!=null&&(r.callback=t),t=vi(e,r,i),t!==null&&(Kt(t,e,i),Fs(t,e,i))}};function ep(e,t,i,r,c,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,m):t.prototype&&t.prototype.isPureReactComponent?!Bs(i,r)||!Bs(c,u):!0}function tp(e,t,i,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&xu.enqueueReplaceState(t,t.state,null)}function sl(e,t){var i=t;if("ref"in t){i={};for(var r in t)r!=="ref"&&(i[r]=t[r])}if(e=e.defaultProps){i===t&&(i=v({},i));for(var c in e)i[c]===void 0&&(i[c]=e[c])}return i}function np(e){mr(e)}function ip(e){console.error(e)}function lp(e){mr(e)}function Ur(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function sp(e,t,i){try{var r=e.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Su(e,t,i){return i=_i(i),i.tag=3,i.payload={element:null},i.callback=function(){Ur(e,t)},i}function ap(e){return e=_i(e),e.tag=3,e}function rp(e,t,i,r){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var u=r.value;e.payload=function(){return c(u)},e.callback=function(){sp(t,i,r)}}var m=i.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){sp(t,i,r),typeof c!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})})}function vb(e,t,i,r,c){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=i.alternate,t!==null&&Ll(t,i,c,!0),i=nn.current,i!==null){switch(i.tag){case 31:case 13:return yn===null?Zr():i.alternate===null&&mt===0&&(mt=3),i.flags&=-257,i.flags|=65536,i.lanes=c,r===Cr?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([r]):t.add(r),Xu(e,r,c)),!1;case 22:return i.flags|=65536,r===Cr?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([r]):i.add(r)),Xu(e,r,c)),!1}throw Error(a(435,i.tag))}return Xu(e,r,c),Zr(),!1}if(Be)return t=nn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,r!==Gc&&(e=Error(a(422),{cause:r}),Ys(hn(e,i)))):(r!==Gc&&(t=Error(a(423),{cause:r}),Ys(hn(t,i))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=hn(r,i),c=Su(e.stateNode,r,c),$c(e,c),mt!==4&&(mt=2)),!1;var u=Error(a(520),{cause:r});if(u=hn(u,i),oa===null?oa=[u]:oa.push(u),mt!==4&&(mt=2),t===null)return!0;r=hn(r,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=c&-c,i.lanes|=e,e=Su(i.stateNode,r,e),$c(i,e),!1;case 1:if(t=i.type,u=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Ei===null||!Ei.has(u))))return i.flags|=65536,c&=-c,i.lanes|=c,c=ap(c),rp(c,e,i,r),$c(i,c),!1}i=i.return}while(i!==null);return!1}var wu=Error(a(461)),bt=!1;function Ut(e,t,i,r){t.child=e===null?fm(t,null,i,r):il(t,e.child,i,r)}function op(e,t,i,r,c){i=i.render;var u=t.ref;if("ref"in r){var m={};for(var _ in r)_!=="ref"&&(m[_]=r[_])}else m=r;return Ji(t),r=lu(e,t,i,m,u,c),_=su(),e!==null&&!bt?(au(e,t,c),Zn(e,t,c)):(Be&&_&&Hc(t),t.flags|=1,Ut(e,t,r,c),t.child)}function cp(e,t,i,r,c){if(e===null){var u=i.type;return typeof u=="function"&&!Ic(u)&&u.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=u,up(e,t,u,r,c)):(e=_r(i.type,null,r,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Ou(e,c)){var m=u.memoizedProps;if(i=i.compare,i=i!==null?i:Bs,i(m,r)&&e.ref===t.ref)return Zn(e,t,c)}return t.flags|=1,e=Yn(u,r),e.ref=t.ref,e.return=t,t.child=e}function up(e,t,i,r,c){if(e!==null){var u=e.memoizedProps;if(Bs(u,r)&&e.ref===t.ref)if(bt=!1,t.pendingProps=r=u,Ou(e,c))(e.flags&131072)!==0&&(bt=!0);else return t.lanes=e.lanes,Zn(e,t,c)}return Cu(e,t,i,r,c)}function fp(e,t,i,r){var c=r.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|i:i,e!==null){for(r=t.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~u}else r=0,t.child=null;return dp(e,t,u,i,r)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Sr(t,u!==null?u.cachePool:null),u!==null?mm(t,u):eu(),pm(t);else return r=t.lanes=536870912,dp(e,t,u!==null?u.baseLanes|i:i,i,r)}else u!==null?(Sr(t,u.cachePool),mm(t,u),xi(),t.memoizedState=null):(e!==null&&Sr(t,null),eu(),xi());return Ut(e,t,c,i),t.child}function ta(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function dp(e,t,i,r,c){var u=Fc();return u=u===null?null:{parent:_t._currentValue,pool:u},t.memoizedState={baseLanes:i,cachePool:u},e!==null&&Sr(t,null),eu(),pm(t),e!==null&&Ll(e,t,r,!0),t.childLanes=c,null}function Lr(e,t){return t=Br({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function hp(e,t,i){return il(t,e.child,null,i),e=Lr(t,t.pendingProps),e.flags|=2,ln(t),t.memoizedState=null,e}function bb(e,t,i){var r=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Be){if(r.mode==="hidden")return e=Lr(t,r),t.lanes=536870912,ta(null,e);if(nu(t),(e=rt)?(e=Eg(e,gn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:hi!==null?{id:On,overflow:Dn}:null,retryLane:536870912,hydrationErrors:null},i=Kh(e),i.return=t,t.child=i,kt=t,rt=null)):e=null,e===null)throw pi(t);return t.lanes=536870912,null}return Lr(t,r)}var u=e.memoizedState;if(u!==null){var m=u.dehydrated;if(nu(t),c)if(t.flags&256)t.flags&=-257,t=hp(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(a(558));else if(bt||Ll(e,t,i,!1),c=(i&e.childLanes)!==0,bt||c){if(r=tt,r!==null&&(m=ih(r,i),m!==0&&m!==u.retryLane))throw u.retryLane=m,Zi(e,m),Kt(r,e,m),wu;Zr(),t=hp(e,t,i)}else e=u.treeContext,rt=_n(m.nextSibling),kt=t,Be=!0,mi=null,gn=!1,e!==null&&Jh(t,e),t=Lr(t,r),t.flags|=4096;return t}return e=Yn(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Hr(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Cu(e,t,i,r,c){return Ji(t),i=lu(e,t,i,r,void 0,c),r=su(),e!==null&&!bt?(au(e,t,c),Zn(e,t,c)):(Be&&r&&Hc(t),t.flags|=1,Ut(e,t,i,c),t.child)}function mp(e,t,i,r,c,u){return Ji(t),t.updateQueue=null,i=ym(t,r,i,c),gm(e),r=su(),e!==null&&!bt?(au(e,t,u),Zn(e,t,u)):(Be&&r&&Hc(t),t.flags|=1,Ut(e,t,i,u),t.child)}function pp(e,t,i,r,c){if(Ji(t),t.stateNode===null){var u=zl,m=i.contextType;typeof m=="object"&&m!==null&&(u=It(m)),u=new i(r,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=xu,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=r,u.state=t.memoizedState,u.refs={},Kc(t),m=i.contextType,u.context=typeof m=="object"&&m!==null?It(m):zl,u.state=t.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(bu(t,i,m,r),u.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&xu.enqueueReplaceState(u,u.state,null),Ks(t,r,u,c),Zs(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){u=t.stateNode;var _=t.memoizedProps,S=sl(i,_);u.props=S;var R=u.context,z=i.contextType;m=zl,typeof z=="object"&&z!==null&&(m=It(z));var H=i.getDerivedStateFromProps;z=typeof H=="function"||typeof u.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,z||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(_||R!==m)&&tp(t,u,r,m),yi=!1;var M=t.memoizedState;u.state=M,Ks(t,r,u,c),Zs(),R=t.memoizedState,_||M!==R||yi?(typeof H=="function"&&(bu(t,i,H,r),R=t.memoizedState),(S=yi||ep(t,i,S,r,M,R,m))?(z||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=R),u.props=r,u.state=R,u.context=m,r=S):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,Wc(e,t),m=t.memoizedProps,z=sl(i,m),u.props=z,H=t.pendingProps,M=u.context,R=i.contextType,S=zl,typeof R=="object"&&R!==null&&(S=It(R)),_=i.getDerivedStateFromProps,(R=typeof _=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==H||M!==S)&&tp(t,u,r,S),yi=!1,M=t.memoizedState,u.state=M,Ks(t,r,u,c),Zs();var O=t.memoizedState;m!==H||M!==O||yi||e!==null&&e.dependencies!==null&&br(e.dependencies)?(typeof _=="function"&&(bu(t,i,_,r),O=t.memoizedState),(z=yi||ep(t,i,z,r,M,O,S)||e!==null&&e.dependencies!==null&&br(e.dependencies))?(R||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,O,S),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,O,S)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=O),u.props=r,u.state=O,u.context=S,r=z):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),r=!1)}return u=r,Hr(e,t),r=(t.flags&128)!==0,u||r?(u=t.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&r?(t.child=il(t,e.child,null,c),t.child=il(t,null,i,c)):Ut(e,t,i,c),t.memoizedState=u.state,e=t.child):e=Zn(e,t,c),e}function gp(e,t,i,r){return Wi(),t.flags|=256,Ut(e,t,i,r),t.child}var Eu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tu(e){return{baseLanes:e,cachePool:sm()}}function Nu(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=an),e}function yp(e,t,i){var r=t.pendingProps,c=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(pt.current&2)!==0),m&&(c=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Be){if(c?bi(t):xi(),(e=rt)?(e=Eg(e,gn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:hi!==null?{id:On,overflow:Dn}:null,retryLane:536870912,hydrationErrors:null},i=Kh(e),i.return=t,t.child=i,kt=t,rt=null)):e=null,e===null)throw pi(t);return uf(e)?t.lanes=32:t.lanes=536870912,null}var _=r.children;return r=r.fallback,c?(xi(),c=t.mode,_=Br({mode:"hidden",children:_},c),r=Ki(r,c,i,null),_.return=t,r.return=t,_.sibling=r,t.child=_,r=t.child,r.memoizedState=Tu(i),r.childLanes=Nu(e,m,i),t.memoizedState=Eu,ta(null,r)):(bi(t),Au(t,_))}var S=e.memoizedState;if(S!==null&&(_=S.dehydrated,_!==null)){if(u)t.flags&256?(bi(t),t.flags&=-257,t=Ru(e,t,i)):t.memoizedState!==null?(xi(),t.child=e.child,t.flags|=128,t=null):(xi(),_=r.fallback,c=t.mode,r=Br({mode:"visible",children:r.children},c),_=Ki(_,c,i,null),_.flags|=2,r.return=t,_.return=t,r.sibling=_,t.child=r,il(t,e.child,null,i),r=t.child,r.memoizedState=Tu(i),r.childLanes=Nu(e,m,i),t.memoizedState=Eu,t=ta(null,r));else if(bi(t),uf(_)){if(m=_.nextSibling&&_.nextSibling.dataset,m)var R=m.dgst;m=R,r=Error(a(419)),r.stack="",r.digest=m,Ys({value:r,source:null,stack:null}),t=Ru(e,t,i)}else if(bt||Ll(e,t,i,!1),m=(i&e.childLanes)!==0,bt||m){if(m=tt,m!==null&&(r=ih(m,i),r!==0&&r!==S.retryLane))throw S.retryLane=r,Zi(e,r),Kt(m,e,r),wu;cf(_)||Zr(),t=Ru(e,t,i)}else cf(_)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,rt=_n(_.nextSibling),kt=t,Be=!0,mi=null,gn=!1,e!==null&&Jh(t,e),t=Au(t,r.children),t.flags|=4096);return t}return c?(xi(),_=r.fallback,c=t.mode,S=e.child,R=S.sibling,r=Yn(S,{mode:"hidden",children:r.children}),r.subtreeFlags=S.subtreeFlags&65011712,R!==null?_=Yn(R,_):(_=Ki(_,c,i,null),_.flags|=2),_.return=t,r.return=t,r.sibling=_,t.child=r,ta(null,r),r=t.child,_=e.child.memoizedState,_===null?_=Tu(i):(c=_.cachePool,c!==null?(S=_t._currentValue,c=c.parent!==S?{parent:S,pool:S}:c):c=sm(),_={baseLanes:_.baseLanes|i,cachePool:c}),r.memoizedState=_,r.childLanes=Nu(e,m,i),t.memoizedState=Eu,ta(e.child,r)):(bi(t),i=e.child,e=i.sibling,i=Yn(i,{mode:"visible",children:r.children}),i.return=t,i.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=i,t.memoizedState=null,i)}function Au(e,t){return t=Br({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Br(e,t){return e=tn(22,e,null,t),e.lanes=0,e}function Ru(e,t,i){return il(t,e.child,null,i),e=Au(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _p(e,t,i){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Vc(e.return,t,i)}function Mu(e,t,i,r,c,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:c,treeForkCount:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=r,m.tail=i,m.tailMode=c,m.treeForkCount=u)}function vp(e,t,i){var r=t.pendingProps,c=r.revealOrder,u=r.tail;r=r.children;var m=pt.current,_=(m&2)!==0;if(_?(m=m&1|2,t.flags|=128):m&=1,F(pt,m),Ut(e,t,r,i),r=Be?qs:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_p(e,i,t);else if(e.tag===19)_p(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&Ar(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),Mu(t,!1,c,i,u,r);break;case"backwards":case"unstable_legacy-backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Ar(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Mu(t,!0,i,null,u,r);break;case"together":Mu(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Zn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Ci|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Ll(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,i=Yn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Yn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Ou(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&br(e)))}function xb(e,t,i){switch(t.tag){case 3:ct(t,t.stateNode.containerInfo),gi(t,_t,e.memoizedState.cache),Wi();break;case 27:case 5:on(t);break;case 4:ct(t,t.stateNode.containerInfo);break;case 10:gi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,nu(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(bi(t),t.flags|=128,null):(i&t.child.childLanes)!==0?yp(e,t,i):(bi(t),e=Zn(e,t,i),e!==null?e.sibling:null);bi(t);break;case 19:var c=(e.flags&128)!==0;if(r=(i&t.childLanes)!==0,r||(Ll(e,t,i,!1),r=(i&t.childLanes)!==0),c){if(r)return vp(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),F(pt,pt.current),r)break;return null;case 22:return t.lanes=0,fp(e,t,i,t.pendingProps);case 24:gi(t,_t,e.memoizedState.cache)}return Zn(e,t,i)}function bp(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)bt=!0;else{if(!Ou(e,i)&&(t.flags&128)===0)return bt=!1,xb(e,t,i);bt=(e.flags&131072)!==0}else bt=!1,Be&&(t.flags&1048576)!==0&&$h(t,qs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=tl(t.elementType),t.type=e,typeof e=="function")Ic(e)?(r=sl(e,r),t.tag=1,t=pp(null,t,e,r,i)):(t.tag=0,t=Cu(null,t,e,r,i));else{if(e!=null){var c=e.$$typeof;if(c===Se){t.tag=11,t=op(null,t,e,r,i);break e}else if(c===de){t.tag=14,t=cp(null,t,e,r,i);break e}}throw t=at(e)||e,Error(a(306,t,""))}}return t;case 0:return Cu(e,t,t.type,t.pendingProps,i);case 1:return r=t.type,c=sl(r,t.pendingProps),pp(e,t,r,c,i);case 3:e:{if(ct(t,t.stateNode.containerInfo),e===null)throw Error(a(387));r=t.pendingProps;var u=t.memoizedState;c=u.element,Wc(e,t),Ks(t,r,null,i);var m=t.memoizedState;if(r=m.cache,gi(t,_t,r),r!==u.cache&&Qc(t,[_t],i,!0),Zs(),r=m.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=gp(e,t,r,i);break e}else if(r!==c){c=hn(Error(a(424)),t),Ys(c),t=gp(e,t,r,i);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,rt=_n(e.firstChild),kt=t,Be=!0,mi=null,gn=!0,i=fm(t,null,r,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Wi(),r===c){t=Zn(e,t,i);break e}Ut(e,t,r,i)}t=t.child}return t;case 26:return Hr(e,t),e===null?(i=Og(t.type,null,t.pendingProps,null))?t.memoizedState=i:Be||(i=t.type,e=t.pendingProps,r=no(Ee.current).createElement(i),r[zt]=t,r[Vt]=e,Lt(r,i,e),Tt(r),t.stateNode=r):t.memoizedState=Og(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return on(t),e===null&&Be&&(r=t.stateNode=Ag(t.type,t.pendingProps,Ee.current),kt=t,gn=!0,c=rt,Ri(t.type)?(ff=c,rt=_n(r.firstChild)):rt=c),Ut(e,t,t.pendingProps.children,i),Hr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Be&&((c=r=rt)&&(r=Wb(r,t.type,t.pendingProps,gn),r!==null?(t.stateNode=r,kt=t,rt=_n(r.firstChild),gn=!1,c=!0):c=!1),c||pi(t)),on(t),c=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,r=u.children,af(c,u)?r=null:m!==null&&af(c,m)&&(t.flags|=32),t.memoizedState!==null&&(c=lu(e,t,db,null,null,i),ga._currentValue=c),Hr(e,t),Ut(e,t,r,i),t.child;case 6:return e===null&&Be&&((e=i=rt)&&(i=$b(i,t.pendingProps,gn),i!==null?(t.stateNode=i,kt=t,rt=null,e=!0):e=!1),e||pi(t)),null;case 13:return yp(e,t,i);case 4:return ct(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=il(t,null,r,i):Ut(e,t,r,i),t.child;case 11:return op(e,t,t.type,t.pendingProps,i);case 7:return Ut(e,t,t.pendingProps,i),t.child;case 8:return Ut(e,t,t.pendingProps.children,i),t.child;case 12:return Ut(e,t,t.pendingProps.children,i),t.child;case 10:return r=t.pendingProps,gi(t,t.type,r.value),Ut(e,t,r.children,i),t.child;case 9:return c=t.type._context,r=t.pendingProps.children,Ji(t),c=It(c),r=r(c),t.flags|=1,Ut(e,t,r,i),t.child;case 14:return cp(e,t,t.type,t.pendingProps,i);case 15:return up(e,t,t.type,t.pendingProps,i);case 19:return vp(e,t,i);case 31:return bb(e,t,i);case 22:return fp(e,t,i,t.pendingProps);case 24:return Ji(t),r=It(_t),e===null?(c=Fc(),c===null&&(c=tt,u=Pc(),c.pooledCache=u,u.refCount++,u!==null&&(c.pooledCacheLanes|=i),c=u),t.memoizedState={parent:r,cache:c},Kc(t),gi(t,_t,c)):((e.lanes&i)!==0&&(Wc(e,t),Ks(t,null,null,i),Zs()),c=e.memoizedState,u=t.memoizedState,c.parent!==r?(c={parent:r,cache:r},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),gi(t,_t,r)):(r=u.cache,gi(t,_t,r),r!==c.cache&&Qc(t,[_t],i,!0))),Ut(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Kn(e){e.flags|=4}function Du(e,t,i,r,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Xp())e.flags|=8192;else throw nl=Cr,Zc}else e.flags&=-16777217}function xp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ig(t))if(Xp())e.flags|=8192;else throw nl=Cr,Zc}function Gr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?eh():536870912,e.lanes|=t,Kl|=t)}function na(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function Sb(e,t,i){var r=t.pendingProps;switch(Bc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return ot(t),null;case 3:return i=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Pn(_t),We(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ul(t)?Kn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,qc())),ot(t),null;case 26:var c=t.type,u=t.memoizedState;return e===null?(Kn(t),u!==null?(ot(t),xp(t,u)):(ot(t),Du(t,c,null,r,i))):u?u!==e.memoizedState?(Kn(t),ot(t),xp(t,u)):(ot(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&Kn(t),ot(t),Du(t,c,e,r,i)),null;case 27:if(Yt(t),i=Ee.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Kn(t);else{if(!r){if(t.stateNode===null)throw Error(a(166));return ot(t),null}e=te.current,Ul(t)?em(t):(e=Ag(c,r,i),t.stateNode=e,Kn(t))}return ot(t),null;case 5:if(Yt(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Kn(t);else{if(!r){if(t.stateNode===null)throw Error(a(166));return ot(t),null}if(u=te.current,Ul(t))em(t);else{var m=no(Ee.current);switch(u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof r.is=="string"?m.createElement("select",{is:r.is}):m.createElement("select"),r.multiple?u.multiple=!0:r.size&&(u.size=r.size);break;default:u=typeof r.is=="string"?m.createElement(c,{is:r.is}):m.createElement(c)}}u[zt]=t,u[Vt]=r;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=u;e:switch(Lt(u,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Kn(t)}}return ot(t),Du(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Kn(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(a(166));if(e=Ee.current,Ul(t)){if(e=t.stateNode,i=t.memoizedProps,r=null,c=kt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[zt]=t,e=!!(e.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||yg(e.nodeValue,i)),e||pi(t,!0)}else e=no(e).createTextNode(r),e[zt]=t,t.stateNode=e}return ot(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(r=Ul(t),i!==null){if(e===null){if(!r)throw Error(a(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[zt]=t}else Wi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ot(t),e=!1}else i=qc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(ln(t),t):(ln(t),null);if((t.flags&128)!==0)throw Error(a(558))}return ot(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ul(t),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[zt]=t}else Wi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ot(t),c=!1}else c=qc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(ln(t),t):(ln(t),null)}return ln(t),(t.flags&128)!==0?(t.lanes=i,t):(i=r!==null,e=e!==null&&e.memoizedState!==null,i&&(r=t.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==c&&(r.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Gr(t,t.updateQueue),ot(t),null);case 4:return We(),e===null&&ef(t.stateNode.containerInfo),ot(t),null;case 10:return Pn(t.type),ot(t),null;case 19:if(U(pt),r=t.memoizedState,r===null)return ot(t),null;if(c=(t.flags&128)!==0,u=r.rendering,u===null)if(c)na(r,!1);else{if(mt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Ar(e),u!==null){for(t.flags|=128,na(r,!1),e=u.updateQueue,t.updateQueue=e,Gr(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Zh(i,e),i=i.sibling;return F(pt,pt.current&1|2),Be&&Vn(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&X()>Pr&&(t.flags|=128,c=!0,na(r,!1),t.lanes=4194304)}else{if(!c)if(e=Ar(u),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Gr(t,e),na(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!Be)return ot(t),null}else 2*X()-r.renderingStartTime>Pr&&i!==536870912&&(t.flags|=128,c=!0,na(r,!1),t.lanes=4194304);r.isBackwards?(u.sibling=t.child,t.child=u):(e=r.last,e!==null?e.sibling=u:t.child=u,r.last=u)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=X(),e.sibling=null,i=pt.current,F(pt,c?i&1|2:i&1),Be&&Vn(t,r.treeForkCount),e):(ot(t),null);case 22:case 23:return ln(t),tu(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(i&536870912)!==0&&(t.flags&128)===0&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),i=t.updateQueue,i!==null&&Gr(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==i&&(t.flags|=2048),e!==null&&U(el),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Pn(_t),ot(t),null;case 25:return null;case 30:return null}throw Error(a(156,t.tag))}function wb(e,t){switch(Bc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pn(_t),We(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Yt(t),null;case 31:if(t.memoizedState!==null){if(ln(t),t.alternate===null)throw Error(a(340));Wi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ln(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));Wi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return U(pt),null;case 4:return We(),null;case 10:return Pn(t.type),null;case 22:case 23:return ln(t),tu(),e!==null&&U(el),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Pn(_t),null;case 25:return null;default:return null}}function Sp(e,t){switch(Bc(t),t.tag){case 3:Pn(_t),We();break;case 26:case 27:case 5:Yt(t);break;case 4:We();break;case 31:t.memoizedState!==null&&ln(t);break;case 13:ln(t);break;case 19:U(pt);break;case 10:Pn(t.type);break;case 22:case 23:ln(t),tu(),e!==null&&U(el);break;case 24:Pn(_t)}}function ia(e,t){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var c=r.next;i=c;do{if((i.tag&e)===e){r=void 0;var u=i.create,m=i.inst;r=u(),m.destroy=r}i=i.next}while(i!==c)}}catch(_){Ze(t,t.return,_)}}function Si(e,t,i){try{var r=t.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var u=c.next;r=u;do{if((r.tag&e)===e){var m=r.inst,_=m.destroy;if(_!==void 0){m.destroy=void 0,c=t;var S=i,R=_;try{R()}catch(z){Ze(c,S,z)}}}r=r.next}while(r!==u)}}catch(z){Ze(t,t.return,z)}}function wp(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{hm(t,i)}catch(r){Ze(e,e.return,r)}}}function Cp(e,t,i){i.props=sl(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(r){Ze(e,t,r)}}function la(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof i=="function"?e.refCleanup=i(r):i.current=r}}catch(c){Ze(e,t,c)}}function jn(e,t){var i=e.ref,r=e.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(c){Ze(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){Ze(e,t,c)}else i.current=null}function Ep(e){var t=e.type,i=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break e;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(c){Ze(e,e.return,c)}}function ju(e,t,i){try{var r=e.stateNode;Qb(r,e.type,i,t),r[Vt]=t}catch(c){Ze(e,e.return,c)}}function Tp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ri(e.type)||e.tag===4}function zu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ri(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ku(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Gn));else if(r!==4&&(r===27&&Ri(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(ku(e,t,i),e=e.sibling;e!==null;)ku(e,t,i),e=e.sibling}function qr(e,t,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(r!==4&&(r===27&&Ri(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(qr(e,t,i),e=e.sibling;e!==null;)qr(e,t,i),e=e.sibling}function Np(e){var t=e.stateNode,i=e.memoizedProps;try{for(var r=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Lt(t,r,i),t[zt]=e,t[Vt]=i}catch(u){Ze(e,e.return,u)}}var Wn=!1,xt=!1,Iu=!1,Ap=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function Cb(e,t){if(e=e.containerInfo,lf=co,e=Bh(e),Rc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var c=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{i.nodeType,u.nodeType}catch{i=null;break e}var m=0,_=-1,S=-1,R=0,z=0,H=e,M=null;t:for(;;){for(var O;H!==i||c!==0&&H.nodeType!==3||(_=m+c),H!==u||r!==0&&H.nodeType!==3||(S=m+r),H.nodeType===3&&(m+=H.nodeValue.length),(O=H.firstChild)!==null;)M=H,H=O;for(;;){if(H===e)break t;if(M===i&&++R===c&&(_=m),M===u&&++z===r&&(S=m),(O=H.nextSibling)!==null)break;H=M,M=H.parentNode}H=O}i=_===-1||S===-1?null:{start:_,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(sf={focusedElem:e,selectionRange:i},co=!1,Nt=t;Nt!==null;)if(t=Nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Nt=e;else for(;Nt!==null;){switch(t=Nt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)c=e[i],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,i=t,c=u.memoizedProps,u=u.memoizedState,r=i.stateNode;try{var se=sl(i.type,c);e=r.getSnapshotBeforeUpdate(se,u),r.__reactInternalSnapshotBeforeUpdate=e}catch(_e){Ze(i,i.return,_e)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)of(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":of(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=t.sibling,e!==null){e.return=t.return,Nt=e;break}Nt=t.return}}function Rp(e,t,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:Jn(e,i),r&4&&ia(5,i);break;case 1:if(Jn(e,i),r&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(m){Ze(i,i.return,m)}else{var c=sl(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Ze(i,i.return,m)}}r&64&&wp(i),r&512&&la(i,i.return);break;case 3:if(Jn(e,i),r&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{hm(e,t)}catch(m){Ze(i,i.return,m)}}break;case 27:t===null&&r&4&&Np(i);case 26:case 5:Jn(e,i),t===null&&r&4&&Ep(i),r&512&&la(i,i.return);break;case 12:Jn(e,i);break;case 31:Jn(e,i),r&4&&Dp(e,i);break;case 13:Jn(e,i),r&4&&jp(e,i),r&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=jb.bind(null,i),Jb(e,i))));break;case 22:if(r=i.memoizedState!==null||Wn,!r){t=t!==null&&t.memoizedState!==null||xt,c=Wn;var u=xt;Wn=r,(xt=t)&&!u?ei(e,i,(i.subtreeFlags&8772)!==0):Jn(e,i),Wn=c,xt=u}break;case 30:break;default:Jn(e,i)}}function Mp(e){var t=e.alternate;t!==null&&(e.alternate=null,Mp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&dc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ut=null,Pt=!1;function $n(e,t,i){for(i=i.child;i!==null;)Op(e,t,i),i=i.sibling}function Op(e,t,i){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(xn,i)}catch{}switch(i.tag){case 26:xt||jn(i,t),$n(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:xt||jn(i,t);var r=ut,c=Pt;Ri(i.type)&&(ut=i.stateNode,Pt=!1),$n(e,t,i),ha(i.stateNode),ut=r,Pt=c;break;case 5:xt||jn(i,t);case 6:if(r=ut,c=Pt,ut=null,$n(e,t,i),ut=r,Pt=c,ut!==null)if(Pt)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(i.stateNode)}catch(u){Ze(i,t,u)}else try{ut.removeChild(i.stateNode)}catch(u){Ze(i,t,u)}break;case 18:ut!==null&&(Pt?(e=ut,wg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ls(e)):wg(ut,i.stateNode));break;case 4:r=ut,c=Pt,ut=i.stateNode.containerInfo,Pt=!0,$n(e,t,i),ut=r,Pt=c;break;case 0:case 11:case 14:case 15:Si(2,i,t),xt||Si(4,i,t),$n(e,t,i);break;case 1:xt||(jn(i,t),r=i.stateNode,typeof r.componentWillUnmount=="function"&&Cp(i,t,r)),$n(e,t,i);break;case 21:$n(e,t,i);break;case 22:xt=(r=xt)||i.memoizedState!==null,$n(e,t,i),xt=r;break;default:$n(e,t,i)}}function Dp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ls(e)}catch(i){Ze(t,t.return,i)}}}function jp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ls(e)}catch(i){Ze(t,t.return,i)}}function Eb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ap),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ap),t;default:throw Error(a(435,e.tag))}}function Yr(e,t){var i=Eb(e);t.forEach(function(r){if(!i.has(r)){i.add(r);var c=zb.bind(null,e,r);r.then(c,c)}})}function Xt(e,t){var i=t.deletions;if(i!==null)for(var r=0;r<i.length;r++){var c=i[r],u=e,m=t,_=m;e:for(;_!==null;){switch(_.tag){case 27:if(Ri(_.type)){ut=_.stateNode,Pt=!1;break e}break;case 5:ut=_.stateNode,Pt=!1;break e;case 3:case 4:ut=_.stateNode.containerInfo,Pt=!0;break e}_=_.return}if(ut===null)throw Error(a(160));Op(u,m,c),ut=null,Pt=!1,u=c.alternate,u!==null&&(u.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)zp(t,e),t=t.sibling}var wn=null;function zp(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Xt(t,e),Ft(e),r&4&&(Si(3,e,e.return),ia(3,e),Si(5,e,e.return));break;case 1:Xt(t,e),Ft(e),r&512&&(xt||i===null||jn(i,i.return)),r&64&&Wn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var c=wn;if(Xt(t,e),Ft(e),r&512&&(xt||i===null||jn(i,i.return)),r&4){var u=i!==null?i.memoizedState:null;if(r=e.memoizedState,i===null)if(r===null)if(e.stateNode===null){e:{r=e.type,i=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":u=c.getElementsByTagName("title")[0],(!u||u[Os]||u[zt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=c.createElement(r),c.head.insertBefore(u,c.querySelector("head > title"))),Lt(u,r,i),u[zt]=e,Tt(u),r=u;break e;case"link":var m=zg("link","href",c).get(r+(i.href||""));if(m){for(var _=0;_<m.length;_++)if(u=m[_],u.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&u.getAttribute("rel")===(i.rel==null?null:i.rel)&&u.getAttribute("title")===(i.title==null?null:i.title)&&u.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){m.splice(_,1);break t}}u=c.createElement(r),Lt(u,r,i),c.head.appendChild(u);break;case"meta":if(m=zg("meta","content",c).get(r+(i.content||""))){for(_=0;_<m.length;_++)if(u=m[_],u.getAttribute("content")===(i.content==null?null:""+i.content)&&u.getAttribute("name")===(i.name==null?null:i.name)&&u.getAttribute("property")===(i.property==null?null:i.property)&&u.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&u.getAttribute("charset")===(i.charSet==null?null:i.charSet)){m.splice(_,1);break t}}u=c.createElement(r),Lt(u,r,i),c.head.appendChild(u);break;default:throw Error(a(468,r))}u[zt]=e,Tt(u),r=u}e.stateNode=r}else kg(c,e.type,e.stateNode);else e.stateNode=jg(c,r,e.memoizedProps);else u!==r?(u===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):u.count--,r===null?kg(c,e.type,e.stateNode):jg(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&ju(e,e.memoizedProps,i.memoizedProps)}break;case 27:Xt(t,e),Ft(e),r&512&&(xt||i===null||jn(i,i.return)),i!==null&&r&4&&ju(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Xt(t,e),Ft(e),r&512&&(xt||i===null||jn(i,i.return)),e.flags&32){c=e.stateNode;try{Nl(c,"")}catch(se){Ze(e,e.return,se)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,ju(e,c,i!==null?i.memoizedProps:c)),r&1024&&(Iu=!0);break;case 6:if(Xt(t,e),Ft(e),r&4){if(e.stateNode===null)throw Error(a(162));r=e.memoizedProps,i=e.stateNode;try{i.nodeValue=r}catch(se){Ze(e,e.return,se)}}break;case 3:if(so=null,c=wn,wn=io(t.containerInfo),Xt(t,e),wn=c,Ft(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{ls(t.containerInfo)}catch(se){Ze(e,e.return,se)}Iu&&(Iu=!1,kp(e));break;case 4:r=wn,wn=io(e.stateNode.containerInfo),Xt(t,e),Ft(e),wn=r;break;case 12:Xt(t,e),Ft(e);break;case 31:Xt(t,e),Ft(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Yr(e,r)));break;case 13:Xt(t,e),Ft(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Qr=X()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Yr(e,r)));break;case 22:c=e.memoizedState!==null;var S=i!==null&&i.memoizedState!==null,R=Wn,z=xt;if(Wn=R||c,xt=z||S,Xt(t,e),xt=z,Wn=R,Ft(e),r&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(i===null||S||Wn||xt||al(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){S=i=t;try{if(u=S.stateNode,c)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{_=S.stateNode;var H=S.memoizedProps.style,M=H!=null&&H.hasOwnProperty("display")?H.display:null;_.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(se){Ze(S,S.return,se)}}}else if(t.tag===6){if(i===null){S=t;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(se){Ze(S,S.return,se)}}}else if(t.tag===18){if(i===null){S=t;try{var O=S.stateNode;c?Cg(O,!0):Cg(S.stateNode,!1)}catch(se){Ze(S,S.return,se)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,Yr(e,i))));break;case 19:Xt(t,e),Ft(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Yr(e,r)));break;case 30:break;case 21:break;default:Xt(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{for(var i,r=e.return;r!==null;){if(Tp(r)){i=r;break}r=r.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var c=i.stateNode,u=zu(e);qr(e,u,c);break;case 5:var m=i.stateNode;i.flags&32&&(Nl(m,""),i.flags&=-33);var _=zu(e);qr(e,_,m);break;case 3:case 4:var S=i.stateNode.containerInfo,R=zu(e);ku(e,R,S);break;default:throw Error(a(161))}}catch(z){Ze(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;kp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Jn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Rp(e,t.alternate,t),t=t.sibling}function al(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Si(4,t,t.return),al(t);break;case 1:jn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Cp(t,t.return,i),al(t);break;case 27:ha(t.stateNode);case 26:case 5:jn(t,t.return),al(t);break;case 22:t.memoizedState===null&&al(t);break;case 30:al(t);break;default:al(t)}e=e.sibling}}function ei(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,c=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:ei(c,u,i),ia(4,u);break;case 1:if(ei(c,u,i),r=u,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(R){Ze(r,r.return,R)}if(r=u,c=r.updateQueue,c!==null){var _=r.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)dm(S[c],_)}catch(R){Ze(r,r.return,R)}}i&&m&64&&wp(u),la(u,u.return);break;case 27:Np(u);case 26:case 5:ei(c,u,i),i&&r===null&&m&4&&Ep(u),la(u,u.return);break;case 12:ei(c,u,i);break;case 31:ei(c,u,i),i&&m&4&&Dp(c,u);break;case 13:ei(c,u,i),i&&m&4&&jp(c,u);break;case 22:u.memoizedState===null&&ei(c,u,i),la(u,u.return);break;case 30:break;default:ei(c,u,i)}t=t.sibling}}function Uu(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Vs(i))}function Lu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vs(e))}function Cn(e,t,i,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ip(e,t,i,r),t=t.sibling}function Ip(e,t,i,r){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Cn(e,t,i,r),c&2048&&ia(9,t);break;case 1:Cn(e,t,i,r);break;case 3:Cn(e,t,i,r),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vs(e)));break;case 12:if(c&2048){Cn(e,t,i,r),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,_=u.onPostCommit;typeof _=="function"&&_(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Ze(t,t.return,S)}}else Cn(e,t,i,r);break;case 31:Cn(e,t,i,r);break;case 13:Cn(e,t,i,r);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?Cn(e,t,i,r):sa(e,t):u._visibility&2?Cn(e,t,i,r):(u._visibility|=2,Xl(e,t,i,r,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Uu(m,t);break;case 24:Cn(e,t,i,r),c&2048&&Lu(t.alternate,t);break;default:Cn(e,t,i,r)}}function Xl(e,t,i,r,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,m=t,_=i,S=r,R=m.flags;switch(m.tag){case 0:case 11:case 15:Xl(u,m,_,S,c),ia(8,m);break;case 23:break;case 22:var z=m.stateNode;m.memoizedState!==null?z._visibility&2?Xl(u,m,_,S,c):sa(u,m):(z._visibility|=2,Xl(u,m,_,S,c)),c&&R&2048&&Uu(m.alternate,m);break;case 24:Xl(u,m,_,S,c),c&&R&2048&&Lu(m.alternate,m);break;default:Xl(u,m,_,S,c)}t=t.sibling}}function sa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,r=t,c=r.flags;switch(r.tag){case 22:sa(i,r),c&2048&&Uu(r.alternate,r);break;case 24:sa(i,r),c&2048&&Lu(r.alternate,r);break;default:sa(i,r)}t=t.sibling}}var aa=8192;function Fl(e,t,i){if(e.subtreeFlags&aa)for(e=e.child;e!==null;)Up(e,t,i),e=e.sibling}function Up(e,t,i){switch(e.tag){case 26:Fl(e,t,i),e.flags&aa&&e.memoizedState!==null&&f1(i,wn,e.memoizedState,e.memoizedProps);break;case 5:Fl(e,t,i);break;case 3:case 4:var r=wn;wn=io(e.stateNode.containerInfo),Fl(e,t,i),wn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=aa,aa=16777216,Fl(e,t,i),aa=r):Fl(e,t,i));break;default:Fl(e,t,i)}}function Lp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ra(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];Nt=r,Bp(r,e)}Lp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hp(e),e=e.sibling}function Hp(e){switch(e.tag){case 0:case 11:case 15:ra(e),e.flags&2048&&Si(9,e,e.return);break;case 3:ra(e);break;case 12:ra(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vr(e)):ra(e);break;default:ra(e)}}function Vr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];Nt=r,Bp(r,e)}Lp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Si(8,t,t.return),Vr(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Vr(t));break;default:Vr(t)}e=e.sibling}}function Bp(e,t){for(;Nt!==null;){var i=Nt;switch(i.tag){case 0:case 11:case 15:Si(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Vs(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,Nt=r;else e:for(i=e;Nt!==null;){r=Nt;var c=r.sibling,u=r.return;if(Mp(r),r===i){Nt=null;break e}if(c!==null){c.return=u,Nt=c;break e}Nt=u}}}var Tb={getCacheForType:function(e){var t=It(_t),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return It(_t).controller.signal}},Nb=typeof WeakMap=="function"?WeakMap:Map,Pe=0,tt=null,ke=null,Ue=0,Fe=0,sn=null,wi=!1,Zl=!1,Hu=!1,ti=0,mt=0,Ci=0,rl=0,Bu=0,an=0,Kl=0,oa=null,Zt=null,Gu=!1,Qr=0,Gp=0,Pr=1/0,Xr=null,Ei=null,St=0,Ti=null,Wl=null,ni=0,qu=0,Yu=null,qp=null,ca=0,Vu=null;function rn(){return(Pe&2)!==0&&Ue!==0?Ue&-Ue:D.T!==null?Ku():lh()}function Yp(){if(an===0)if((Ue&536870912)===0||Be){var e=tr;tr<<=1,(tr&3932160)===0&&(tr=262144),an=e}else an=536870912;return e=nn.current,e!==null&&(e.flags|=32),an}function Kt(e,t,i){(e===tt&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)&&($l(e,0),Ni(e,Ue,an,!1)),Ms(e,i),((Pe&2)===0||e!==tt)&&(e===tt&&((Pe&2)===0&&(rl|=i),mt===4&&Ni(e,Ue,an,!1)),zn(e))}function Vp(e,t,i){if((Pe&6)!==0)throw Error(a(327));var r=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Rs(e,t),c=r?Mb(e,t):Pu(e,t,!0),u=r;do{if(c===0){Zl&&!r&&Ni(e,t,0,!1);break}else{if(i=e.current.alternate,u&&!Ab(i)){c=Pu(e,t,!1),u=!1;continue}if(c===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var _=e;c=oa;var S=_.current.memoizedState.isDehydrated;if(S&&($l(_,m).flags|=256),m=Pu(_,m,!1),m!==2){if(Hu&&!S){_.errorRecoveryDisabledLanes|=u,rl|=u,c=4;break e}u=Zt,Zt=c,u!==null&&(Zt===null?Zt=u:Zt.push.apply(Zt,u))}c=m}if(u=!1,c!==2)continue}}if(c===1){$l(e,0),Ni(e,t,0,!0);break}e:{switch(r=e,u=c,u){case 0:case 1:throw Error(a(345));case 4:if((t&4194048)!==t)break;case 6:Ni(r,t,an,!wi);break e;case 2:Zt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((t&62914560)===t&&(c=Qr+300-X(),10<c)){if(Ni(r,t,an,!wi),ir(r,0,!0)!==0)break e;ni=t,r.timeoutHandle=xg(Qp.bind(null,r,i,Zt,Xr,Gu,t,an,rl,Kl,wi,u,"Throttled",-0,0),c);break e}Qp(r,i,Zt,Xr,Gu,t,an,rl,Kl,wi,u,null,-0,0)}}break}while(!0);zn(e)}function Qp(e,t,i,r,c,u,m,_,S,R,z,H,M,O){if(e.timeoutHandle=-1,H=t.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},Up(t,u,H);var se=(u&62914560)===u?Qr-X():(u&4194048)===u?Gp-X():0;if(se=d1(H,se),se!==null){ni=u,e.cancelPendingCommit=se(Jp.bind(null,e,t,u,i,r,c,m,_,S,z,H,null,M,O)),Ni(e,u,m,!R);return}}Jp(e,t,u,i,r,c,m,_,S)}function Ab(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var c=i[r],u=c.getSnapshot;c=c.value;try{if(!en(u(),c))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ni(e,t,i,r){t&=~Bu,t&=~rl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var c=t;0<c;){var u=31-Jt(c),m=1<<u;r[u]=-1,c&=~m}i!==0&&th(e,i,t)}function Fr(){return(Pe&6)===0?(ua(0),!1):!0}function Qu(){if(ke!==null){if(Fe===0)var e=ke.return;else e=ke,Qn=$i=null,ru(e),ql=null,Ps=0,e=ke;for(;e!==null;)Sp(e.alternate,e),e=e.return;ke=null}}function $l(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Fb(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),ni=0,Qu(),tt=e,ke=i=Yn(e.current,null),Ue=t,Fe=0,sn=null,wi=!1,Zl=Rs(e,t),Hu=!1,Kl=an=Bu=rl=Ci=mt=0,Zt=oa=null,Gu=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var c=31-Jt(r),u=1<<c;t|=e[c],r&=~u}return ti=t,pr(),i}function Pp(e,t){Te=null,D.H=ea,t===Gl||t===wr?(t=om(),Fe=3):t===Zc?(t=om(),Fe=4):Fe=t===wu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,sn=t,ke===null&&(mt=1,Ur(e,hn(t,e.current)))}function Xp(){var e=nn.current;return e===null?!0:(Ue&4194048)===Ue?yn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?e===yn:!1}function Fp(){var e=D.H;return D.H=ea,e===null?ea:e}function Zp(){var e=D.A;return D.A=Tb,e}function Zr(){mt=4,wi||(Ue&4194048)!==Ue&&nn.current!==null||(Zl=!0),(Ci&134217727)===0&&(rl&134217727)===0||tt===null||Ni(tt,Ue,an,!1)}function Pu(e,t,i){var r=Pe;Pe|=2;var c=Fp(),u=Zp();(tt!==e||Ue!==t)&&(Xr=null,$l(e,t)),t=!1;var m=mt;e:do try{if(Fe!==0&&ke!==null){var _=ke,S=sn;switch(Fe){case 8:Qu(),m=6;break e;case 3:case 2:case 9:case 6:nn.current===null&&(t=!0);var R=Fe;if(Fe=0,sn=null,Jl(e,_,S,R),i&&Zl){m=0;break e}break;default:R=Fe,Fe=0,sn=null,Jl(e,_,S,R)}}Rb(),m=mt;break}catch(z){Pp(e,z)}while(!0);return t&&e.shellSuspendCounter++,Qn=$i=null,Pe=r,D.H=c,D.A=u,ke===null&&(tt=null,Ue=0,pr()),m}function Rb(){for(;ke!==null;)Kp(ke)}function Mb(e,t){var i=Pe;Pe|=2;var r=Fp(),c=Zp();tt!==e||Ue!==t?(Xr=null,Pr=X()+500,$l(e,t)):Zl=Rs(e,t);e:do try{if(Fe!==0&&ke!==null){t=ke;var u=sn;t:switch(Fe){case 1:Fe=0,sn=null,Jl(e,t,u,1);break;case 2:case 9:if(am(u)){Fe=0,sn=null,Wp(t);break}t=function(){Fe!==2&&Fe!==9||tt!==e||(Fe=7),zn(e)},u.then(t,t);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:am(u)?(Fe=0,sn=null,Wp(t)):(Fe=0,sn=null,Jl(e,t,u,7));break;case 5:var m=null;switch(ke.tag){case 26:m=ke.memoizedState;case 5:case 27:var _=ke;if(m?Ig(m):_.stateNode.complete){Fe=0,sn=null;var S=_.sibling;if(S!==null)ke=S;else{var R=_.return;R!==null?(ke=R,Kr(R)):ke=null}break t}}Fe=0,sn=null,Jl(e,t,u,5);break;case 6:Fe=0,sn=null,Jl(e,t,u,6);break;case 8:Qu(),mt=6;break e;default:throw Error(a(462))}}Ob();break}catch(z){Pp(e,z)}while(!0);return Qn=$i=null,D.H=r,D.A=c,Pe=i,ke!==null?0:(tt=null,Ue=0,pr(),mt)}function Ob(){for(;ke!==null&&!J();)Kp(ke)}function Kp(e){var t=bp(e.alternate,e,ti);e.memoizedProps=e.pendingProps,t===null?Kr(e):ke=t}function Wp(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=mp(i,t,t.pendingProps,t.type,void 0,Ue);break;case 11:t=mp(i,t,t.pendingProps,t.type.render,t.ref,Ue);break;case 5:ru(t);default:Sp(i,t),t=ke=Zh(t,ti),t=bp(i,t,ti)}e.memoizedProps=e.pendingProps,t===null?Kr(e):ke=t}function Jl(e,t,i,r){Qn=$i=null,ru(t),ql=null,Ps=0;var c=t.return;try{if(vb(e,c,t,i,Ue)){mt=1,Ur(e,hn(i,e.current)),ke=null;return}}catch(u){if(c!==null)throw ke=c,u;mt=1,Ur(e,hn(i,e.current)),ke=null;return}t.flags&32768?(Be||r===1?e=!0:Zl||(Ue&536870912)!==0?e=!1:(wi=e=!0,(r===2||r===9||r===3||r===6)&&(r=nn.current,r!==null&&r.tag===13&&(r.flags|=16384))),$p(t,e)):Kr(t)}function Kr(e){var t=e;do{if((t.flags&32768)!==0){$p(t,wi);return}e=t.return;var i=Sb(t.alternate,t,ti);if(i!==null){ke=i;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);mt===0&&(mt=5)}function $p(e,t){do{var i=wb(e.alternate,e);if(i!==null){i.flags&=32767,ke=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){ke=e;return}ke=e=i}while(e!==null);mt=6,ke=null}function Jp(e,t,i,r,c,u,m,_,S){e.cancelPendingCommit=null;do Wr();while(St!==0);if((Pe&6)!==0)throw Error(a(327));if(t!==null){if(t===e.current)throw Error(a(177));if(u=t.lanes|t.childLanes,u|=zc,uv(e,i,u,m,_,S),e===tt&&(ke=tt=null,Ue=0),Wl=t,Ti=e,ni=i,qu=u,Yu=c,qp=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kb(pe,function(){return lg(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=D.T,D.T=null,c=Z.p,Z.p=2,m=Pe,Pe|=4;try{Cb(e,t,i)}finally{Pe=m,Z.p=c,D.T=r}}St=1,eg(),tg(),ng()}}function eg(){if(St===1){St=0;var e=Ti,t=Wl,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=D.T,D.T=null;var r=Z.p;Z.p=2;var c=Pe;Pe|=4;try{zp(t,e);var u=sf,m=Bh(e.containerInfo),_=u.focusedElem,S=u.selectionRange;if(m!==_&&_&&_.ownerDocument&&Hh(_.ownerDocument.documentElement,_)){if(S!==null&&Rc(_)){var R=S.start,z=S.end;if(z===void 0&&(z=R),"selectionStart"in _)_.selectionStart=R,_.selectionEnd=Math.min(z,_.value.length);else{var H=_.ownerDocument||document,M=H&&H.defaultView||window;if(M.getSelection){var O=M.getSelection(),se=_.textContent.length,_e=Math.min(S.start,se),et=S.end===void 0?_e:Math.min(S.end,se);!O.extend&&_e>et&&(m=et,et=_e,_e=m);var E=Lh(_,_e),w=Lh(_,et);if(E&&w&&(O.rangeCount!==1||O.anchorNode!==E.node||O.anchorOffset!==E.offset||O.focusNode!==w.node||O.focusOffset!==w.offset)){var A=H.createRange();A.setStart(E.node,E.offset),O.removeAllRanges(),_e>et?(O.addRange(A),O.extend(w.node,w.offset)):(A.setEnd(w.node,w.offset),O.addRange(A))}}}}for(H=[],O=_;O=O.parentNode;)O.nodeType===1&&H.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<H.length;_++){var I=H[_];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}co=!!lf,sf=lf=null}finally{Pe=c,Z.p=r,D.T=i}}e.current=t,St=2}}function tg(){if(St===2){St=0;var e=Ti,t=Wl,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=D.T,D.T=null;var r=Z.p;Z.p=2;var c=Pe;Pe|=4;try{Rp(e,t.alternate,t)}finally{Pe=c,Z.p=r,D.T=i}}St=3}}function ng(){if(St===4||St===3){St=0,ie();var e=Ti,t=Wl,i=ni,r=qp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?St=5:(St=0,Wl=Ti=null,ig(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ei=null),uc(i),t=t.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(xn,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=D.T,c=Z.p,Z.p=2,D.T=null;try{for(var u=e.onRecoverableError,m=0;m<r.length;m++){var _=r[m];u(_.value,{componentStack:_.stack})}}finally{D.T=t,Z.p=c}}(ni&3)!==0&&Wr(),zn(e),c=e.pendingLanes,(i&261930)!==0&&(c&42)!==0?e===Vu?ca++:(ca=0,Vu=e):ca=0,ua(0)}}function ig(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Vs(t)))}function Wr(){return eg(),tg(),ng(),lg()}function lg(){if(St!==5)return!1;var e=Ti,t=qu;qu=0;var i=uc(ni),r=D.T,c=Z.p;try{Z.p=32>i?32:i,D.T=null,i=Yu,Yu=null;var u=Ti,m=ni;if(St=0,Wl=Ti=null,ni=0,(Pe&6)!==0)throw Error(a(331));var _=Pe;if(Pe|=4,Hp(u.current),Ip(u,u.current,m,i),Pe=_,ua(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(xn,u)}catch{}return!0}finally{Z.p=c,D.T=r,ig(e,t)}}function sg(e,t,i){t=hn(i,t),t=Su(e.stateNode,t,2),e=vi(e,t,2),e!==null&&(Ms(e,2),zn(e))}function Ze(e,t,i){if(e.tag===3)sg(e,e,i);else for(;t!==null;){if(t.tag===3){sg(t,e,i);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ei===null||!Ei.has(r))){e=hn(i,e),i=ap(2),r=vi(t,i,2),r!==null&&(rp(i,r,t,e),Ms(r,2),zn(r));break}}t=t.return}}function Xu(e,t,i){var r=e.pingCache;if(r===null){r=e.pingCache=new Nb;var c=new Set;r.set(t,c)}else c=r.get(t),c===void 0&&(c=new Set,r.set(t,c));c.has(i)||(Hu=!0,c.add(i),e=Db.bind(null,e,t,i),t.then(e,e))}function Db(e,t,i){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,tt===e&&(Ue&i)===i&&(mt===4||mt===3&&(Ue&62914560)===Ue&&300>X()-Qr?(Pe&2)===0&&$l(e,0):Bu|=i,Kl===Ue&&(Kl=0)),zn(e)}function ag(e,t){t===0&&(t=eh()),e=Zi(e,t),e!==null&&(Ms(e,t),zn(e))}function jb(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),ag(e,i)}function zb(e,t){var i=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}r!==null&&r.delete(t),ag(e,i)}function kb(e,t){return Y(e,t)}var $r=null,es=null,Fu=!1,Jr=!1,Zu=!1,Ai=0;function zn(e){e!==es&&e.next===null&&(es===null?$r=es=e:es=es.next=e),Jr=!0,Fu||(Fu=!0,Ub())}function ua(e,t){if(!Zu&&Jr){Zu=!0;do for(var i=!1,r=$r;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var u=0;else{var m=r.suspendedLanes,_=r.pingedLanes;u=(1<<31-Jt(42|e)+1)-1,u&=c&~(m&~_),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(i=!0,ug(r,u))}else u=Ue,u=ir(r,r===tt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(u&3)===0||Rs(r,u)||(i=!0,ug(r,u));r=r.next}while(i);Zu=!1}}function Ib(){rg()}function rg(){Jr=Fu=!1;var e=0;Ai!==0&&Xb()&&(e=Ai);for(var t=X(),i=null,r=$r;r!==null;){var c=r.next,u=og(r,t);u===0?(r.next=null,i===null?$r=c:i.next=c,c===null&&(es=i)):(i=r,(e!==0||(u&3)!==0)&&(Jr=!0)),r=c}St!==0&&St!==5||ua(e),Ai!==0&&(Ai=0)}function og(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-Jt(u),_=1<<m,S=c[m];S===-1?((_&i)===0||(_&r)!==0)&&(c[m]=cv(_,t)):S<=t&&(e.expiredLanes|=_),u&=~_}if(t=tt,i=Ue,i=ir(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,i===0||e===t&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&L(r),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Rs(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(r!==null&&L(r),uc(i)){case 2:case 8:i=le;break;case 32:i=pe;break;case 268435456:i=Et;break;default:i=pe}return r=cg.bind(null,e),i=Y(i,r),e.callbackPriority=t,e.callbackNode=i,t}return r!==null&&r!==null&&L(r),e.callbackPriority=2,e.callbackNode=null,2}function cg(e,t){if(St!==0&&St!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Wr()&&e.callbackNode!==i)return null;var r=Ue;return r=ir(e,e===tt?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Vp(e,r,t),og(e,X()),e.callbackNode!=null&&e.callbackNode===i?cg.bind(null,e):null)}function ug(e,t){if(Wr())return null;Vp(e,t,!0)}function Ub(){Zb(function(){(Pe&6)!==0?Y(De,Ib):rg()})}function Ku(){if(Ai===0){var e=Hl;e===0&&(e=er,er<<=1,(er&261888)===0&&(er=256)),Ai=e}return Ai}function fg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:rr(""+e)}function dg(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function Lb(e,t,i,r,c){if(t==="submit"&&i&&i.stateNode===c){var u=fg((c[Vt]||null).action),m=r.submitter;m&&(t=(t=m[Vt]||null)?fg(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var _=new fr("action","action",null,r,c);e.push({event:_,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Ai!==0){var S=m?dg(c,m):new FormData(c);gu(i,{pending:!0,data:S,method:c.method,action:u},null,S)}}else typeof u=="function"&&(_.preventDefault(),S=m?dg(c,m):new FormData(c),gu(i,{pending:!0,data:S,method:c.method,action:u},u,S))},currentTarget:c}]})}}for(var Wu=0;Wu<jc.length;Wu++){var $u=jc[Wu],Hb=$u.toLowerCase(),Bb=$u[0].toUpperCase()+$u.slice(1);Sn(Hb,"on"+Bb)}Sn(Yh,"onAnimationEnd"),Sn(Vh,"onAnimationIteration"),Sn(Qh,"onAnimationStart"),Sn("dblclick","onDoubleClick"),Sn("focusin","onFocus"),Sn("focusout","onBlur"),Sn(nb,"onTransitionRun"),Sn(ib,"onTransitionStart"),Sn(lb,"onTransitionCancel"),Sn(Ph,"onTransitionEnd"),El("onMouseEnter",["mouseout","mouseover"]),El("onMouseLeave",["mouseout","mouseover"]),El("onPointerEnter",["pointerout","pointerover"]),El("onPointerLeave",["pointerout","pointerover"]),Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fa));function hg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],c=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var m=r.length-1;0<=m;m--){var _=r[m],S=_.instance,R=_.currentTarget;if(_=_.listener,S!==u&&c.isPropagationStopped())break e;u=_,c.currentTarget=R;try{u(c)}catch(z){mr(z)}c.currentTarget=null,u=S}else for(m=0;m<r.length;m++){if(_=r[m],S=_.instance,R=_.currentTarget,_=_.listener,S!==u&&c.isPropagationStopped())break e;u=_,c.currentTarget=R;try{u(c)}catch(z){mr(z)}c.currentTarget=null,u=S}}}}function Ie(e,t){var i=t[fc];i===void 0&&(i=t[fc]=new Set);var r=e+"__bubble";i.has(r)||(mg(t,e,2,!1),i.add(r))}function Ju(e,t,i){var r=0;t&&(r|=4),mg(i,e,r,t)}var eo="_reactListening"+Math.random().toString(36).slice(2);function ef(e){if(!e[eo]){e[eo]=!0,rh.forEach(function(i){i!=="selectionchange"&&(Gb.has(i)||Ju(i,!1,e),Ju(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[eo]||(t[eo]=!0,Ju("selectionchange",!1,t))}}function mg(e,t,i,r){switch(Yg(t)){case 2:var c=p1;break;case 8:c=g1;break;default:c=gf}i=c.bind(null,t,i,e),c=void 0,!bc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function tf(e,t,i,r,c){var u=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var m=r.tag;if(m===3||m===4){var _=r.stateNode.containerInfo;if(_===c)break;if(m===4)for(m=r.return;m!==null;){var S=m.tag;if((S===3||S===4)&&m.stateNode.containerInfo===c)return;m=m.return}for(;_!==null;){if(m=Sl(_),m===null)return;if(S=m.tag,S===5||S===6||S===26||S===27){r=u=m;continue e}_=_.parentNode}}r=r.return}vh(function(){var R=u,z=_c(i),H=[];e:{var M=Xh.get(e);if(M!==void 0){var O=fr,se=e;switch(e){case"keypress":if(cr(i)===0)break e;case"keydown":case"keyup":O=zv;break;case"focusin":se="focus",O=Cc;break;case"focusout":se="blur",O=Cc;break;case"beforeblur":case"afterblur":O=Cc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=Sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=Sv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=Uv;break;case Yh:case Vh:case Qh:O=Ev;break;case Ph:O=Hv;break;case"scroll":case"scrollend":O=bv;break;case"wheel":O=Gv;break;case"copy":case"cut":case"paste":O=Nv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=Ch;break;case"toggle":case"beforetoggle":O=Yv}var _e=(t&4)!==0,et=!_e&&(e==="scroll"||e==="scrollend"),E=_e?M!==null?M+"Capture":null:M;_e=[];for(var w=R,A;w!==null;){var I=w;if(A=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||A===null||E===null||(I=js(w,E),I!=null&&_e.push(da(w,I,A))),et)break;w=w.return}0<_e.length&&(M=new O(M,se,null,i,z),H.push({event:M,listeners:_e}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",M&&i!==yc&&(se=i.relatedTarget||i.fromElement)&&(Sl(se)||se[xl]))break e;if((O||M)&&(M=z.window===z?z:(M=z.ownerDocument)?M.defaultView||M.parentWindow:window,O?(se=i.relatedTarget||i.toElement,O=R,se=se?Sl(se):null,se!==null&&(et=f(se),_e=se.tag,se!==et||_e!==5&&_e!==27&&_e!==6)&&(se=null)):(O=null,se=R),O!==se)){if(_e=Sh,I="onMouseLeave",E="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(_e=Ch,I="onPointerLeave",E="onPointerEnter",w="pointer"),et=O==null?M:Ds(O),A=se==null?M:Ds(se),M=new _e(I,w+"leave",O,i,z),M.target=et,M.relatedTarget=A,I=null,Sl(z)===R&&(_e=new _e(E,w+"enter",se,i,z),_e.target=A,_e.relatedTarget=et,I=_e),et=I,O&&se)t:{for(_e=qb,E=O,w=se,A=0,I=E;I;I=_e(I))A++;I=0;for(var he=w;he;he=_e(he))I++;for(;0<A-I;)E=_e(E),A--;for(;0<I-A;)w=_e(w),I--;for(;A--;){if(E===w||w!==null&&E===w.alternate){_e=E;break t}E=_e(E),w=_e(w)}_e=null}else _e=null;O!==null&&pg(H,M,O,_e,!1),se!==null&&et!==null&&pg(H,et,se,_e,!0)}}e:{if(M=R?Ds(R):window,O=M.nodeName&&M.nodeName.toLowerCase(),O==="select"||O==="input"&&M.type==="file")var Ye=Dh;else if(Mh(M))if(jh)Ye=Jv;else{Ye=Wv;var ue=Kv}else O=M.nodeName,!O||O.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?R&&gc(R.elementType)&&(Ye=Dh):Ye=$v;if(Ye&&(Ye=Ye(e,R))){Oh(H,Ye,i,z);break e}ue&&ue(e,M,R),e==="focusout"&&R&&M.type==="number"&&R.memoizedProps.value!=null&&pc(M,"number",M.value)}switch(ue=R?Ds(R):window,e){case"focusin":(Mh(ue)||ue.contentEditable==="true")&&(Ol=ue,Mc=R,Gs=null);break;case"focusout":Gs=Mc=Ol=null;break;case"mousedown":Oc=!0;break;case"contextmenu":case"mouseup":case"dragend":Oc=!1,Gh(H,i,z);break;case"selectionchange":if(tb)break;case"keydown":case"keyup":Gh(H,i,z)}var Ae;if(Tc)e:{switch(e){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Ml?Ah(e,i)&&(Le="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Le="onCompositionStart");Le&&(Eh&&i.locale!=="ko"&&(Ml||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Ml&&(Ae=bh()):(di=z,xc="value"in di?di.value:di.textContent,Ml=!0)),ue=to(R,Le),0<ue.length&&(Le=new wh(Le,e,null,i,z),H.push({event:Le,listeners:ue}),Ae?Le.data=Ae:(Ae=Rh(i),Ae!==null&&(Le.data=Ae)))),(Ae=Qv?Pv(e,i):Xv(e,i))&&(Le=to(R,"onBeforeInput"),0<Le.length&&(ue=new wh("onBeforeInput","beforeinput",null,i,z),H.push({event:ue,listeners:Le}),ue.data=Ae)),Lb(H,e,R,i,z)}hg(H,t)})}function da(e,t,i){return{instance:e,listener:t,currentTarget:i}}function to(e,t){for(var i=t+"Capture",r=[];e!==null;){var c=e,u=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||u===null||(c=js(e,i),c!=null&&r.unshift(da(e,c,u)),c=js(e,t),c!=null&&r.push(da(e,c,u))),e.tag===3)return r;e=e.return}return[]}function qb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function pg(e,t,i,r,c){for(var u=t._reactName,m=[];i!==null&&i!==r;){var _=i,S=_.alternate,R=_.stateNode;if(_=_.tag,S!==null&&S===r)break;_!==5&&_!==26&&_!==27||R===null||(S=R,c?(R=js(i,u),R!=null&&m.unshift(da(i,R,S))):c||(R=js(i,u),R!=null&&m.push(da(i,R,S)))),i=i.return}m.length!==0&&e.push({event:t,listeners:m})}var Yb=/\r\n?/g,Vb=/\u0000|\uFFFD/g;function gg(e){return(typeof e=="string"?e:""+e).replace(Yb,`
`).replace(Vb,"")}function yg(e,t){return t=gg(t),gg(e)===t}function Je(e,t,i,r,c,u){switch(i){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Nl(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Nl(e,""+r);break;case"className":sr(e,"class",r);break;case"tabIndex":sr(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(e,i,r);break;case"style":yh(e,r,u);break;case"data":if(t!=="object"){sr(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=rr(""+r),e.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(i==="formAction"?(t!=="input"&&Je(e,t,"name",c.name,c,null),Je(e,t,"formEncType",c.formEncType,c,null),Je(e,t,"formMethod",c.formMethod,c,null),Je(e,t,"formTarget",c.formTarget,c,null)):(Je(e,t,"encType",c.encType,c,null),Je(e,t,"method",c.method,c,null),Je(e,t,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=rr(""+r),e.setAttribute(i,r);break;case"onClick":r!=null&&(e.onclick=Gn);break;case"onScroll":r!=null&&Ie("scroll",e);break;case"onScrollEnd":r!=null&&Ie("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(i=r.__html,i!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}i=rr(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""+r):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":r===!0?e.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,r):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(i,r):e.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(i):e.setAttribute(i,r);break;case"popover":Ie("beforetoggle",e),Ie("toggle",e),lr(e,"popover",r);break;case"xlinkActuate":Bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Bn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Bn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Bn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Bn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lr(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=_v.get(i)||i,lr(e,i,r))}}function nf(e,t,i,r,c,u){switch(i){case"style":yh(e,r,u);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(i=r.__html,i!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof r=="string"?Nl(e,r):(typeof r=="number"||typeof r=="bigint")&&Nl(e,""+r);break;case"onScroll":r!=null&&Ie("scroll",e);break;case"onScrollEnd":r!=null&&Ie("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oh.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),t=i.slice(2,c?i.length-7:void 0),u=e[Vt]||null,u=u!=null?u[i]:null,typeof u=="function"&&e.removeEventListener(t,u,c),typeof r=="function")){typeof u!="function"&&u!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,r,c);break e}i in e?e[i]=r:r===!0?e.setAttribute(i,""):lr(e,i,r)}}}function Lt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",e),Ie("load",e);var r=!1,c=!1,u;for(u in i)if(i.hasOwnProperty(u)){var m=i[u];if(m!=null)switch(u){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Je(e,t,u,m,i,null)}}c&&Je(e,t,"srcSet",i.srcSet,i,null),r&&Je(e,t,"src",i.src,i,null);return;case"input":Ie("invalid",e);var _=u=m=c=null,S=null,R=null;for(r in i)if(i.hasOwnProperty(r)){var z=i[r];if(z!=null)switch(r){case"name":c=z;break;case"type":m=z;break;case"checked":S=z;break;case"defaultChecked":R=z;break;case"value":u=z;break;case"defaultValue":_=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,t));break;default:Je(e,t,r,z,i,null)}}hh(e,u,_,S,R,m,c,!1);return;case"select":Ie("invalid",e),r=m=u=null;for(c in i)if(i.hasOwnProperty(c)&&(_=i[c],_!=null))switch(c){case"value":u=_;break;case"defaultValue":m=_;break;case"multiple":r=_;default:Je(e,t,c,_,i,null)}t=u,i=m,e.multiple=!!r,t!=null?Tl(e,!!r,t,!1):i!=null&&Tl(e,!!r,i,!0);return;case"textarea":Ie("invalid",e),u=c=r=null;for(m in i)if(i.hasOwnProperty(m)&&(_=i[m],_!=null))switch(m){case"value":r=_;break;case"defaultValue":c=_;break;case"children":u=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Je(e,t,m,_,i,null)}ph(e,r,c,u);return;case"option":for(S in i)i.hasOwnProperty(S)&&(r=i[S],r!=null)&&(S==="selected"?e.selected=r&&typeof r!="function"&&typeof r!="symbol":Je(e,t,S,r,i,null));return;case"dialog":Ie("beforetoggle",e),Ie("toggle",e),Ie("cancel",e),Ie("close",e);break;case"iframe":case"object":Ie("load",e);break;case"video":case"audio":for(r=0;r<fa.length;r++)Ie(fa[r],e);break;case"image":Ie("error",e),Ie("load",e);break;case"details":Ie("toggle",e);break;case"embed":case"source":case"link":Ie("error",e),Ie("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in i)if(i.hasOwnProperty(R)&&(r=i[R],r!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Je(e,t,R,r,i,null)}return;default:if(gc(t)){for(z in i)i.hasOwnProperty(z)&&(r=i[z],r!==void 0&&nf(e,t,z,r,i,void 0));return}}for(_ in i)i.hasOwnProperty(_)&&(r=i[_],r!=null&&Je(e,t,_,r,i,null))}function Qb(e,t,i,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,u=null,m=null,_=null,S=null,R=null,z=null;for(O in i){var H=i[O];if(i.hasOwnProperty(O)&&H!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":S=H;default:r.hasOwnProperty(O)||Je(e,t,O,null,r,H)}}for(var M in r){var O=r[M];if(H=i[M],r.hasOwnProperty(M)&&(O!=null||H!=null))switch(M){case"type":u=O;break;case"name":c=O;break;case"checked":R=O;break;case"defaultChecked":z=O;break;case"value":m=O;break;case"defaultValue":_=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(137,t));break;default:O!==H&&Je(e,t,M,O,r,H)}}mc(e,m,_,S,R,z,u,c);return;case"select":O=m=_=M=null;for(u in i)if(S=i[u],i.hasOwnProperty(u)&&S!=null)switch(u){case"value":break;case"multiple":O=S;default:r.hasOwnProperty(u)||Je(e,t,u,null,r,S)}for(c in r)if(u=r[c],S=i[c],r.hasOwnProperty(c)&&(u!=null||S!=null))switch(c){case"value":M=u;break;case"defaultValue":_=u;break;case"multiple":m=u;default:u!==S&&Je(e,t,c,u,r,S)}t=_,i=m,r=O,M!=null?Tl(e,!!i,M,!1):!!r!=!!i&&(t!=null?Tl(e,!!i,t,!0):Tl(e,!!i,i?[]:"",!1));return;case"textarea":O=M=null;for(_ in i)if(c=i[_],i.hasOwnProperty(_)&&c!=null&&!r.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Je(e,t,_,null,r,c)}for(m in r)if(c=r[m],u=i[m],r.hasOwnProperty(m)&&(c!=null||u!=null))switch(m){case"value":M=c;break;case"defaultValue":O=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==u&&Je(e,t,m,c,r,u)}mh(e,M,O);return;case"option":for(var se in i)M=i[se],i.hasOwnProperty(se)&&M!=null&&!r.hasOwnProperty(se)&&(se==="selected"?e.selected=!1:Je(e,t,se,null,r,M));for(S in r)M=r[S],O=i[S],r.hasOwnProperty(S)&&M!==O&&(M!=null||O!=null)&&(S==="selected"?e.selected=M&&typeof M!="function"&&typeof M!="symbol":Je(e,t,S,M,r,O));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in i)M=i[_e],i.hasOwnProperty(_e)&&M!=null&&!r.hasOwnProperty(_e)&&Je(e,t,_e,null,r,M);for(R in r)if(M=r[R],O=i[R],r.hasOwnProperty(R)&&M!==O&&(M!=null||O!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(a(137,t));break;default:Je(e,t,R,M,r,O)}return;default:if(gc(t)){for(var et in i)M=i[et],i.hasOwnProperty(et)&&M!==void 0&&!r.hasOwnProperty(et)&&nf(e,t,et,void 0,r,M);for(z in r)M=r[z],O=i[z],!r.hasOwnProperty(z)||M===O||M===void 0&&O===void 0||nf(e,t,z,M,r,O);return}}for(var E in i)M=i[E],i.hasOwnProperty(E)&&M!=null&&!r.hasOwnProperty(E)&&Je(e,t,E,null,r,M);for(H in r)M=r[H],O=i[H],!r.hasOwnProperty(H)||M===O||M==null&&O==null||Je(e,t,H,M,r,O)}function _g(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Pb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),r=0;r<i.length;r++){var c=i[r],u=c.transferSize,m=c.initiatorType,_=c.duration;if(u&&_&&_g(m)){for(m=0,_=c.responseEnd,r+=1;r<i.length;r++){var S=i[r],R=S.startTime;if(R>_)break;var z=S.transferSize,H=S.initiatorType;z&&_g(H)&&(S=S.responseEnd,m+=z*(S<_?1:(_-R)/(S-R)))}if(--r,t+=8*(u+m)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var lf=null,sf=null;function no(e){return e.nodeType===9?e:e.ownerDocument}function vg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function af(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rf=null;function Xb(){var e=window.event;return e&&e.type==="popstate"?e===rf?!1:(rf=e,!0):(rf=null,!1)}var xg=typeof setTimeout=="function"?setTimeout:void 0,Fb=typeof clearTimeout=="function"?clearTimeout:void 0,Sg=typeof Promise=="function"?Promise:void 0,Zb=typeof queueMicrotask=="function"?queueMicrotask:typeof Sg<"u"?function(e){return Sg.resolve(null).then(e).catch(Kb)}:xg;function Kb(e){setTimeout(function(){throw e})}function Ri(e){return e==="head"}function wg(e,t){var i=t,r=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"||i==="/&"){if(r===0){e.removeChild(c),ls(t);return}r--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")r++;else if(i==="html")ha(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,ha(i);for(var u=i.firstChild;u;){var m=u.nextSibling,_=u.nodeName;u[Os]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&u.rel.toLowerCase()==="stylesheet"||i.removeChild(u),u=m}}else i==="body"&&ha(e.ownerDocument.body);i=c}while(i);ls(t)}function Cg(e,t){var i=e;e=0;do{var r=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=r}while(i)}function of(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":of(i),dc(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Wb(e,t,i,r){for(;e.nodeType===1;){var c=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Os])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=_n(e.nextSibling),e===null)break}return null}function $b(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=_n(e.nextSibling),e===null))return null;return e}function Eg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=_n(e.nextSibling),e===null))return null;return e}function cf(e){return e.data==="$?"||e.data==="$~"}function uf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Jb(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var r=function(){t(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function _n(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ff=null;function Tg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return _n(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function Ng(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function Ag(e,t,i){switch(t=no(i),e){case"html":if(e=t.documentElement,!e)throw Error(a(452));return e;case"head":if(e=t.head,!e)throw Error(a(453));return e;case"body":if(e=t.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ha(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);dc(e)}var vn=new Map,Rg=new Set;function io(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ii=Z.d;Z.d={f:e1,r:t1,D:n1,C:i1,L:l1,m:s1,X:r1,S:a1,M:o1};function e1(){var e=ii.f(),t=Fr();return e||t}function t1(e){var t=wl(e);t!==null&&t.tag===5&&t.type==="form"?Pm(t):ii.r(e)}var ts=typeof document>"u"?null:document;function Mg(e,t,i){var r=ts;if(r&&typeof t=="string"&&t){var c=fn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),Rg.has(c)||(Rg.add(c),e={rel:e,crossOrigin:i,href:t},r.querySelector(c)===null&&(t=r.createElement("link"),Lt(t,"link",e),Tt(t),r.head.appendChild(t)))}}function n1(e){ii.D(e),Mg("dns-prefetch",e,null)}function i1(e,t){ii.C(e,t),Mg("preconnect",e,t)}function l1(e,t,i){ii.L(e,t,i);var r=ts;if(r&&e&&t){var c='link[rel="preload"][as="'+fn(t)+'"]';t==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+fn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+fn(i.imageSizes)+'"]')):c+='[href="'+fn(e)+'"]';var u=c;switch(t){case"style":u=ns(e);break;case"script":u=is(e)}vn.has(u)||(e=v({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),vn.set(u,e),r.querySelector(c)!==null||t==="style"&&r.querySelector(ma(u))||t==="script"&&r.querySelector(pa(u))||(t=r.createElement("link"),Lt(t,"link",e),Tt(t),r.head.appendChild(t)))}}function s1(e,t){ii.m(e,t);var i=ts;if(i&&e){var r=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+fn(r)+'"][href="'+fn(e)+'"]',u=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=is(e)}if(!vn.has(u)&&(e=v({rel:"modulepreload",href:e},t),vn.set(u,e),i.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(pa(u)))return}r=i.createElement("link"),Lt(r,"link",e),Tt(r),i.head.appendChild(r)}}}function a1(e,t,i){ii.S(e,t,i);var r=ts;if(r&&e){var c=Cl(r).hoistableStyles,u=ns(e);t=t||"default";var m=c.get(u);if(!m){var _={loading:0,preload:null};if(m=r.querySelector(ma(u)))_.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},i),(i=vn.get(u))&&df(e,i);var S=m=r.createElement("link");Tt(S),Lt(S,"link",e),S._p=new Promise(function(R,z){S.onload=R,S.onerror=z}),S.addEventListener("load",function(){_.loading|=1}),S.addEventListener("error",function(){_.loading|=2}),_.loading|=4,lo(m,t,r)}m={type:"stylesheet",instance:m,count:1,state:_},c.set(u,m)}}}function r1(e,t){ii.X(e,t);var i=ts;if(i&&e){var r=Cl(i).hoistableScripts,c=is(e),u=r.get(c);u||(u=i.querySelector(pa(c)),u||(e=v({src:e,async:!0},t),(t=vn.get(c))&&hf(e,t),u=i.createElement("script"),Tt(u),Lt(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(c,u))}}function o1(e,t){ii.M(e,t);var i=ts;if(i&&e){var r=Cl(i).hoistableScripts,c=is(e),u=r.get(c);u||(u=i.querySelector(pa(c)),u||(e=v({src:e,async:!0,type:"module"},t),(t=vn.get(c))&&hf(e,t),u=i.createElement("script"),Tt(u),Lt(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(c,u))}}function Og(e,t,i,r){var c=(c=Ee.current)?io(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=ns(i.href),i=Cl(c).hoistableStyles,r=i.get(t),r||(r={type:"style",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=ns(i.href);var u=Cl(c).hoistableStyles,m=u.get(e);if(m||(c=c.ownerDocument||c,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=c.querySelector(ma(e)))&&!u._p&&(m.instance=u,m.state.loading=5),vn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},vn.set(e,i),u||c1(c,e,i,m.state))),t&&r===null)throw Error(a(528,""));return m}if(t&&r!==null)throw Error(a(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=is(i),i=Cl(c).hoistableScripts,r=i.get(t),r||(r={type:"script",instance:null,count:0,state:null},i.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ns(e){return'href="'+fn(e)+'"'}function ma(e){return'link[rel="stylesheet"]['+e+"]"}function Dg(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function c1(e,t,i,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Lt(t,"link",i),Tt(t),e.head.appendChild(t))}function is(e){return'[src="'+fn(e)+'"]'}function pa(e){return"script[async]"+e}function jg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+fn(i.href)+'"]');if(r)return t.instance=r,Tt(r),r;var c=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Tt(r),Lt(r,"style",c),lo(r,i.precedence,e),t.instance=r;case"stylesheet":c=ns(i.href);var u=e.querySelector(ma(c));if(u)return t.state.loading|=4,t.instance=u,Tt(u),u;r=Dg(i),(c=vn.get(c))&&df(r,c),u=(e.ownerDocument||e).createElement("link"),Tt(u);var m=u;return m._p=new Promise(function(_,S){m.onload=_,m.onerror=S}),Lt(u,"link",r),t.state.loading|=4,lo(u,i.precedence,e),t.instance=u;case"script":return u=is(i.src),(c=e.querySelector(pa(u)))?(t.instance=c,Tt(c),c):(r=i,(c=vn.get(u))&&(r=v({},i),hf(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),Tt(c),Lt(c,"link",r),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(a(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,lo(r,i.precedence,e));return t.instance}function lo(e,t,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,u=c,m=0;m<r.length;m++){var _=r[m];if(_.dataset.precedence===t)u=_;else if(u!==c)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function df(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function hf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var so=null;function zg(e,t,i){if(so===null){var r=new Map,c=so=new Map;c.set(i,r)}else c=so,r=c.get(i),r||(r=new Map,c.set(i,r));if(r.has(e))return r;for(r.set(e,null),i=i.getElementsByTagName(e),c=0;c<i.length;c++){var u=i[c];if(!(u[Os]||u[zt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var _=r.get(m);_?_.push(u):r.set(m,[u])}}return r}function kg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function u1(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ig(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function f1(e,t,i,r){if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var c=ns(r.href),u=t.querySelector(ma(c));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ao.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=u,Tt(u);return}u=t.ownerDocument||t,r=Dg(r),(c=vn.get(c))&&df(r,c),u=u.createElement("link"),Tt(u);var m=u;m._p=new Promise(function(_,S){m.onload=_,m.onerror=S}),Lt(u,"link",r),i.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=ao.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var mf=0;function d1(e,t){return e.stylesheets&&e.count===0&&oo(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var r=setTimeout(function(){if(e.stylesheets&&oo(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&mf===0&&(mf=62500*Pb());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&oo(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>mf?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function ao(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ro=null;function oo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ro=new Map,t.forEach(h1,e),ro=null,ao.call(e))}function h1(e,t){if(!(t.state.loading&4)){var i=ro.get(e);if(i)var r=i.get(null);else{i=new Map,ro.set(e,i);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<c.length;u++){var m=c[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(i.set(m.dataset.precedence,m),r=m)}r&&i.set(null,r)}c=t.instance,m=c.getAttribute("data-precedence"),u=i.get(m)||r,u===r&&i.set(null,c),i.set(m,c),this.count++,r=ao.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),u?u.parentNode.insertBefore(c,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var ga={$$typeof:P,Provider:null,Consumer:null,_currentValue:T,_currentValue2:T,_threadCount:0};function m1(e,t,i,r,c,u,m,_,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oc(0),this.hiddenUpdates=oc(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Ug(e,t,i,r,c,u,m,_,S,R,z,H){return e=new m1(e,t,i,m,S,R,z,H,_),t=1,u===!0&&(t|=24),u=tn(3,null,null,t),e.current=u,u.stateNode=e,t=Pc(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:r,isDehydrated:i,cache:t},Kc(u),e}function Lg(e){return e?(e=zl,e):zl}function Hg(e,t,i,r,c,u){c=Lg(c),r.context===null?r.context=c:r.pendingContext=c,r=_i(t),r.payload={element:i},u=u===void 0?null:u,u!==null&&(r.callback=u),i=vi(e,r,t),i!==null&&(Kt(i,e,t),Fs(i,e,t))}function Bg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function pf(e,t){Bg(e,t),(e=e.alternate)&&Bg(e,t)}function Gg(e){if(e.tag===13||e.tag===31){var t=Zi(e,67108864);t!==null&&Kt(t,e,67108864),pf(e,67108864)}}function qg(e){if(e.tag===13||e.tag===31){var t=rn();t=cc(t);var i=Zi(e,t);i!==null&&Kt(i,e,t),pf(e,t)}}var co=!0;function p1(e,t,i,r){var c=D.T;D.T=null;var u=Z.p;try{Z.p=2,gf(e,t,i,r)}finally{Z.p=u,D.T=c}}function g1(e,t,i,r){var c=D.T;D.T=null;var u=Z.p;try{Z.p=8,gf(e,t,i,r)}finally{Z.p=u,D.T=c}}function gf(e,t,i,r){if(co){var c=yf(r);if(c===null)tf(e,t,r,uo,i),Vg(e,r);else if(_1(c,e,t,i,r))r.stopPropagation();else if(Vg(e,r),t&4&&-1<y1.indexOf(e)){for(;c!==null;){var u=wl(c);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=Vi(u.pendingLanes);if(m!==0){var _=u;for(_.pendingLanes|=2,_.entangledLanes|=2;m;){var S=1<<31-Jt(m);_.entanglements[1]|=S,m&=~S}zn(u),(Pe&6)===0&&(Pr=X()+500,ua(0))}}break;case 31:case 13:_=Zi(u,2),_!==null&&Kt(_,u,2),Fr(),pf(u,2)}if(u=yf(r),u===null&&tf(e,t,r,uo,i),u===c)break;c=u}c!==null&&r.stopPropagation()}else tf(e,t,r,null,i)}}function yf(e){return e=_c(e),_f(e)}var uo=null;function _f(e){if(uo=null,e=Sl(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=d(t),e!==null)return e;e=null}else if(i===31){if(e=h(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return uo=e,null}function Yg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ve()){case De:return 2;case le:return 8;case pe:case qe:return 32;case Et:return 268435456;default:return 32}default:return 32}}var vf=!1,Mi=null,Oi=null,Di=null,ya=new Map,_a=new Map,ji=[],y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vg(e,t){switch(e){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":ya.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_a.delete(t.pointerId)}}function va(e,t,i,r,c,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:u,targetContainers:[c]},t!==null&&(t=wl(t),t!==null&&Gg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function _1(e,t,i,r,c){switch(t){case"focusin":return Mi=va(Mi,e,t,i,r,c),!0;case"dragenter":return Oi=va(Oi,e,t,i,r,c),!0;case"mouseover":return Di=va(Di,e,t,i,r,c),!0;case"pointerover":var u=c.pointerId;return ya.set(u,va(ya.get(u)||null,e,t,i,r,c)),!0;case"gotpointercapture":return u=c.pointerId,_a.set(u,va(_a.get(u)||null,e,t,i,r,c)),!0}return!1}function Qg(e){var t=Sl(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=d(i),t!==null){e.blockedOn=t,sh(e.priority,function(){qg(i)});return}}else if(t===31){if(t=h(i),t!==null){e.blockedOn=t,sh(e.priority,function(){qg(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=yf(e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);yc=r,i.target.dispatchEvent(r),yc=null}else return t=wl(i),t!==null&&Gg(t),e.blockedOn=i,!1;t.shift()}return!0}function Pg(e,t,i){fo(e)&&i.delete(t)}function v1(){vf=!1,Mi!==null&&fo(Mi)&&(Mi=null),Oi!==null&&fo(Oi)&&(Oi=null),Di!==null&&fo(Di)&&(Di=null),ya.forEach(Pg),_a.forEach(Pg)}function ho(e,t){e.blockedOn===t&&(e.blockedOn=null,vf||(vf=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,v1)))}var mo=null;function Xg(e){mo!==e&&(mo=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){mo===e&&(mo=null);for(var t=0;t<e.length;t+=3){var i=e[t],r=e[t+1],c=e[t+2];if(typeof r!="function"){if(_f(r||i)===null)continue;break}var u=wl(i);u!==null&&(e.splice(t,3),t-=3,gu(u,{pending:!0,data:c,method:i.method,action:r},r,c))}}))}function ls(e){function t(S){return ho(S,e)}Mi!==null&&ho(Mi,e),Oi!==null&&ho(Oi,e),Di!==null&&ho(Di,e),ya.forEach(t),_a.forEach(t);for(var i=0;i<ji.length;i++){var r=ji[i];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ji.length&&(i=ji[0],i.blockedOn===null);)Qg(i),i.blockedOn===null&&ji.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var c=i[r],u=i[r+1],m=c[Vt]||null;if(typeof u=="function")m||Xg(i);else if(m){var _=null;if(u&&u.hasAttribute("formAction")){if(c=u,m=u[Vt]||null)_=m.formAction;else if(_f(c)!==null)continue}else _=m.action;typeof _=="function"?i[r+1]=_:(i.splice(r,3),r-=3),Xg(i)}}}function Fg(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(m){return c=m})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),r||setTimeout(i,20)}function i(){if(!r&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function bf(e){this._internalRoot=e}po.prototype.render=bf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));var i=t.current,r=rn();Hg(i,r,e,t,null,null)},po.prototype.unmount=bf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hg(e.current,2,null,e,null,null),Fr(),t[xl]=null}};function po(e){this._internalRoot=e}po.prototype.unstable_scheduleHydration=function(e){if(e){var t=lh();e={blockedOn:null,target:e,priority:t};for(var i=0;i<ji.length&&t!==0&&t<ji[i].priority;i++);ji.splice(i,0,e),i===0&&Qg(e)}};var Zg=n.version;if(Zg!=="19.2.3")throw Error(a(527,Zg,"19.2.3"));Z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var b1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!go.isDisabled&&go.supportsFiber)try{xn=go.inject(b1),jt=go}catch{}}return xa.createRoot=function(e,t){if(!o(e))throw Error(a(299));var i=!1,r="",c=np,u=ip,m=lp;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=Ug(e,1,!1,null,null,i,r,null,c,u,m,Fg),e[xl]=t.current,ef(e),new bf(t)},xa.hydrateRoot=function(e,t,i){if(!o(e))throw Error(a(299));var r=!1,c="",u=np,m=ip,_=lp,S=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(u=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.formState!==void 0&&(S=i.formState)),t=Ug(e,1,!0,t,i??null,r,c,S,u,m,_,Fg),t.context=Lg(null),i=t.current,r=rn(),r=cc(r),c=_i(r),c.callback=null,vi(i,c,r),i=r,t.current.lanes=i,Ms(t,i),zn(t),e[xl]=t.current,ef(e),new po(t)},xa.version="19.2.3",xa}var sy;function M1(){if(sy)return wf.exports;sy=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),wf.exports=R1(),wf.exports}var O1=M1();const D1=()=>{};var ay={};const p0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const W=function(l,n){if(!l)throw Ss(n)},Ss=function(l){return new Error("Firebase Database ("+p0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+l)};const g0=function(l){const n=[];let s=0;for(let a=0;a<l.length;a++){let o=l.charCodeAt(a);o<128?n[s++]=o:o<2048?(n[s++]=o>>6|192,n[s++]=o&63|128):(o&64512)===55296&&a+1<l.length&&(l.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(l.charCodeAt(++a)&1023),n[s++]=o>>18|240,n[s++]=o>>12&63|128,n[s++]=o>>6&63|128,n[s++]=o&63|128):(n[s++]=o>>12|224,n[s++]=o>>6&63|128,n[s++]=o&63|128)}return n},j1=function(l){const n=[];let s=0,a=0;for(;s<l.length;){const o=l[s++];if(o<128)n[a++]=String.fromCharCode(o);else if(o>191&&o<224){const f=l[s++];n[a++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=l[s++],d=l[s++],h=l[s++],g=((o&7)<<18|(f&63)<<12|(d&63)<<6|h&63)-65536;n[a++]=String.fromCharCode(55296+(g>>10)),n[a++]=String.fromCharCode(56320+(g&1023))}else{const f=l[s++],d=l[s++];n[a++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return n.join("")},gd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,n){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<l.length;o+=3){const f=l[o],d=o+1<l.length,h=d?l[o+1]:0,g=o+2<l.length,p=g?l[o+2]:0,b=f>>2,v=(f&3)<<4|h>>4;let x=(h&15)<<2|p>>6,N=p&63;g||(N=64,d||(x=64)),a.push(s[b],s[v],s[x],s[N])}return a.join("")},encodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(l):this.encodeByteArray(g0(l),n)},decodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(l):j1(this.decodeStringToByteArray(l,n))},decodeStringToByteArray(l,n){this.init_();const s=n?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<l.length;){const f=s[l.charAt(o++)],h=o<l.length?s[l.charAt(o)]:0;++o;const p=o<l.length?s[l.charAt(o)]:64;++o;const v=o<l.length?s[l.charAt(o)]:64;if(++o,f==null||h==null||p==null||v==null)throw new z1;const x=f<<2|h>>4;if(a.push(x),p!==64){const N=h<<4&240|p>>2;if(a.push(N),v!==64){const V=p<<6&192|v;a.push(V)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class z1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y0=function(l){const n=g0(l);return gd.encodeByteArray(n,!0)},No=function(l){return y0(l).replace(/\./g,"")},Yf=function(l){try{return gd.decodeString(l,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};function k1(l){return _0(void 0,l)}function _0(l,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const s=n;return new Date(s.getTime());case Object:l===void 0&&(l={});break;case Array:l=[];break;default:return n}for(const s in n)!n.hasOwnProperty(s)||!I1(s)||(l[s]=_0(l[s],n[s]));return l}function I1(l){return l!=="__proto__"}function U1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const L1=()=>U1().__FIREBASE_DEFAULTS__,H1=()=>{if(typeof process>"u"||typeof ay>"u")return;const l=ay.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},B1=()=>{if(typeof document>"u")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=l&&Yf(l[1]);return n&&JSON.parse(n)},v0=()=>{try{return D1()||L1()||H1()||B1()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},G1=l=>v0()?.emulatorHosts?.[l],q1=l=>{const n=G1(l);if(!n)return;const s=n.lastIndexOf(":");if(s<=0||s+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const a=parseInt(n.substring(s+1),10);return n[0]==="["?[n.substring(1,s-1),a]:[n.substring(0,s),a]},b0=()=>v0()?.config;class Un{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,s)=>{this.resolve=n,this.reject=s})}wrapCallback(n){return(s,a)=>{s?this.reject(s):this.resolve(a),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(s):n(s,a))}}}function yd(l){try{return(l.startsWith("http://")||l.startsWith("https://")?new URL(l).hostname:l).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Y1(l){return(await fetch(l,{credentials:"include"})).ok}function V1(l,n){if(l.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},a=n||"demo-project",o=l.iat||0,f=l.sub||l.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...l};return[No(JSON.stringify(s)),No(JSON.stringify(d)),""].join(".")}const Ma={};function Q1(){const l={prod:[],emulator:[]};for(const n of Object.keys(Ma))Ma[n]?l.emulator.push(n):l.prod.push(n);return l}function P1(l){let n=document.getElementById(l),s=!1;return n||(n=document.createElement("div"),n.setAttribute("id",l),s=!0),{created:s,element:n}}let ry=!1;function X1(l,n){if(typeof window>"u"||typeof document>"u"||!yd(window.location.host)||Ma[l]===n||Ma[l]||ry)return;Ma[l]=n;function s(x){return`__firebase__banner__${x}`}const a="__firebase__banner",f=Q1().prod.length>0;function d(){const x=document.getElementById(a);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function g(x,N){x.setAttribute("width","24"),x.setAttribute("id",N),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{ry=!0,d()},x}function b(x,N){x.setAttribute("id",N),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=P1(a),N=s("text"),V=document.getElementById(N)||document.createElement("span"),G=s("learnmore"),j=document.getElementById(G)||document.createElement("a"),ee=s("preprendIcon"),Q=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const P=x.element;h(P),b(j,G);const Se=p();g(Q,ee),P.append(Q,V,j,Se),document.body.appendChild(P)}f?(V.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function F1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(F1())}function Z1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function K1(){return p0.NODE_ADMIN===!0}function W1(){try{return typeof indexedDB=="object"}catch{return!1}}function $1(){return new Promise((l,n)=>{try{let s=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(a),l(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{n(o.error?.message||"")}}catch(s){n(s)}})}const J1="FirebaseError";class Pa extends Error{constructor(n,s,a){super(s),this.code=n,this.customData=a,this.name=J1,Object.setPrototypeOf(this,Pa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S0.prototype.create)}}class S0{constructor(n,s,a){this.service=n,this.serviceName=s,this.errors=a}create(n,...s){const a=s[0]||{},o=`${this.service}/${n}`,f=this.errors[n],d=f?ex(f,a):"Error",h=`${this.serviceName}: ${d} (${o}).`;return new Pa(o,h,a)}}function ex(l,n){return l.replace(tx,(s,a)=>{const o=n[a];return o!=null?String(o):`<${a}?>`})}const tx=/\{\$([^}]+)}/g;function Ia(l){return JSON.parse(l)}function Ot(l){return JSON.stringify(l)}const w0=function(l){let n={},s={},a={},o="";try{const f=l.split(".");n=Ia(Yf(f[0])||""),s=Ia(Yf(f[1])||""),o=f[2],a=s.d||{},delete s.d}catch{}return{header:n,claims:s,data:a,signature:o}},nx=function(l){const n=w0(l),s=n.claims;return!!s&&typeof s=="object"&&s.hasOwnProperty("iat")},ix=function(l){const n=w0(l).claims;return typeof n=="object"&&n.admin===!0};function Ln(l,n){return Object.prototype.hasOwnProperty.call(l,n)}function ms(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]}function Vf(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}function Ao(l,n,s){const a={};for(const o in l)Object.prototype.hasOwnProperty.call(l,o)&&(a[o]=n.call(s,l[o],o,l));return a}function Ro(l,n){if(l===n)return!0;const s=Object.keys(l),a=Object.keys(n);for(const o of s){if(!a.includes(o))return!1;const f=l[o],d=n[o];if(oy(f)&&oy(d)){if(!Ro(f,d))return!1}else if(f!==d)return!1}for(const o of a)if(!s.includes(o))return!1;return!0}function oy(l){return l!==null&&typeof l=="object"}function lx(l){const n=[];for(const[s,a]of Object.entries(l))Array.isArray(a)?a.forEach(o=>{n.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):n.push(encodeURIComponent(s)+"="+encodeURIComponent(a));return n.length?"&"+n.join("&"):""}class sx{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,s){s||(s=0);const a=this.W_;if(typeof n=="string")for(let v=0;v<16;v++)a[v]=n.charCodeAt(s)<<24|n.charCodeAt(s+1)<<16|n.charCodeAt(s+2)<<8|n.charCodeAt(s+3),s+=4;else for(let v=0;v<16;v++)a[v]=n[s]<<24|n[s+1]<<16|n[s+2]<<8|n[s+3],s+=4;for(let v=16;v<80;v++){const x=a[v-3]^a[v-8]^a[v-14]^a[v-16];a[v]=(x<<1|x>>>31)&4294967295}let o=this.chain_[0],f=this.chain_[1],d=this.chain_[2],h=this.chain_[3],g=this.chain_[4],p,b;for(let v=0;v<80;v++){v<40?v<20?(p=h^f&(d^h),b=1518500249):(p=f^d^h,b=1859775393):v<60?(p=f&d|h&(f|d),b=2400959708):(p=f^d^h,b=3395469782);const x=(o<<5|o>>>27)+p+g+b+a[v]&4294967295;g=h,h=d,d=(f<<30|f>>>2)&4294967295,f=o,o=x}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(n,s){if(n==null)return;s===void 0&&(s=n.length);const a=s-this.blockSize;let o=0;const f=this.buf_;let d=this.inbuf_;for(;o<s;){if(d===0)for(;o<=a;)this.compress_(n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<s;)if(f[d]=n.charCodeAt(o),++d,++o,d===this.blockSize){this.compress_(f),d=0;break}}else for(;o<s;)if(f[d]=n[o],++d,++o,d===this.blockSize){this.compress_(f),d=0;break}}this.inbuf_=d,this.total_+=s}digest(){const n=[];let s=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=s&255,s/=256;this.compress_(this.buf_);let a=0;for(let o=0;o<5;o++)for(let f=24;f>=0;f-=8)n[a]=this.chain_[o]>>f&255,++a;return n}}function ps(l,n){return`${l} failed: ${n} argument `}const ax=function(l){const n=[];let s=0;for(let a=0;a<l.length;a++){let o=l.charCodeAt(a);if(o>=55296&&o<=56319){const f=o-55296;a++,W(a<l.length,"Surrogate pair missing trail surrogate.");const d=l.charCodeAt(a)-56320;o=65536+(f<<10)+d}o<128?n[s++]=o:o<2048?(n[s++]=o>>6|192,n[s++]=o&63|128):o<65536?(n[s++]=o>>12|224,n[s++]=o>>6&63|128,n[s++]=o&63|128):(n[s++]=o>>18|240,n[s++]=o>>12&63|128,n[s++]=o>>6&63|128,n[s++]=o&63|128)}return n},Fo=function(l){let n=0;for(let s=0;s<l.length;s++){const a=l.charCodeAt(s);a<128?n++:a<2048?n+=2:a>=55296&&a<=56319?(n+=4,s++):n+=3}return n};function _l(l){return l&&l._delegate?l._delegate:l}class Ua{constructor(n,s,a){this.name=n,this.instanceFactory=s,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}const cl="[DEFAULT]";class rx{constructor(n,s){this.name=n,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const s=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(s)){const a=new Un;if(this.instancesDeferred.set(s,a),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(n){const s=this.normalizeInstanceIdentifier(n?.identifier),a=n?.optional??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(cx(n))try{this.getOrInitializeService({instanceIdentifier:cl})}catch{}for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const f=this.getOrInitializeService({instanceIdentifier:o});a.resolve(f)}catch{}}}}clearInstance(n=cl){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...n.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=cl){return this.instances.has(n)}getOptions(n=cl){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:s={}}=n,a=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:s});for(const[f,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(f);a===h&&d.resolve(o)}return o}onInit(n,s){const a=this.normalizeInstanceIdentifier(s),o=this.onInitCallbacks.get(a)??new Set;o.add(n),this.onInitCallbacks.set(a,o);const f=this.instances.get(a);return f&&n(f,a),()=>{o.delete(n)}}invokeOnInitCallbacks(n,s){const a=this.onInitCallbacks.get(s);if(a)for(const o of a)try{o(n,s)}catch{}}getOrInitializeService({instanceIdentifier:n,options:s={}}){let a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:ox(n),options:s}),this.instances.set(n,a),this.instancesOptions.set(n,s),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch{}return a||null}normalizeInstanceIdentifier(n=cl){return this.component?this.component.multipleInstances?n:cl:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ox(l){return l===cl?void 0:l}function cx(l){return l.instantiationMode==="EAGER"}class ux{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const s=this.getProvider(n.name);if(s.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);s.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const s=new rx(n,this);return this.providers.set(n,s),s}getProviders(){return Array.from(this.providers.values())}}var st;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(st||(st={}));const fx={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},dx=st.INFO,hx={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},mx=(l,n,...s)=>{if(n<l.logLevel)return;const a=new Date().toISOString(),o=hx[n];if(o)console[o](`[${a}]  ${l.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class C0{constructor(n){this.name=n,this._logLevel=dx,this._logHandler=mx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in st))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?fx[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...n),this._logHandler(this,st.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...n),this._logHandler(this,st.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,st.INFO,...n),this._logHandler(this,st.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,st.WARN,...n),this._logHandler(this,st.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...n),this._logHandler(this,st.ERROR,...n)}}const px=(l,n)=>n.some(s=>l instanceof s);let cy,uy;function gx(){return cy||(cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yx(){return uy||(uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E0=new WeakMap,Qf=new WeakMap,T0=new WeakMap,Nf=new WeakMap,_d=new WeakMap;function _x(l){const n=new Promise((s,a)=>{const o=()=>{l.removeEventListener("success",f),l.removeEventListener("error",d)},f=()=>{s(Ui(l.result)),o()},d=()=>{a(l.error),o()};l.addEventListener("success",f),l.addEventListener("error",d)});return n.then(s=>{s instanceof IDBCursor&&E0.set(s,l)}).catch(()=>{}),_d.set(n,l),n}function vx(l){if(Qf.has(l))return;const n=new Promise((s,a)=>{const o=()=>{l.removeEventListener("complete",f),l.removeEventListener("error",d),l.removeEventListener("abort",d)},f=()=>{s(),o()},d=()=>{a(l.error||new DOMException("AbortError","AbortError")),o()};l.addEventListener("complete",f),l.addEventListener("error",d),l.addEventListener("abort",d)});Qf.set(l,n)}let Pf={get(l,n,s){if(l instanceof IDBTransaction){if(n==="done")return Qf.get(l);if(n==="objectStoreNames")return l.objectStoreNames||T0.get(l);if(n==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Ui(l[n])},set(l,n,s){return l[n]=s,!0},has(l,n){return l instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in l}};function bx(l){Pf=l(Pf)}function xx(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...s){const a=l.call(Af(this),n,...s);return T0.set(a,n.sort?n.sort():[n]),Ui(a)}:yx().includes(l)?function(...n){return l.apply(Af(this),n),Ui(E0.get(this))}:function(...n){return Ui(l.apply(Af(this),n))}}function Sx(l){return typeof l=="function"?xx(l):(l instanceof IDBTransaction&&vx(l),px(l,gx())?new Proxy(l,Pf):l)}function Ui(l){if(l instanceof IDBRequest)return _x(l);if(Nf.has(l))return Nf.get(l);const n=Sx(l);return n!==l&&(Nf.set(l,n),_d.set(n,l)),n}const Af=l=>_d.get(l);function wx(l,n,{blocked:s,upgrade:a,blocking:o,terminated:f}={}){const d=indexedDB.open(l,n),h=Ui(d);return a&&d.addEventListener("upgradeneeded",g=>{a(Ui(d.result),g.oldVersion,g.newVersion,Ui(d.transaction),g)}),s&&d.addEventListener("blocked",g=>s(g.oldVersion,g.newVersion,g)),h.then(g=>{f&&g.addEventListener("close",()=>f()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const Cx=["get","getKey","getAll","getAllKeys","count"],Ex=["put","add","delete","clear"],Rf=new Map;function fy(l,n){if(!(l instanceof IDBDatabase&&!(n in l)&&typeof n=="string"))return;if(Rf.get(n))return Rf.get(n);const s=n.replace(/FromIndex$/,""),a=n!==s,o=Ex.includes(s);if(!(s in(a?IDBIndex:IDBObjectStore).prototype)||!(o||Cx.includes(s)))return;const f=async function(d,...h){const g=this.transaction(d,o?"readwrite":"readonly");let p=g.store;return a&&(p=p.index(h.shift())),(await Promise.all([p[s](...h),o&&g.done]))[0]};return Rf.set(n,f),f}bx(l=>({...l,get:(n,s,a)=>fy(n,s)||l.get(n,s,a),has:(n,s)=>!!fy(n,s)||l.has(n,s)}));class Tx{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(Nx(s)){const a=s.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(s=>s).join(" ")}}function Nx(l){return l.getComponent()?.type==="VERSION"}const Xf="@firebase/app",dy="0.14.6";const oi=new C0("@firebase/app"),Ax="@firebase/app-compat",Rx="@firebase/analytics-compat",Mx="@firebase/analytics",Ox="@firebase/app-check-compat",Dx="@firebase/app-check",jx="@firebase/auth",zx="@firebase/auth-compat",kx="@firebase/database",Ix="@firebase/data-connect",Ux="@firebase/database-compat",Lx="@firebase/functions",Hx="@firebase/functions-compat",Bx="@firebase/installations",Gx="@firebase/installations-compat",qx="@firebase/messaging",Yx="@firebase/messaging-compat",Vx="@firebase/performance",Qx="@firebase/performance-compat",Px="@firebase/remote-config",Xx="@firebase/remote-config-compat",Fx="@firebase/storage",Zx="@firebase/storage-compat",Kx="@firebase/firestore",Wx="@firebase/ai",$x="@firebase/firestore-compat",Jx="firebase",eS="12.6.0";const Ff="[DEFAULT]",tS={[Xf]:"fire-core",[Ax]:"fire-core-compat",[Mx]:"fire-analytics",[Rx]:"fire-analytics-compat",[Dx]:"fire-app-check",[Ox]:"fire-app-check-compat",[jx]:"fire-auth",[zx]:"fire-auth-compat",[kx]:"fire-rtdb",[Ix]:"fire-data-connect",[Ux]:"fire-rtdb-compat",[Lx]:"fire-fn",[Hx]:"fire-fn-compat",[Bx]:"fire-iid",[Gx]:"fire-iid-compat",[qx]:"fire-fcm",[Yx]:"fire-fcm-compat",[Vx]:"fire-perf",[Qx]:"fire-perf-compat",[Px]:"fire-rc",[Xx]:"fire-rc-compat",[Fx]:"fire-gcs",[Zx]:"fire-gcs-compat",[Kx]:"fire-fst",[$x]:"fire-fst-compat",[Wx]:"fire-vertex","fire-js":"fire-js",[Jx]:"fire-js-all"};const Mo=new Map,nS=new Map,Zf=new Map;function hy(l,n){try{l.container.addComponent(n)}catch(s){oi.debug(`Component ${n.name} failed to register with FirebaseApp ${l.name}`,s)}}function Oo(l){const n=l.name;if(Zf.has(n))return oi.debug(`There were multiple attempts to register component ${n}.`),!1;Zf.set(n,l);for(const s of Mo.values())hy(s,l);for(const s of nS.values())hy(s,l);return!0}function iS(l,n){const s=l.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),l.container.getProvider(n)}function lS(l){return l==null?!1:l.settings!==void 0}const sS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Li=new S0("app","Firebase",sS);class aS{constructor(n,s,a){this._isDeleted=!1,this._options={...n},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}const rS=eS;function N0(l,n={}){let s=l;typeof n!="object"&&(n={name:n});const a={name:Ff,automaticDataCollectionEnabled:!0,...n},o=a.name;if(typeof o!="string"||!o)throw Li.create("bad-app-name",{appName:String(o)});if(s||(s=b0()),!s)throw Li.create("no-options");const f=Mo.get(o);if(f){if(Ro(s,f.options)&&Ro(a,f.config))return f;throw Li.create("duplicate-app",{appName:o})}const d=new ux(o);for(const g of Zf.values())d.addComponent(g);const h=new aS(s,a,d);return Mo.set(o,h),h}function oS(l=Ff){const n=Mo.get(l);if(!n&&l===Ff&&b0())return N0();if(!n)throw Li.create("no-app",{appName:l});return n}function us(l,n,s){let a=tS[l]??l;s&&(a+=`-${s}`);const o=a.match(/\s|\//),f=n.match(/\s|\//);if(o||f){const d=[`Unable to register library "${a}" with version "${n}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&f&&d.push("and"),f&&d.push(`version name "${n}" contains illegal characters (whitespace or "/")`),oi.warn(d.join(" "));return}Oo(new Ua(`${a}-version`,()=>({library:a,version:n}),"VERSION"))}const cS="firebase-heartbeat-database",uS=1,La="firebase-heartbeat-store";let Mf=null;function A0(){return Mf||(Mf=wx(cS,uS,{upgrade:(l,n)=>{switch(n){case 0:try{l.createObjectStore(La)}catch(s){console.warn(s)}}}}).catch(l=>{throw Li.create("idb-open",{originalErrorMessage:l.message})})),Mf}async function fS(l){try{const s=(await A0()).transaction(La),a=await s.objectStore(La).get(R0(l));return await s.done,a}catch(n){if(n instanceof Pa)oi.warn(n.message);else{const s=Li.create("idb-get",{originalErrorMessage:n?.message});oi.warn(s.message)}}}async function my(l,n){try{const a=(await A0()).transaction(La,"readwrite");await a.objectStore(La).put(n,R0(l)),await a.done}catch(s){if(s instanceof Pa)oi.warn(s.message);else{const a=Li.create("idb-set",{originalErrorMessage:s?.message});oi.warn(a.message)}}}function R0(l){return`${l.name}!${l.options.appId}`}const dS=1024,hS=30;class mS{constructor(n){this.container=n,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new gS(s),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=py();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>hS){const o=yS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){oi.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=py(),{heartbeatsToSend:s,unsentEntries:a}=pS(this._heartbeatsCache.heartbeats),o=No(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return oi.warn(n),""}}}function py(){return new Date().toISOString().substring(0,10)}function pS(l,n=dS){const s=[];let a=l.slice();for(const o of l){const f=s.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),gy(s)>n){f.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),gy(s)>n){s.pop();break}a=a.slice(1)}return{heartbeatsToSend:s,unsentEntries:a}}class gS{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W1()?$1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await fS(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const a=await this.read();return my(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const a=await this.read();return my(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...n.heartbeats]})}else return}}function gy(l){return No(JSON.stringify({version:2,heartbeats:l})).length}function yS(l){if(l.length===0)return-1;let n=0,s=l[0].date;for(let a=1;a<l.length;a++)l[a].date<s&&(s=l[a].date,n=a);return n}function _S(l){Oo(new Ua("platform-logger",n=>new Tx(n),"PRIVATE")),Oo(new Ua("heartbeat",n=>new mS(n),"PRIVATE")),us(Xf,dy,l),us(Xf,dy,"esm2020"),us("fire-js","")}_S("");var yy={};const _y="@firebase/database",vy="1.1.0";let M0="";function vS(l){M0=l}class bS{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,s){s==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),Ot(s))}get(n){const s=this.domStorage_.getItem(this.prefixedName_(n));return s==null?null:Ia(s)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class xS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,s){s==null?delete this.cache_[n]:this.cache_[n]=s}get(n){return Ln(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const O0=function(l){try{if(typeof window<"u"&&typeof window[l]<"u"){const n=window[l];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new bS(n)}}catch{}return new xS},dl=O0("localStorage"),SS=O0("sessionStorage");const fs=new C0("@firebase/database"),wS=(function(){let l=1;return function(){return l++}})(),D0=function(l){const n=ax(l),s=new sx;s.update(n);const a=s.digest();return gd.encodeByteArray(a)},Xa=function(...l){let n="";for(let s=0;s<l.length;s++){const a=l[s];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?n+=Xa.apply(null,a):typeof a=="object"?n+=Ot(a):n+=a,n+=" "}return n};let Oa=null,by=!0;const CS=function(l,n){W(!0,"Can't turn on custom loggers persistently."),fs.logLevel=st.VERBOSE,Oa=fs.log.bind(fs)},Mt=function(...l){if(by===!0&&(by=!1,Oa===null&&SS.get("logging_enabled")===!0&&CS()),Oa){const n=Xa.apply(null,l);Oa(n)}},Fa=function(l){return function(...n){Mt(l,...n)}},Kf=function(...l){const n="FIREBASE INTERNAL ERROR: "+Xa(...l);fs.error(n)},ci=function(...l){const n=`FIREBASE FATAL ERROR: ${Xa(...l)}`;throw fs.error(n),new Error(n)},qt=function(...l){const n="FIREBASE WARNING: "+Xa(...l);fs.warn(n)},ES=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&qt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Zo=function(l){return typeof l=="number"&&(l!==l||l===Number.POSITIVE_INFINITY||l===Number.NEGATIVE_INFINITY)},TS=function(l){if(document.readyState==="complete")l();else{let n=!1;const s=function(){if(!document.body){setTimeout(s,Math.floor(10));return}n||(n=!0,l())};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&s()}),window.attachEvent("onload",s))}},gs="[MIN_NAME]",ml="[MAX_NAME]",vl=function(l,n){if(l===n)return 0;if(l===gs||n===ml)return-1;if(n===gs||l===ml)return 1;{const s=xy(l),a=xy(n);return s!==null?a!==null?s-a===0?l.length-n.length:s-a:-1:a!==null?1:l<n?-1:1}},NS=function(l,n){return l===n?0:l<n?-1:1},Sa=function(l,n){if(n&&l in n)return n[l];throw new Error("Missing required key ("+l+") in object: "+Ot(n))},vd=function(l){if(typeof l!="object"||l===null)return Ot(l);const n=[];for(const a in l)n.push(a);n.sort();let s="{";for(let a=0;a<n.length;a++)a!==0&&(s+=","),s+=Ot(n[a]),s+=":",s+=vd(l[n[a]]);return s+="}",s},j0=function(l,n){const s=l.length;if(s<=n)return[l];const a=[];for(let o=0;o<s;o+=n)o+n>s?a.push(l.substring(o,s)):a.push(l.substring(o,o+n));return a};function Dt(l,n){for(const s in l)l.hasOwnProperty(s)&&n(s,l[s])}const z0=function(l){W(!Zo(l),"Invalid JSON number");const n=11,s=52,a=(1<<n-1)-1;let o,f,d,h,g;l===0?(f=0,d=0,o=1/l===-1/0?1:0):(o=l<0,l=Math.abs(l),l>=Math.pow(2,1-a)?(h=Math.min(Math.floor(Math.log(l)/Math.LN2),a),f=h+a,d=Math.round(l*Math.pow(2,s-h)-Math.pow(2,s))):(f=0,d=Math.round(l/Math.pow(2,1-a-s))));const p=[];for(g=s;g;g-=1)p.push(d%2?1:0),d=Math.floor(d/2);for(g=n;g;g-=1)p.push(f%2?1:0),f=Math.floor(f/2);p.push(o?1:0),p.reverse();const b=p.join("");let v="";for(g=0;g<64;g+=8){let x=parseInt(b.substr(g,8),2).toString(16);x.length===1&&(x="0"+x),v=v+x}return v.toLowerCase()},AS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},RS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function MS(l,n){let s="Unknown Error";l==="too_big"?s="The data requested exceeds the maximum size that can be accessed with a single request.":l==="permission_denied"?s="Client doesn't have permission to access the desired data.":l==="unavailable"&&(s="The service is unavailable");const a=new Error(l+" at "+n._path.toString()+": "+s);return a.code=l.toUpperCase(),a}const OS=new RegExp("^-?(0*)\\d{1,10}$"),DS=-2147483648,jS=2147483647,xy=function(l){if(OS.test(l)){const n=Number(l);if(n>=DS&&n<=jS)return n}return null},ws=function(l){try{l()}catch(n){setTimeout(()=>{const s=n.stack||"";throw qt("Exception was thrown by user callback.",s),n},Math.floor(0))}},zS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Da=function(l,n){const s=setTimeout(l,n);return typeof s=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):typeof s=="object"&&s.unref&&s.unref(),s};class kS{constructor(n,s){this.appCheckProvider=s,this.appName=n.name,lS(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=s?.getImmediate({optional:!0}),this.appCheck||s?.get().then(a=>this.appCheck=a)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((s,a)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(s,a):s(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(s=>s.addTokenListener(n))}notifyForInvalidToken(){qt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class IS{constructor(n,s,a){this.appName_=n,this.firebaseOptions_=s,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(s=>s&&s.code==="auth/token-not-initialized"?(Mt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,a)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(s,a):s(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(s=>s.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(s=>s.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qt(n)}}class Co{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Co.OWNER="owner";const bd="5",k0="v",I0="s",U0="r",L0="f",H0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,B0="ls",G0="p",Wf="ac",q0="websocket",Y0="long_polling";class V0{constructor(n,s,a,o,f=!1,d="",h=!1,g=!1,p=null){this.secure=s,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=f,this.persistenceKey=d,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=g,this.emulatorOptions=p,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=dl.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&dl.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",s=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${s}`}}function US(l){return l.host!==l.internalHost||l.isCustomHost()||l.includeNamespaceInQueryParams}function Q0(l,n,s){W(typeof n=="string","typeof type must == string"),W(typeof s=="object","typeof params must == object");let a;if(n===q0)a=(l.secure?"wss://":"ws://")+l.internalHost+"/.ws?";else if(n===Y0)a=(l.secure?"https://":"http://")+l.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);US(l)&&(s.ns=l.namespace);const o=[];return Dt(s,(f,d)=>{o.push(f+"="+d)}),a+o.join("&")}class LS{constructor(){this.counters_={}}incrementCounter(n,s=1){Ln(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=s}get(){return k1(this.counters_)}}const Of={},Df={};function xd(l){const n=l.toString();return Of[n]||(Of[n]=new LS),Of[n]}function HS(l,n){const s=l.toString();return Df[s]||(Df[s]=n()),Df[s]}class BS{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,s){this.closeAfterResponse=n,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,s){for(this.pendingResponses[n]=s;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<a.length;++o)a[o]&&ws(()=>{this.onMessage_(a[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Sy="start",GS="close",qS="pLPCommand",YS="pRTLPCB",P0="id",X0="pw",F0="ser",VS="cb",QS="seg",PS="ts",XS="d",FS="dframe",Z0=1870,K0=30,ZS=Z0-K0,KS=25e3,WS=3e4;class os{constructor(n,s,a,o,f,d,h){this.connId=n,this.repoInfo=s,this.applicationId=a,this.appCheckToken=o,this.authToken=f,this.transportSessionId=d,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fa(n),this.stats_=xd(s),this.urlFn=g=>(this.appCheckToken&&(g[Wf]=this.appCheckToken),Q0(s,Y0,g))}open(n,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new BS(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(WS)),TS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Sd((...f)=>{const[d,h,g,p,b]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===Sy)this.id=h,this.password=g;else if(d===GS)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...f)=>{const[d,h]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(d,h)},()=>{this.onClosed_()},this.urlFn);const a={};a[Sy]="t",a[F0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[VS]=this.scriptTagHolder.uniqueCallbackIdentifier),a[k0]=bd,this.transportSessionId&&(a[I0]=this.transportSessionId),this.lastSessionId&&(a[B0]=this.lastSessionId),this.applicationId&&(a[G0]=this.applicationId),this.appCheckToken&&(a[Wf]=this.appCheckToken),typeof location<"u"&&location.hostname&&H0.test(location.hostname)&&(a[U0]=L0);const o=this.urlFn(a);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){os.forceAllow_=!0}static forceDisallow(){os.forceDisallow_=!0}static isAvailable(){return os.forceAllow_?!0:!os.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!AS()&&!RS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const s=Ot(n);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const a=y0(s),o=j0(a,ZS);for(let f=0;f<o.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[f]),this.curSegmentNum++}addDisconnectPingFrame(n,s){this.myDisconnFrame=document.createElement("iframe");const a={};a[FS]="t",a[P0]=n,a[X0]=s,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const s=Ot(n).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class Sd{constructor(n,s,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=wS(),window[qS+this.uniqueCallbackIdentifier]=n,window[YS+this.uniqueCallbackIdentifier]=s,this.myIFrame=Sd.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(h){Mt("frame writing exception"),h.stack&&Mt(h.stack),Mt(h)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||Mt("No IE domain setting required")}catch{const a=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,s){for(this.myID=n,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[P0]=this.myID,n[X0]=this.myPW,n[F0]=this.currentSerial;let s=this.urlFn(n),a="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+K0+a.length<=Z0;){const d=this.pendingSegs.shift();a=a+"&"+QS+o+"="+d.seg+"&"+PS+o+"="+d.ts+"&"+XS+o+"="+d.d,o++}return s=s+a,this.addLongPollTag_(s,this.currentSerial),!0}else return!1}enqueueSegment(n,s,a){this.pendingSegs.push({seg:n,ts:s,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(n,s){this.outstandingRequests.add(s);const a=()=>{this.outstandingRequests.delete(s),this.newRequest_()},o=setTimeout(a,Math.floor(KS)),f=()=>{clearTimeout(o),a()};this.addTag(n,f)}addTag(n,s){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=n,a.onload=a.onreadystatechange=function(){const o=a.readyState;(!o||o==="loaded"||o==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),s())},a.onerror=()=>{Mt("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}const $S=16384,JS=45e3;let Do=null;typeof MozWebSocket<"u"?Do=MozWebSocket:typeof WebSocket<"u"&&(Do=WebSocket);class En{constructor(n,s,a,o,f,d,h){this.connId=n,this.applicationId=a,this.appCheckToken=o,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fa(this.connId),this.stats_=xd(s),this.connURL=En.connectionURL_(s,d,h,o,a),this.nodeAdmin=s.nodeAdmin}static connectionURL_(n,s,a,o,f){const d={};return d[k0]=bd,typeof location<"u"&&location.hostname&&H0.test(location.hostname)&&(d[U0]=L0),s&&(d[I0]=s),a&&(d[B0]=a),o&&(d[Wf]=o),f&&(d[G0]=f),Q0(n,q0,d)}open(n,s){this.onDisconnect=s,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,dl.set("previous_websocket_failure",!0);try{let a;K1(),this.mySock=new Do(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){En.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(s);a&&a.length>1&&parseFloat(a[1])<4.4&&(n=!0)}return!n&&Do!==null&&!En.forceDisallow_}static previouslyFailed(){return dl.isInMemoryStorage||dl.get("previous_websocket_failure")===!0}markConnectionHealthy(){dl.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const a=Ia(s);this.onMessage(a)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(W(this.frames===null,"We already have a frame buffer"),n.length<=6){const s=Number(n);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const s=n.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(s);else{const a=this.extractFrameCount_(s);a!==null&&this.appendFrame_(a)}}send(n){this.resetKeepAlive();const s=Ot(n);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const a=j0(s,$S);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(JS))}sendString_(n){try{this.mySock.send(n)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}En.responsesRequiredToBeHealthy=2;En.healthyTimeout=3e4;class Ha{static get ALL_TRANSPORTS(){return[os,En]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const s=En&&En.isAvailable();let a=s&&!En.previouslyFailed();if(n.webSocketOnly&&(s||qt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[En];else{const o=this.transports_=[];for(const f of Ha.ALL_TRANSPORTS)f&&f.isAvailable()&&o.push(f);Ha.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ha.globalTransportInitialized_=!1;const ew=6e4,tw=5e3,nw=10*1024,iw=100*1024,jf="t",wy="d",lw="s",Cy="r",sw="e",Ey="o",Ty="a",Ny="n",Ay="p",aw="h";class rw{constructor(n,s,a,o,f,d,h,g,p,b){this.id=n,this.repoInfo_=s,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=f,this.onMessage_=d,this.onReady_=h,this.onDisconnect_=g,this.onKill_=p,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fa("c:"+this.id+":"),this.transportManager_=new Ha(s),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,a)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=Da(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>iw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>nw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return s=>{n===this.conn_?this.onConnectionLost_(s):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return s=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(s):n===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(n){const s={t:"d",d:n};this.sendData_(s)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(jf in n){const s=n[jf];s===Ty?this.upgradeIfSecondaryHealthy_():s===Cy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):s===Ey&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const s=Sa("t",n),a=Sa("d",n);if(s==="c")this.onSecondaryControl_(a);else if(s==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+s)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ay,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ty,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ny,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const s=Sa("t",n),a=Sa("d",n);s==="c"?this.onControl_(a):s==="d"&&this.onDataMessage_(a)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const s=Sa(jf,n);if(wy in n){const a=n[wy];if(s===aw){const o={...a};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(s===Ny){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else s===lw?this.onConnectionShutdown_(a):s===Cy?this.onReset_(a):s===sw?Kf("Server Error: "+a):s===Ey?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Kf("Unknown control packet command: "+s)}}onHandshake_(n){const s=n.ts,a=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),bd!==a&&qt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,a),Da(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ew))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,s){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Da(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(tw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ay,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(dl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class W0{put(n,s,a,o){}merge(n,s,a,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,s,a){}onDisconnectMerge(n,s,a){}onDisconnectCancel(n,s){}reportStats(n){}}class $0{constructor(n){this.allowedEvents_=n,this.listeners_={},W(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...s){if(Array.isArray(this.listeners_[n])){const a=[...this.listeners_[n]];for(let o=0;o<a.length;o++)a[o].callback.apply(a[o].context,s)}}on(n,s,a){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:s,context:a});const o=this.getInitialEvent(n);o&&s.apply(a,o)}off(n,s,a){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let f=0;f<o.length;f++)if(o[f].callback===s&&(!a||a===o[f].context)){o.splice(f,1);return}}validateEventType_(n){W(this.allowedEvents_.find(s=>s===n),"Unknown event: "+n)}}class jo extends $0{static getInstance(){return new jo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!x0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return W(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}const Ry=32,My=768;class Ke{constructor(n,s){if(s===void 0){this.pieces_=n.split("/");let a=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[a]=this.pieces_[o],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=s}toString(){let n="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)this.pieces_[s]!==""&&(n+="/"+this.pieces_[s]);return n||"/"}}function Xe(){return new Ke("")}function Oe(l){return l.pieceNum_>=l.pieces_.length?null:l.pieces_[l.pieceNum_]}function Bi(l){return l.pieces_.length-l.pieceNum_}function nt(l){let n=l.pieceNum_;return n<l.pieces_.length&&n++,new Ke(l.pieces_,n)}function wd(l){return l.pieceNum_<l.pieces_.length?l.pieces_[l.pieces_.length-1]:null}function ow(l){let n="";for(let s=l.pieceNum_;s<l.pieces_.length;s++)l.pieces_[s]!==""&&(n+="/"+encodeURIComponent(String(l.pieces_[s])));return n||"/"}function Ba(l,n=0){return l.pieces_.slice(l.pieceNum_+n)}function J0(l){if(l.pieceNum_>=l.pieces_.length)return null;const n=[];for(let s=l.pieceNum_;s<l.pieces_.length-1;s++)n.push(l.pieces_[s]);return new Ke(n,0)}function ft(l,n){const s=[];for(let a=l.pieceNum_;a<l.pieces_.length;a++)s.push(l.pieces_[a]);if(n instanceof Ke)for(let a=n.pieceNum_;a<n.pieces_.length;a++)s.push(n.pieces_[a]);else{const a=n.split("/");for(let o=0;o<a.length;o++)a[o].length>0&&s.push(a[o])}return new Ke(s,0)}function je(l){return l.pieceNum_>=l.pieces_.length}function Wt(l,n){const s=Oe(l),a=Oe(n);if(s===null)return n;if(s===a)return Wt(nt(l),nt(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+l+")")}function cw(l,n){const s=Ba(l,0),a=Ba(n,0);for(let o=0;o<s.length&&o<a.length;o++){const f=vl(s[o],a[o]);if(f!==0)return f}return s.length===a.length?0:s.length<a.length?-1:1}function Cd(l,n){if(Bi(l)!==Bi(n))return!1;for(let s=l.pieceNum_,a=n.pieceNum_;s<=l.pieces_.length;s++,a++)if(l.pieces_[s]!==n.pieces_[a])return!1;return!0}function bn(l,n){let s=l.pieceNum_,a=n.pieceNum_;if(Bi(l)>Bi(n))return!1;for(;s<l.pieces_.length;){if(l.pieces_[s]!==n.pieces_[a])return!1;++s,++a}return!0}class uw{constructor(n,s){this.errorPrefix_=s,this.parts_=Ba(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=Fo(this.parts_[a]);e_(this)}}function fw(l,n){l.parts_.length>0&&(l.byteLength_+=1),l.parts_.push(n),l.byteLength_+=Fo(n),e_(l)}function dw(l){const n=l.parts_.pop();l.byteLength_-=Fo(n),l.parts_.length>0&&(l.byteLength_-=1)}function e_(l){if(l.byteLength_>My)throw new Error(l.errorPrefix_+"has a key path longer than "+My+" bytes ("+l.byteLength_+").");if(l.parts_.length>Ry)throw new Error(l.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ry+") or object contains a cycle "+ul(l))}function ul(l){return l.parts_.length===0?"":"in property '"+l.parts_.join(".")+"'"}class Ed extends $0{static getInstance(){return new Ed}constructor(){super(["visible"]);let n,s;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const a=!document[n];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(n){return W(n==="visible","Unknown event type: "+n),[this.visible_]}}const wa=1e3,hw=300*1e3,Oy=30*1e3,mw=1.3,pw=3e4,gw="server_kill",Dy=3;class ai extends W0{constructor(n,s,a,o,f,d,h,g){if(super(),this.repoInfo_=n,this.applicationId_=s,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=f,this.authTokenProvider_=d,this.appCheckTokenProvider_=h,this.authOverride_=g,this.id=ai.nextPersistentConnectionId_++,this.log_=Fa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=wa,this.maxReconnectDelay_=hw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ed.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&jo.getInstance().on("online",this.onOnline_,this)}sendRequest(n,s,a){const o=++this.requestNumber_,f={r:o,a:n,b:s};this.log_(Ot(f)),W(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),a&&(this.requestCBHash_[o]=a)}get(n){this.initConnection_();const s=new Un,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:d=>{const h=d.d;d.s==="ok"?s.resolve(h):s.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),s.promise}listen(n,s,a,o){this.initConnection_();const f=n._queryIdentifier,d=n._path.toString();this.log_("Listen called for "+d+" "+f),this.listens.has(d)||this.listens.set(d,new Map),W(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),W(!this.listens.get(d).has(f),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:s,query:n,tag:a};this.listens.get(d).set(f,h),this.connected_&&this.sendListen_(h)}sendGet_(n){const s=this.outstandingGets_[n];this.sendRequest("g",s.request,a=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(a)})}sendListen_(n){const s=n.query,a=s._path.toString(),o=s._queryIdentifier;this.log_("Listen on "+a+" for "+o);const f={p:a},d="q";n.tag&&(f.q=s._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(d,f,h=>{const g=h.d,p=h.s;ai.warnOnListenWarnings_(g,s),(this.listens.get(a)&&this.listens.get(a).get(o))===n&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(a,o),n.onComplete&&n.onComplete(p,g))})}static warnOnListenWarnings_(n,s){if(n&&typeof n=="object"&&Ln(n,"w")){const a=ms(n,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const o='".indexOn": "'+s._queryParams.getIndex().toString()+'"',f=s._path.toString();qt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||ix(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Oy)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,s=nx(n)?"auth":"gauth",a={cred:n};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(s,a,o=>{const f=o.s,d=o.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const s=n.s,a=n.d||"error";s==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,a)})}unlisten(n,s){const a=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),W(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,n._queryObject,s)}sendUnlisten_(n,s,a,o){this.log_("Unlisten on "+n+" for "+s);const f={p:n},d="n";o&&(f.q=a,f.t=o),this.sendRequest(d,f)}onDisconnectPut(n,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,s,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:s,onComplete:a})}onDisconnectMerge(n,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,s,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:s,onComplete:a})}onDisconnectCancel(n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,s):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(n,s,a,o){const f={p:s,d:a};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(n,s,a,o){this.putInternal("p",n,s,a,o)}merge(n,s,a,o){this.putInternal("m",n,s,a,o)}putInternal(n,s,a,o,f){this.initConnection_();const d={p:s,d:a};f!==void 0&&(d.h=f),this.outstandingPuts_.push({action:n,request:d,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+s)}sendPut_(n){const s=this.outstandingPuts_[n].action,a=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(s,a,f=>{this.log_(s+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(f.s,f.d)})}reportStats(n){if(this.connected_){const s={c:n};this.log_("reportStats",s),this.sendRequest("s",s,a=>{if(a.s!=="ok"){const f=a.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ot(n));const s=n.r,a=this.requestCBHash_[s];a&&(delete this.requestCBHash_[s],a(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,s){this.log_("handleServerMessage",n,s),n==="d"?this.onDataUpdate_(s.p,s.d,!1,s.t):n==="m"?this.onDataUpdate_(s.p,s.d,!0,s.t):n==="c"?this.onListenRevoked_(s.p,s.q):n==="ac"?this.onAuthRevoked_(s.s,s.d):n==="apc"?this.onAppCheckRevoked_(s.s,s.d):n==="sd"?this.onSecurityDebugPacket_(s):Kf("Unrecognized action received from server: "+Ot(n)+`
Are you using the latest client?`)}onReady_(n,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){W(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=wa,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=wa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>pw&&(this.reconnectDelay_=wa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let s=Math.max(0,this.reconnectDelay_-n);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*mw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),s=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+ai.nextConnectionId_++,f=this.lastSessionId;let d=!1,h=null;const g=function(){h?h.close():(d=!0,a())},p=function(v){W(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(v)};this.realtime_={close:g,sendRequest:p};const b=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,x]=await Promise.all([this.authTokenProvider_.getToken(b),this.appCheckTokenProvider_.getToken(b)]);d?Mt("getToken() completed but was canceled"):(Mt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=x&&x.token,h=new rw(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,s,a,N=>{qt(N+" ("+this.repoInfo_.toString()+")"),this.interrupt(gw)},f))}catch(v){this.log_("Failed to get token: "+v),d||(this.repoInfo_.nodeAdmin&&qt(v),g())}}}interrupt(n){Mt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Mt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Vf(this.interruptReasons_)&&(this.reconnectDelay_=wa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const s=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const s=this.outstandingPuts_[n];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,s){let a;s?a=s.map(f=>vd(f)).join("$"):a="default";const o=this.removeListen_(n,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,s){const a=new Ke(n).toString();let o;if(this.listens.has(a)){const f=this.listens.get(a);o=f.get(s),f.delete(s),f.size===0&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(n,s){Mt("Auth token revoked: "+n+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Dy&&(this.reconnectDelay_=Oy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,s){Mt("App check token revoked: "+n+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Dy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const s of n.values())this.sendListen_(s);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let s="js";n["sdk."+s+"."+M0.replace(/\./g,"-")]=1,x0()?n["framework.cordova"]=1:Z1()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=jo.getInstance().currentlyOnline();return Vf(this.interruptReasons_)&&n}}ai.nextPersistentConnectionId_=0;ai.nextConnectionId_=0;class ze{constructor(n,s){this.name=n,this.node=s}static Wrap(n,s){return new ze(n,s)}}class Ko{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,s){const a=new ze(gs,n),o=new ze(gs,s);return this.compare(a,o)!==0}minPost(){return ze.MIN}}let yo;class t_ extends Ko{static get __EMPTY_NODE(){return yo}static set __EMPTY_NODE(n){yo=n}compare(n,s){return vl(n.name,s.name)}isDefinedOn(n){throw Ss("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,s){return!1}minPost(){return ze.MIN}maxPost(){return new ze(ml,yo)}makePost(n,s){return W(typeof n=="string","KeyIndex indexValue must always be a string."),new ze(n,yo)}toString(){return".key"}}const ds=new t_;class _o{constructor(n,s,a,o,f=null){this.isReverse_=o,this.resultGenerator_=f,this.nodeStack_=[];let d=1;for(;!n.isEmpty();)if(n=n,d=s?a(n.key,s):1,o&&(d*=-1),d<0)this.isReverse_?n=n.left:n=n.right;else if(d===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),s;if(this.resultGenerator_?s=this.resultGenerator_(n.key,n.value):s={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class Rt{constructor(n,s,a,o,f){this.key=n,this.value=s,this.color=a??Rt.RED,this.left=o??$t.EMPTY_NODE,this.right=f??$t.EMPTY_NODE}copy(n,s,a,o,f){return new Rt(n??this.key,s??this.value,a??this.color,o??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,s,a){let o=this;const f=a(n,o.key);return f<0?o=o.copy(null,null,null,o.left.insert(n,s,a),null):f===0?o=o.copy(null,s,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,s,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return $t.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,s){let a,o;if(a=this,s(n,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(n,s),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),s(n,a.key)===0){if(a.right.isEmpty())return $t.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(n,s))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,s)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}Rt.RED=!0;Rt.BLACK=!1;class yw{copy(n,s,a,o,f){return this}insert(n,s,a){return new Rt(n,s,null)}remove(n,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class $t{constructor(n,s=$t.EMPTY_NODE){this.comparator_=n,this.root_=s}insert(n,s){return new $t(this.comparator_,this.root_.insert(n,s,this.comparator_).copy(null,null,Rt.BLACK,null,null))}remove(n){return new $t(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Rt.BLACK,null,null))}get(n){let s,a=this.root_;for(;!a.isEmpty();){if(s=this.comparator_(n,a.key),s===0)return a.value;s<0?a=a.left:s>0&&(a=a.right)}return null}getPredecessorKey(n){let s,a=this.root_,o=null;for(;!a.isEmpty();)if(s=this.comparator_(n,a.key),s===0){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else s<0?a=a.left:s>0&&(o=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new _o(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,s){return new _o(this.root_,n,this.comparator_,!1,s)}getReverseIteratorFrom(n,s){return new _o(this.root_,n,this.comparator_,!0,s)}getReverseIterator(n){return new _o(this.root_,null,this.comparator_,!0,n)}}$t.EMPTY_NODE=new yw;function _w(l,n){return vl(l.name,n.name)}function Td(l,n){return vl(l,n)}let $f;function vw(l){$f=l}const n_=function(l){return typeof l=="number"?"number:"+z0(l):"string:"+l},i_=function(l){if(l.isLeafNode()){const n=l.val();W(typeof n=="string"||typeof n=="number"||typeof n=="object"&&Ln(n,".sv"),"Priority must be a string or number.")}else W(l===$f||l.isEmpty(),"priority of unexpected type.");W(l===$f||l.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let jy;class At{static set __childrenNodeConstructor(n){jy=n}static get __childrenNodeConstructor(){return jy}constructor(n,s=At.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=s,this.lazyHash_=null,W(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),i_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new At(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:At.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return je(n)?this:Oe(n)===".priority"?this.priorityNode_:At.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,s){return null}updateImmediateChild(n,s){return n===".priority"?this.updatePriority(s):s.isEmpty()&&n!==".priority"?this:At.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,s).updatePriority(this.priorityNode_)}updateChild(n,s){const a=Oe(n);return a===null?s:s.isEmpty()&&a!==".priority"?this:(W(a!==".priority"||Bi(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,At.__childrenNodeConstructor.EMPTY_NODE.updateChild(nt(n),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,s){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+n_(this.priorityNode_.val())+":");const s=typeof this.value_;n+=s+":",s==="number"?n+=z0(this.value_):n+=this.value_,this.lazyHash_=D0(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===At.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof At.__childrenNodeConstructor?-1:(W(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const s=typeof n.value_,a=typeof this.value_,o=At.VALUE_TYPE_ORDER.indexOf(s),f=At.VALUE_TYPE_ORDER.indexOf(a);return W(o>=0,"Unknown leaf type: "+s),W(f>=0,"Unknown leaf type: "+a),o===f?a==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const s=n;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}else return!1}}At.VALUE_TYPE_ORDER=["object","boolean","number","string"];let l_,s_;function bw(l){l_=l}function xw(l){s_=l}class Sw extends Ko{compare(n,s){const a=n.node.getPriority(),o=s.node.getPriority(),f=a.compareTo(o);return f===0?vl(n.name,s.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,s){return!n.getPriority().equals(s.getPriority())}minPost(){return ze.MIN}maxPost(){return new ze(ml,new At("[PRIORITY-POST]",s_))}makePost(n,s){const a=l_(n);return new ze(s,new At("[PRIORITY-POST]",a))}toString(){return".priority"}}const dt=new Sw;const ww=Math.log(2);class Cw{constructor(n){const s=f=>parseInt(Math.log(f)/ww,10),a=f=>parseInt(Array(f+1).join("1"),2);this.count=s(n+1),this.current_=this.count-1;const o=a(this.count);this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const zo=function(l,n,s,a){l.sort(n);const o=function(g,p){const b=p-g;let v,x;if(b===0)return null;if(b===1)return v=l[g],x=s?s(v):v,new Rt(x,v.node,Rt.BLACK,null,null);{const N=parseInt(b/2,10)+g,V=o(g,N),G=o(N+1,p);return v=l[N],x=s?s(v):v,new Rt(x,v.node,Rt.BLACK,V,G)}},f=function(g){let p=null,b=null,v=l.length;const x=function(V,G){const j=v-V,ee=v;v-=V;const Q=o(j+1,ee),P=l[j],Se=s?s(P):P;N(new Rt(Se,P.node,G,null,Q))},N=function(V){p?(p.left=V,p=V):(b=V,p=V)};for(let V=0;V<g.count;++V){const G=g.nextBitIsOne(),j=Math.pow(2,g.count-(V+1));G?x(j,Rt.BLACK):(x(j,Rt.BLACK),x(j,Rt.RED))}return b},d=new Cw(l.length),h=f(d);return new $t(a||n,h)};let zf;const ss={};class si{static get Default(){return W(ss&&dt,"ChildrenNode.ts has not been loaded"),zf=zf||new si({".priority":ss},{".priority":dt}),zf}constructor(n,s){this.indexes_=n,this.indexSet_=s}get(n){const s=ms(this.indexes_,n);if(!s)throw new Error("No index defined for "+n);return s instanceof $t?s:null}hasIndex(n){return Ln(this.indexSet_,n.toString())}addIndex(n,s){W(n!==ds,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const f=s.getIterator(ze.Wrap);let d=f.getNext();for(;d;)o=o||n.isDefinedOn(d.node),a.push(d),d=f.getNext();let h;o?h=zo(a,n.getCompare()):h=ss;const g=n.toString(),p={...this.indexSet_};p[g]=n;const b={...this.indexes_};return b[g]=h,new si(b,p)}addToIndexes(n,s){const a=Ao(this.indexes_,(o,f)=>{const d=ms(this.indexSet_,f);if(W(d,"Missing index implementation for "+f),o===ss)if(d.isDefinedOn(n.node)){const h=[],g=s.getIterator(ze.Wrap);let p=g.getNext();for(;p;)p.name!==n.name&&h.push(p),p=g.getNext();return h.push(n),zo(h,d.getCompare())}else return ss;else{const h=s.get(n.name);let g=o;return h&&(g=g.remove(new ze(n.name,h))),g.insert(n,n.node)}});return new si(a,this.indexSet_)}removeFromIndexes(n,s){const a=Ao(this.indexes_,o=>{if(o===ss)return o;{const f=s.get(n.name);return f?o.remove(new ze(n.name,f)):o}});return new si(a,this.indexSet_)}}let Ca;class xe{static get EMPTY_NODE(){return Ca||(Ca=new xe(new $t(Td),null,si.Default))}constructor(n,s,a){this.children_=n,this.priorityNode_=s,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&i_(this.priorityNode_),this.children_.isEmpty()&&W(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ca}updatePriority(n){return this.children_.isEmpty()?this:new xe(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const s=this.children_.get(n);return s===null?Ca:s}}getChild(n){const s=Oe(n);return s===null?this:this.getImmediateChild(s).getChild(nt(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,s){if(W(s,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(s);{const a=new ze(n,s);let o,f;s.isEmpty()?(o=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(n,s),f=this.indexMap_.addToIndexes(a,this.children_));const d=o.isEmpty()?Ca:this.priorityNode_;return new xe(o,d,f)}}updateChild(n,s){const a=Oe(n);if(a===null)return s;{W(Oe(n)!==".priority"||Bi(n)===1,".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(nt(n),s);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const s={};let a=0,o=0,f=!0;if(this.forEachChild(dt,(d,h)=>{s[d]=h.val(n),a++,f&&xe.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):f=!1}),!n&&f&&o<2*a){const d=[];for(const h in s)d[h]=s[h];return d}else return n&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+n_(this.getPriority().val())+":"),this.forEachChild(dt,(s,a)=>{const o=a.hash();o!==""&&(n+=":"+s+":"+o)}),this.lazyHash_=n===""?"":D0(n)}return this.lazyHash_}getPredecessorChildName(n,s,a){const o=this.resolveIndex_(a);if(o){const f=o.getPredecessorKey(new ze(n,s));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const s=this.resolveIndex_(n);if(s){const a=s.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(n){const s=this.getFirstChildName(n);return s?new ze(s,this.children_.get(s)):null}getLastChildName(n){const s=this.resolveIndex_(n);if(s){const a=s.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(n){const s=this.getLastChildName(n);return s?new ze(s,this.children_.get(s)):null}forEachChild(n,s){const a=this.resolveIndex_(n);return a?a.inorderTraversal(o=>s(o.name,o.node)):this.children_.inorderTraversal(s)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,s){const a=this.resolveIndex_(s);if(a)return a.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,ze.Wrap);let f=o.peek();for(;f!=null&&s.compare(f,n)<0;)o.getNext(),f=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,s){const a=this.resolveIndex_(s);if(a)return a.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,ze.Wrap);let f=o.peek();for(;f!=null&&s.compare(f,n)>0;)o.getNext(),f=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Za?-1:0}withIndex(n){if(n===ds||this.indexMap_.hasIndex(n))return this;{const s=this.indexMap_.addIndex(n,this.children_);return new xe(this.children_,this.priorityNode_,s)}}isIndexed(n){return n===ds||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const s=n;if(this.getPriority().equals(s.getPriority()))if(this.children_.count()===s.children_.count()){const a=this.getIterator(dt),o=s.getIterator(dt);let f=a.getNext(),d=o.getNext();for(;f&&d;){if(f.name!==d.name||!f.node.equals(d.node))return!1;f=a.getNext(),d=o.getNext()}return f===null&&d===null}else return!1;else return!1}}resolveIndex_(n){return n===ds?null:this.indexMap_.get(n.toString())}}xe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Ew extends xe{constructor(){super(new $t(Td),xe.EMPTY_NODE,si.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return xe.EMPTY_NODE}isEmpty(){return!1}}const Za=new Ew;Object.defineProperties(ze,{MIN:{value:new ze(gs,xe.EMPTY_NODE)},MAX:{value:new ze(ml,Za)}});t_.__EMPTY_NODE=xe.EMPTY_NODE;At.__childrenNodeConstructor=xe;vw(Za);xw(Za);const Tw=!0;function yt(l,n=null){if(l===null)return xe.EMPTY_NODE;if(typeof l=="object"&&".priority"in l&&(n=l[".priority"]),W(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof l=="object"&&".value"in l&&l[".value"]!==null&&(l=l[".value"]),typeof l!="object"||".sv"in l){const s=l;return new At(s,yt(n))}if(!(l instanceof Array)&&Tw){const s=[];let a=!1;if(Dt(l,(d,h)=>{if(d.substring(0,1)!=="."){const g=yt(h);g.isEmpty()||(a=a||!g.getPriority().isEmpty(),s.push(new ze(d,g)))}}),s.length===0)return xe.EMPTY_NODE;const f=zo(s,_w,d=>d.name,Td);if(a){const d=zo(s,dt.getCompare());return new xe(f,yt(n),new si({".priority":d},{".priority":dt}))}else return new xe(f,yt(n),si.Default)}else{let s=xe.EMPTY_NODE;return Dt(l,(a,o)=>{if(Ln(l,a)&&a.substring(0,1)!=="."){const f=yt(o);(f.isLeafNode()||!f.isEmpty())&&(s=s.updateImmediateChild(a,f))}}),s.updatePriority(yt(n))}}bw(yt);class Nw extends Ko{constructor(n){super(),this.indexPath_=n,W(!je(n)&&Oe(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,s){const a=this.extractChild(n.node),o=this.extractChild(s.node),f=a.compareTo(o);return f===0?vl(n.name,s.name):f}makePost(n,s){const a=yt(n),o=xe.EMPTY_NODE.updateChild(this.indexPath_,a);return new ze(s,o)}maxPost(){const n=xe.EMPTY_NODE.updateChild(this.indexPath_,Za);return new ze(ml,n)}toString(){return Ba(this.indexPath_,0).join("/")}}class Aw extends Ko{compare(n,s){const a=n.node.compareTo(s.node);return a===0?vl(n.name,s.name):a}isDefinedOn(n){return!0}indexedValueChanged(n,s){return!n.equals(s)}minPost(){return ze.MIN}maxPost(){return ze.MAX}makePost(n,s){const a=yt(n);return new ze(s,a)}toString(){return".value"}}const Rw=new Aw;function a_(l){return{type:"value",snapshotNode:l}}function ys(l,n){return{type:"child_added",snapshotNode:n,childName:l}}function Ga(l,n){return{type:"child_removed",snapshotNode:n,childName:l}}function qa(l,n,s){return{type:"child_changed",snapshotNode:n,childName:l,oldSnap:s}}function Mw(l,n){return{type:"child_moved",snapshotNode:n,childName:l}}class Nd{constructor(n){this.index_=n}updateChild(n,s,a,o,f,d){W(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=n.getImmediateChild(s);return h.getChild(o).equals(a.getChild(o))&&h.isEmpty()===a.isEmpty()||(d!=null&&(a.isEmpty()?n.hasChild(s)?d.trackChildChange(Ga(s,h)):W(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?d.trackChildChange(ys(s,a)):d.trackChildChange(qa(s,a,h))),n.isLeafNode()&&a.isEmpty())?n:n.updateImmediateChild(s,a).withIndex(this.index_)}updateFullNode(n,s,a){return a!=null&&(n.isLeafNode()||n.forEachChild(dt,(o,f)=>{s.hasChild(o)||a.trackChildChange(Ga(o,f))}),s.isLeafNode()||s.forEachChild(dt,(o,f)=>{if(n.hasChild(o)){const d=n.getImmediateChild(o);d.equals(f)||a.trackChildChange(qa(o,f,d))}else a.trackChildChange(ys(o,f))})),s.withIndex(this.index_)}updatePriority(n,s){return n.isEmpty()?xe.EMPTY_NODE:n.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ya{constructor(n){this.indexedFilter_=new Nd(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Ya.getStartPost_(n),this.endPost_=Ya.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,a=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return s&&a}updateChild(n,s,a,o,f,d){return this.matches(new ze(s,a))||(a=xe.EMPTY_NODE),this.indexedFilter_.updateChild(n,s,a,o,f,d)}updateFullNode(n,s,a){s.isLeafNode()&&(s=xe.EMPTY_NODE);let o=s.withIndex(this.index_);o=o.updatePriority(xe.EMPTY_NODE);const f=this;return s.forEachChild(dt,(d,h)=>{f.matches(new ze(d,h))||(o=o.updateImmediateChild(d,xe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,a)}updatePriority(n,s){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const s=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),s)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const s=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),s)}else return n.getIndex().maxPost()}}class Ow{constructor(n){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=s=>{const a=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new Ya(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,s,a,o,f,d){return this.rangedFilter_.matches(new ze(s,a))||(a=xe.EMPTY_NODE),n.getImmediateChild(s).equals(a)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,s,a,o,f,d):this.fullLimitUpdateChild_(n,s,a,f,d)}updateFullNode(n,s,a){let o;if(s.isLeafNode()||s.isEmpty())o=xe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<s.numChildren()&&s.isIndexed(this.index_)){o=xe.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;f.hasNext()&&d<this.limit_;){const h=f.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),d++;else break;else continue}}else{o=s.withIndex(this.index_),o=o.updatePriority(xe.EMPTY_NODE);let f;this.reverse_?f=o.getReverseIterator(this.index_):f=o.getIterator(this.index_);let d=0;for(;f.hasNext();){const h=f.getNext();d<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?d++:o=o.updateImmediateChild(h.name,xe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,a)}updatePriority(n,s){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,s,a,o,f){let d;if(this.reverse_){const v=this.index_.getCompare();d=(x,N)=>v(N,x)}else d=this.index_.getCompare();const h=n;W(h.numChildren()===this.limit_,"");const g=new ze(s,a),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),b=this.rangedFilter_.matches(g);if(h.hasChild(s)){const v=h.getImmediateChild(s);let x=o.getChildAfterChild(this.index_,p,this.reverse_);for(;x!=null&&(x.name===s||h.hasChild(x.name));)x=o.getChildAfterChild(this.index_,x,this.reverse_);const N=x==null?1:d(x,g);if(b&&!a.isEmpty()&&N>=0)return f?.trackChildChange(qa(s,a,v)),h.updateImmediateChild(s,a);{f?.trackChildChange(Ga(s,v));const G=h.updateImmediateChild(s,xe.EMPTY_NODE);return x!=null&&this.rangedFilter_.matches(x)?(f?.trackChildChange(ys(x.name,x.node)),G.updateImmediateChild(x.name,x.node)):G}}else return a.isEmpty()?n:b&&d(p,g)>=0?(f!=null&&(f.trackChildChange(Ga(p.name,p.node)),f.trackChildChange(ys(s,a))),h.updateImmediateChild(s,a).updateImmediateChild(p.name,xe.EMPTY_NODE)):n}}class Ad{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=dt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return W(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return W(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:gs}hasEnd(){return this.endSet_}getIndexEndValue(){return W(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return W(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ml}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return W(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===dt}copy(){const n=new Ad;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function Dw(l){return l.loadsAllData()?new Nd(l.getIndex()):l.hasLimit()?new Ow(l):new Ya(l)}function zy(l){const n={};if(l.isDefault())return n;let s;if(l.index_===dt?s="$priority":l.index_===Rw?s="$value":l.index_===ds?s="$key":(W(l.index_ instanceof Nw,"Unrecognized index type!"),s=l.index_.toString()),n.orderBy=Ot(s),l.startSet_){const a=l.startAfterSet_?"startAfter":"startAt";n[a]=Ot(l.indexStartValue_),l.startNameSet_&&(n[a]+=","+Ot(l.indexStartName_))}if(l.endSet_){const a=l.endBeforeSet_?"endBefore":"endAt";n[a]=Ot(l.indexEndValue_),l.endNameSet_&&(n[a]+=","+Ot(l.indexEndName_))}return l.limitSet_&&(l.isViewFromLeft()?n.limitToFirst=l.limit_:n.limitToLast=l.limit_),n}function ky(l){const n={};if(l.startSet_&&(n.sp=l.indexStartValue_,l.startNameSet_&&(n.sn=l.indexStartName_),n.sin=!l.startAfterSet_),l.endSet_&&(n.ep=l.indexEndValue_,l.endNameSet_&&(n.en=l.indexEndName_),n.ein=!l.endBeforeSet_),l.limitSet_){n.l=l.limit_;let s=l.viewFrom_;s===""&&(l.isViewFromLeft()?s="l":s="r"),n.vf=s}return l.index_!==dt&&(n.i=l.index_.toString()),n}class ko extends W0{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,s){return s!==void 0?"tag$"+s:(W(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,s,a,o){super(),this.repoInfo_=n,this.onDataUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=Fa("p:rest:"),this.listens_={}}listen(n,s,a,o){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const d=ko.getListenId_(n,a),h={};this.listens_[d]=h;const g=zy(n._queryParams);this.restRequest_(f+".json",g,(p,b)=>{let v=b;if(p===404&&(v=null,p=null),p===null&&this.onDataUpdate_(f,v,!1,a),ms(this.listens_,d)===h){let x;p?p===401?x="permission_denied":x="rest_error:"+p:x="ok",o(x,null)}})}unlisten(n,s){const a=ko.getListenId_(n,s);delete this.listens_[a]}get(n){const s=zy(n._queryParams),a=n._path.toString(),o=new Un;return this.restRequest_(a+".json",s,(f,d)=>{let h=d;f===404&&(h=null,f=null),f===null?(this.onDataUpdate_(a,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(n){}restRequest_(n,s={},a){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,f])=>{o&&o.accessToken&&(s.auth=o.accessToken),f&&f.token&&(s.ac=f.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+lx(s);this.log_("Sending REST request for "+d);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(a&&h.readyState===4){this.log_("REST Response for "+d+" received. status:",h.status,"response:",h.responseText);let g=null;if(h.status>=200&&h.status<300){try{g=Ia(h.responseText)}catch{qt("Failed to parse JSON response for "+d+": "+h.responseText)}a(null,g)}else h.status!==401&&h.status!==404&&qt("Got unsuccessful REST response for "+d+" Status: "+h.status),a(h.status);a=null}},h.open("GET",d,!0),h.send()})}}class jw{constructor(){this.rootNode_=xe.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,s){this.rootNode_=this.rootNode_.updateChild(n,s)}}function Io(){return{value:null,children:new Map}}function Cs(l,n,s){if(je(n))l.value=s,l.children.clear();else if(l.value!==null)l.value=l.value.updateChild(n,s);else{const a=Oe(n);l.children.has(a)||l.children.set(a,Io());const o=l.children.get(a);n=nt(n),Cs(o,n,s)}}function Jf(l,n){if(je(n))return l.value=null,l.children.clear(),!0;if(l.value!==null){if(l.value.isLeafNode())return!1;{const s=l.value;return l.value=null,s.forEachChild(dt,(a,o)=>{Cs(l,new Ke(a),o)}),Jf(l,n)}}else if(l.children.size>0){const s=Oe(n);return n=nt(n),l.children.has(s)&&Jf(l.children.get(s),n)&&l.children.delete(s),l.children.size===0}else return!0}function ed(l,n,s){l.value!==null?s(n,l.value):zw(l,(a,o)=>{const f=new Ke(n.toString()+"/"+a);ed(o,f,s)})}function zw(l,n){l.children.forEach((s,a)=>{n(a,s)})}class kw{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),s={...n};return this.last_&&Dt(this.last_,(a,o)=>{s[a]=s[a]-o}),this.last_=n,s}}const Iy=10*1e3,Iw=30*1e3,Uw=300*1e3;class Lw{constructor(n,s){this.server_=s,this.statsToReport_={},this.statsListener_=new kw(n);const a=Iy+(Iw-Iy)*Math.random();Da(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const n=this.statsListener_.get(),s={};let a=!1;Dt(n,(o,f)=>{f>0&&Ln(this.statsToReport_,o)&&(s[o]=f,a=!0)}),a&&this.server_.reportStats(s),Da(this.reportStats_.bind(this),Math.floor(Math.random()*2*Uw))}}var Tn;(function(l){l[l.OVERWRITE=0]="OVERWRITE",l[l.MERGE=1]="MERGE",l[l.ACK_USER_WRITE=2]="ACK_USER_WRITE",l[l.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Tn||(Tn={}));function Rd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Md(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Od(l){return{fromUser:!1,fromServer:!0,queryId:l,tagged:!0}}class Uo{constructor(n,s,a){this.path=n,this.affectedTree=s,this.revert=a,this.type=Tn.ACK_USER_WRITE,this.source=Rd()}operationForChild(n){if(je(this.path)){if(this.affectedTree.value!=null)return W(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new Ke(n));return new Uo(Xe(),s,this.revert)}}else return W(Oe(this.path)===n,"operationForChild called for unrelated child."),new Uo(nt(this.path),this.affectedTree,this.revert)}}class Va{constructor(n,s){this.source=n,this.path=s,this.type=Tn.LISTEN_COMPLETE}operationForChild(n){return je(this.path)?new Va(this.source,Xe()):new Va(this.source,nt(this.path))}}class pl{constructor(n,s,a){this.source=n,this.path=s,this.snap=a,this.type=Tn.OVERWRITE}operationForChild(n){return je(this.path)?new pl(this.source,Xe(),this.snap.getImmediateChild(n)):new pl(this.source,nt(this.path),this.snap)}}class _s{constructor(n,s,a){this.source=n,this.path=s,this.children=a,this.type=Tn.MERGE}operationForChild(n){if(je(this.path)){const s=this.children.subtree(new Ke(n));return s.isEmpty()?null:s.value?new pl(this.source,Xe(),s.value):new _s(this.source,Xe(),s)}else return W(Oe(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new _s(this.source,nt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class gl{constructor(n,s,a){this.node_=n,this.fullyInitialized_=s,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(je(n))return this.isFullyInitialized()&&!this.filtered_;const s=Oe(n);return this.isCompleteForChild(s)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class Hw{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function Bw(l,n,s,a){const o=[],f=[];return n.forEach(d=>{d.type==="child_changed"&&l.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&f.push(Mw(d.childName,d.snapshotNode))}),Ea(l,o,"child_removed",n,a,s),Ea(l,o,"child_added",n,a,s),Ea(l,o,"child_moved",f,a,s),Ea(l,o,"child_changed",n,a,s),Ea(l,o,"value",n,a,s),o}function Ea(l,n,s,a,o,f){const d=a.filter(h=>h.type===s);d.sort((h,g)=>qw(l,h,g)),d.forEach(h=>{const g=Gw(l,h,f);o.forEach(p=>{p.respondsTo(h.type)&&n.push(p.createEvent(g,l.query_))})})}function Gw(l,n,s){return n.type==="value"||n.type==="child_removed"||(n.prevName=s.getPredecessorChildName(n.childName,n.snapshotNode,l.index_)),n}function qw(l,n,s){if(n.childName==null||s.childName==null)throw Ss("Should only compare child_ events.");const a=new ze(n.childName,n.snapshotNode),o=new ze(s.childName,s.snapshotNode);return l.index_.compare(a,o)}function Wo(l,n){return{eventCache:l,serverCache:n}}function ja(l,n,s,a){return Wo(new gl(n,s,a),l.serverCache)}function r_(l,n,s,a){return Wo(l.eventCache,new gl(n,s,a))}function td(l){return l.eventCache.isFullyInitialized()?l.eventCache.getNode():null}function yl(l){return l.serverCache.isFullyInitialized()?l.serverCache.getNode():null}let kf;const Yw=()=>(kf||(kf=new $t(NS)),kf);class lt{static fromObject(n){let s=new lt(null);return Dt(n,(a,o)=>{s=s.set(new Ke(a),o)}),s}constructor(n,s=Yw()){this.value=n,this.children=s}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,s){if(this.value!=null&&s(this.value))return{path:Xe(),value:this.value};if(je(n))return null;{const a=Oe(n),o=this.children.get(a);if(o!==null){const f=o.findRootMostMatchingPathAndValue(nt(n),s);return f!=null?{path:ft(new Ke(a),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(je(n))return this;{const s=Oe(n),a=this.children.get(s);return a!==null?a.subtree(nt(n)):new lt(null)}}set(n,s){if(je(n))return new lt(s,this.children);{const a=Oe(n),f=(this.children.get(a)||new lt(null)).set(nt(n),s),d=this.children.insert(a,f);return new lt(this.value,d)}}remove(n){if(je(n))return this.children.isEmpty()?new lt(null):new lt(null,this.children);{const s=Oe(n),a=this.children.get(s);if(a){const o=a.remove(nt(n));let f;return o.isEmpty()?f=this.children.remove(s):f=this.children.insert(s,o),this.value===null&&f.isEmpty()?new lt(null):new lt(this.value,f)}else return this}}get(n){if(je(n))return this.value;{const s=Oe(n),a=this.children.get(s);return a?a.get(nt(n)):null}}setTree(n,s){if(je(n))return s;{const a=Oe(n),f=(this.children.get(a)||new lt(null)).setTree(nt(n),s);let d;return f.isEmpty()?d=this.children.remove(a):d=this.children.insert(a,f),new lt(this.value,d)}}fold(n){return this.fold_(Xe(),n)}fold_(n,s){const a={};return this.children.inorderTraversal((o,f)=>{a[o]=f.fold_(ft(n,o),s)}),s(n,this.value,a)}findOnPath(n,s){return this.findOnPath_(n,Xe(),s)}findOnPath_(n,s,a){const o=this.value?a(s,this.value):!1;if(o)return o;if(je(n))return null;{const f=Oe(n),d=this.children.get(f);return d?d.findOnPath_(nt(n),ft(s,f),a):null}}foreachOnPath(n,s){return this.foreachOnPath_(n,Xe(),s)}foreachOnPath_(n,s,a){if(je(n))return this;{this.value&&a(s,this.value);const o=Oe(n),f=this.children.get(o);return f?f.foreachOnPath_(nt(n),ft(s,o),a):new lt(null)}}foreach(n){this.foreach_(Xe(),n)}foreach_(n,s){this.children.inorderTraversal((a,o)=>{o.foreach_(ft(n,a),s)}),this.value&&s(n,this.value)}foreachChild(n){this.children.inorderTraversal((s,a)=>{a.value&&n(s,a.value)})}}class Nn{constructor(n){this.writeTree_=n}static empty(){return new Nn(new lt(null))}}function za(l,n,s){if(je(n))return new Nn(new lt(s));{const a=l.writeTree_.findRootMostValueAndPath(n);if(a!=null){const o=a.path;let f=a.value;const d=Wt(o,n);return f=f.updateChild(d,s),new Nn(l.writeTree_.set(o,f))}else{const o=new lt(s),f=l.writeTree_.setTree(n,o);return new Nn(f)}}}function nd(l,n,s){let a=l;return Dt(s,(o,f)=>{a=za(a,ft(n,o),f)}),a}function Uy(l,n){if(je(n))return Nn.empty();{const s=l.writeTree_.setTree(n,new lt(null));return new Nn(s)}}function id(l,n){return bl(l,n)!=null}function bl(l,n){const s=l.writeTree_.findRootMostValueAndPath(n);return s!=null?l.writeTree_.get(s.path).getChild(Wt(s.path,n)):null}function Ly(l){const n=[],s=l.writeTree_.value;return s!=null?s.isLeafNode()||s.forEachChild(dt,(a,o)=>{n.push(new ze(a,o))}):l.writeTree_.children.inorderTraversal((a,o)=>{o.value!=null&&n.push(new ze(a,o.value))}),n}function Hi(l,n){if(je(n))return l;{const s=bl(l,n);return s!=null?new Nn(new lt(s)):new Nn(l.writeTree_.subtree(n))}}function ld(l){return l.writeTree_.isEmpty()}function vs(l,n){return o_(Xe(),l.writeTree_,n)}function o_(l,n,s){if(n.value!=null)return s.updateChild(l,n.value);{let a=null;return n.children.inorderTraversal((o,f)=>{o===".priority"?(W(f.value!==null,"Priority writes must always be leaf nodes"),a=f.value):s=o_(ft(l,o),f,s)}),!s.getChild(l).isEmpty()&&a!==null&&(s=s.updateChild(ft(l,".priority"),a)),s}}function Dd(l,n){return d_(n,l)}function Vw(l,n,s,a,o){W(a>l.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),l.allWrites.push({path:n,snap:s,writeId:a,visible:o}),o&&(l.visibleWrites=za(l.visibleWrites,n,s)),l.lastWriteId=a}function Qw(l,n,s,a){W(a>l.lastWriteId,"Stacking an older merge on top of newer ones"),l.allWrites.push({path:n,children:s,writeId:a,visible:!0}),l.visibleWrites=nd(l.visibleWrites,n,s),l.lastWriteId=a}function Pw(l,n){for(let s=0;s<l.allWrites.length;s++){const a=l.allWrites[s];if(a.writeId===n)return a}return null}function Xw(l,n){const s=l.allWrites.findIndex(h=>h.writeId===n);W(s>=0,"removeWrite called with nonexistent writeId.");const a=l.allWrites[s];l.allWrites.splice(s,1);let o=a.visible,f=!1,d=l.allWrites.length-1;for(;o&&d>=0;){const h=l.allWrites[d];h.visible&&(d>=s&&Fw(h,a.path)?o=!1:bn(a.path,h.path)&&(f=!0)),d--}if(o){if(f)return Zw(l),!0;if(a.snap)l.visibleWrites=Uy(l.visibleWrites,a.path);else{const h=a.children;Dt(h,g=>{l.visibleWrites=Uy(l.visibleWrites,ft(a.path,g))})}return!0}else return!1}function Fw(l,n){if(l.snap)return bn(l.path,n);for(const s in l.children)if(l.children.hasOwnProperty(s)&&bn(ft(l.path,s),n))return!0;return!1}function Zw(l){l.visibleWrites=c_(l.allWrites,Kw,Xe()),l.allWrites.length>0?l.lastWriteId=l.allWrites[l.allWrites.length-1].writeId:l.lastWriteId=-1}function Kw(l){return l.visible}function c_(l,n,s){let a=Nn.empty();for(let o=0;o<l.length;++o){const f=l[o];if(n(f)){const d=f.path;let h;if(f.snap)bn(s,d)?(h=Wt(s,d),a=za(a,h,f.snap)):bn(d,s)&&(h=Wt(d,s),a=za(a,Xe(),f.snap.getChild(h)));else if(f.children){if(bn(s,d))h=Wt(s,d),a=nd(a,h,f.children);else if(bn(d,s))if(h=Wt(d,s),je(h))a=nd(a,Xe(),f.children);else{const g=ms(f.children,Oe(h));if(g){const p=g.getChild(nt(h));a=za(a,Xe(),p)}}}else throw Ss("WriteRecord should have .snap or .children")}}return a}function u_(l,n,s,a,o){if(!a&&!o){const f=bl(l.visibleWrites,n);if(f!=null)return f;{const d=Hi(l.visibleWrites,n);if(ld(d))return s;if(s==null&&!id(d,Xe()))return null;{const h=s||xe.EMPTY_NODE;return vs(d,h)}}}else{const f=Hi(l.visibleWrites,n);if(!o&&ld(f))return s;if(!o&&s==null&&!id(f,Xe()))return null;{const d=function(p){return(p.visible||o)&&(!a||!~a.indexOf(p.writeId))&&(bn(p.path,n)||bn(n,p.path))},h=c_(l.allWrites,d,n),g=s||xe.EMPTY_NODE;return vs(h,g)}}}function Ww(l,n,s){let a=xe.EMPTY_NODE;const o=bl(l.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(dt,(f,d)=>{a=a.updateImmediateChild(f,d)}),a;if(s){const f=Hi(l.visibleWrites,n);return s.forEachChild(dt,(d,h)=>{const g=vs(Hi(f,new Ke(d)),h);a=a.updateImmediateChild(d,g)}),Ly(f).forEach(d=>{a=a.updateImmediateChild(d.name,d.node)}),a}else{const f=Hi(l.visibleWrites,n);return Ly(f).forEach(d=>{a=a.updateImmediateChild(d.name,d.node)}),a}}function $w(l,n,s,a,o){W(a||o,"Either existingEventSnap or existingServerSnap must exist");const f=ft(n,s);if(id(l.visibleWrites,f))return null;{const d=Hi(l.visibleWrites,f);return ld(d)?o.getChild(s):vs(d,o.getChild(s))}}function Jw(l,n,s,a){const o=ft(n,s),f=bl(l.visibleWrites,o);if(f!=null)return f;if(a.isCompleteForChild(s)){const d=Hi(l.visibleWrites,o);return vs(d,a.getNode().getImmediateChild(s))}else return null}function e2(l,n){return bl(l.visibleWrites,n)}function t2(l,n,s,a,o,f,d){let h;const g=Hi(l.visibleWrites,n),p=bl(g,Xe());if(p!=null)h=p;else if(s!=null)h=vs(g,s);else return[];if(h=h.withIndex(d),!h.isEmpty()&&!h.isLeafNode()){const b=[],v=d.getCompare(),x=f?h.getReverseIteratorFrom(a,d):h.getIteratorFrom(a,d);let N=x.getNext();for(;N&&b.length<o;)v(N,a)!==0&&b.push(N),N=x.getNext();return b}else return[]}function n2(){return{visibleWrites:Nn.empty(),allWrites:[],lastWriteId:-1}}function Lo(l,n,s,a){return u_(l.writeTree,l.treePath,n,s,a)}function jd(l,n){return Ww(l.writeTree,l.treePath,n)}function Hy(l,n,s,a){return $w(l.writeTree,l.treePath,n,s,a)}function Ho(l,n){return e2(l.writeTree,ft(l.treePath,n))}function i2(l,n,s,a,o,f){return t2(l.writeTree,l.treePath,n,s,a,o,f)}function zd(l,n,s){return Jw(l.writeTree,l.treePath,n,s)}function f_(l,n){return d_(ft(l.treePath,n),l.writeTree)}function d_(l,n){return{treePath:l,writeTree:n}}class l2{constructor(){this.changeMap=new Map}trackChildChange(n){const s=n.type,a=n.childName;W(s==="child_added"||s==="child_changed"||s==="child_removed","Only child changes supported for tracking"),W(a!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const f=o.type;if(s==="child_added"&&f==="child_removed")this.changeMap.set(a,qa(a,n.snapshotNode,o.snapshotNode));else if(s==="child_removed"&&f==="child_added")this.changeMap.delete(a);else if(s==="child_removed"&&f==="child_changed")this.changeMap.set(a,Ga(a,o.oldSnap));else if(s==="child_changed"&&f==="child_added")this.changeMap.set(a,ys(a,n.snapshotNode));else if(s==="child_changed"&&f==="child_changed")this.changeMap.set(a,qa(a,n.snapshotNode,o.oldSnap));else throw Ss("Illegal combination of changes: "+n+" occurred after "+o)}else this.changeMap.set(a,n)}getChanges(){return Array.from(this.changeMap.values())}}class s2{getCompleteChild(n){return null}getChildAfterChild(n,s,a){return null}}const h_=new s2;class kd{constructor(n,s,a=null){this.writes_=n,this.viewCache_=s,this.optCompleteServerCache_=a}getCompleteChild(n){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(n))return s.getNode().getImmediateChild(n);{const a=this.optCompleteServerCache_!=null?new gl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return zd(this.writes_,n,a)}}getChildAfterChild(n,s,a){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:yl(this.viewCache_),f=i2(this.writes_,o,s,1,a,n);return f.length===0?null:f[0]}}function a2(l){return{filter:l}}function r2(l,n){W(n.eventCache.getNode().isIndexed(l.filter.getIndex()),"Event snap not indexed"),W(n.serverCache.getNode().isIndexed(l.filter.getIndex()),"Server snap not indexed")}function o2(l,n,s,a,o){const f=new l2;let d,h;if(s.type===Tn.OVERWRITE){const p=s;p.source.fromUser?d=sd(l,n,p.path,p.snap,a,o,f):(W(p.source.fromServer,"Unknown source."),h=p.source.tagged||n.serverCache.isFiltered()&&!je(p.path),d=Bo(l,n,p.path,p.snap,a,o,h,f))}else if(s.type===Tn.MERGE){const p=s;p.source.fromUser?d=u2(l,n,p.path,p.children,a,o,f):(W(p.source.fromServer,"Unknown source."),h=p.source.tagged||n.serverCache.isFiltered(),d=ad(l,n,p.path,p.children,a,o,h,f))}else if(s.type===Tn.ACK_USER_WRITE){const p=s;p.revert?d=h2(l,n,p.path,a,o,f):d=f2(l,n,p.path,p.affectedTree,a,o,f)}else if(s.type===Tn.LISTEN_COMPLETE)d=d2(l,n,s.path,a,f);else throw Ss("Unknown operation type: "+s.type);const g=f.getChanges();return c2(n,d,g),{viewCache:d,changes:g}}function c2(l,n,s){const a=n.eventCache;if(a.isFullyInitialized()){const o=a.getNode().isLeafNode()||a.getNode().isEmpty(),f=td(l);(s.length>0||!l.eventCache.isFullyInitialized()||o&&!a.getNode().equals(f)||!a.getNode().getPriority().equals(f.getPriority()))&&s.push(a_(td(n)))}}function m_(l,n,s,a,o,f){const d=n.eventCache;if(Ho(a,s)!=null)return n;{let h,g;if(je(s))if(W(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const p=yl(n),b=p instanceof xe?p:xe.EMPTY_NODE,v=jd(a,b);h=l.filter.updateFullNode(n.eventCache.getNode(),v,f)}else{const p=Lo(a,yl(n));h=l.filter.updateFullNode(n.eventCache.getNode(),p,f)}else{const p=Oe(s);if(p===".priority"){W(Bi(s)===1,"Can't have a priority with additional path components");const b=d.getNode();g=n.serverCache.getNode();const v=Hy(a,s,b,g);v!=null?h=l.filter.updatePriority(b,v):h=d.getNode()}else{const b=nt(s);let v;if(d.isCompleteForChild(p)){g=n.serverCache.getNode();const x=Hy(a,s,d.getNode(),g);x!=null?v=d.getNode().getImmediateChild(p).updateChild(b,x):v=d.getNode().getImmediateChild(p)}else v=zd(a,p,n.serverCache);v!=null?h=l.filter.updateChild(d.getNode(),p,v,b,o,f):h=d.getNode()}}return ja(n,h,d.isFullyInitialized()||je(s),l.filter.filtersNodes())}}function Bo(l,n,s,a,o,f,d,h){const g=n.serverCache;let p;const b=d?l.filter:l.filter.getIndexedFilter();if(je(s))p=b.updateFullNode(g.getNode(),a,null);else if(b.filtersNodes()&&!g.isFiltered()){const N=g.getNode().updateChild(s,a);p=b.updateFullNode(g.getNode(),N,null)}else{const N=Oe(s);if(!g.isCompleteForPath(s)&&Bi(s)>1)return n;const V=nt(s),j=g.getNode().getImmediateChild(N).updateChild(V,a);N===".priority"?p=b.updatePriority(g.getNode(),j):p=b.updateChild(g.getNode(),N,j,V,h_,null)}const v=r_(n,p,g.isFullyInitialized()||je(s),b.filtersNodes()),x=new kd(o,v,f);return m_(l,v,s,o,x,h)}function sd(l,n,s,a,o,f,d){const h=n.eventCache;let g,p;const b=new kd(o,n,f);if(je(s))p=l.filter.updateFullNode(n.eventCache.getNode(),a,d),g=ja(n,p,!0,l.filter.filtersNodes());else{const v=Oe(s);if(v===".priority")p=l.filter.updatePriority(n.eventCache.getNode(),a),g=ja(n,p,h.isFullyInitialized(),h.isFiltered());else{const x=nt(s),N=h.getNode().getImmediateChild(v);let V;if(je(x))V=a;else{const G=b.getCompleteChild(v);G!=null?wd(x)===".priority"&&G.getChild(J0(x)).isEmpty()?V=G:V=G.updateChild(x,a):V=xe.EMPTY_NODE}if(N.equals(V))g=n;else{const G=l.filter.updateChild(h.getNode(),v,V,x,b,d);g=ja(n,G,h.isFullyInitialized(),l.filter.filtersNodes())}}}return g}function By(l,n){return l.eventCache.isCompleteForChild(n)}function u2(l,n,s,a,o,f,d){let h=n;return a.foreach((g,p)=>{const b=ft(s,g);By(n,Oe(b))&&(h=sd(l,h,b,p,o,f,d))}),a.foreach((g,p)=>{const b=ft(s,g);By(n,Oe(b))||(h=sd(l,h,b,p,o,f,d))}),h}function Gy(l,n,s){return s.foreach((a,o)=>{n=n.updateChild(a,o)}),n}function ad(l,n,s,a,o,f,d,h){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let g=n,p;je(s)?p=a:p=new lt(null).setTree(s,a);const b=n.serverCache.getNode();return p.children.inorderTraversal((v,x)=>{if(b.hasChild(v)){const N=n.serverCache.getNode().getImmediateChild(v),V=Gy(l,N,x);g=Bo(l,g,new Ke(v),V,o,f,d,h)}}),p.children.inorderTraversal((v,x)=>{const N=!n.serverCache.isCompleteForChild(v)&&x.value===null;if(!b.hasChild(v)&&!N){const V=n.serverCache.getNode().getImmediateChild(v),G=Gy(l,V,x);g=Bo(l,g,new Ke(v),G,o,f,d,h)}}),g}function f2(l,n,s,a,o,f,d){if(Ho(o,s)!=null)return n;const h=n.serverCache.isFiltered(),g=n.serverCache;if(a.value!=null){if(je(s)&&g.isFullyInitialized()||g.isCompleteForPath(s))return Bo(l,n,s,g.getNode().getChild(s),o,f,h,d);if(je(s)){let p=new lt(null);return g.getNode().forEachChild(ds,(b,v)=>{p=p.set(new Ke(b),v)}),ad(l,n,s,p,o,f,h,d)}else return n}else{let p=new lt(null);return a.foreach((b,v)=>{const x=ft(s,b);g.isCompleteForPath(x)&&(p=p.set(b,g.getNode().getChild(x)))}),ad(l,n,s,p,o,f,h,d)}}function d2(l,n,s,a,o){const f=n.serverCache,d=r_(n,f.getNode(),f.isFullyInitialized()||je(s),f.isFiltered());return m_(l,d,s,a,h_,o)}function h2(l,n,s,a,o,f){let d;if(Ho(a,s)!=null)return n;{const h=new kd(a,n,o),g=n.eventCache.getNode();let p;if(je(s)||Oe(s)===".priority"){let b;if(n.serverCache.isFullyInitialized())b=Lo(a,yl(n));else{const v=n.serverCache.getNode();W(v instanceof xe,"serverChildren would be complete if leaf node"),b=jd(a,v)}b=b,p=l.filter.updateFullNode(g,b,f)}else{const b=Oe(s);let v=zd(a,b,n.serverCache);v==null&&n.serverCache.isCompleteForChild(b)&&(v=g.getImmediateChild(b)),v!=null?p=l.filter.updateChild(g,b,v,nt(s),h,f):n.eventCache.getNode().hasChild(b)?p=l.filter.updateChild(g,b,xe.EMPTY_NODE,nt(s),h,f):p=g,p.isEmpty()&&n.serverCache.isFullyInitialized()&&(d=Lo(a,yl(n)),d.isLeafNode()&&(p=l.filter.updateFullNode(p,d,f)))}return d=n.serverCache.isFullyInitialized()||Ho(a,Xe())!=null,ja(n,p,d,l.filter.filtersNodes())}}class m2{constructor(n,s){this.query_=n,this.eventRegistrations_=[];const a=this.query_._queryParams,o=new Nd(a.getIndex()),f=Dw(a);this.processor_=a2(f);const d=s.serverCache,h=s.eventCache,g=o.updateFullNode(xe.EMPTY_NODE,d.getNode(),null),p=f.updateFullNode(xe.EMPTY_NODE,h.getNode(),null),b=new gl(g,d.isFullyInitialized(),o.filtersNodes()),v=new gl(p,h.isFullyInitialized(),f.filtersNodes());this.viewCache_=Wo(v,b),this.eventGenerator_=new Hw(this.query_)}get query(){return this.query_}}function p2(l){return l.viewCache_.serverCache.getNode()}function g2(l,n){const s=yl(l.viewCache_);return s&&(l.query._queryParams.loadsAllData()||!je(n)&&!s.getImmediateChild(Oe(n)).isEmpty())?s.getChild(n):null}function qy(l){return l.eventRegistrations_.length===0}function y2(l,n){l.eventRegistrations_.push(n)}function Yy(l,n,s){const a=[];if(s){W(n==null,"A cancel should cancel all event registrations.");const o=l.query._path;l.eventRegistrations_.forEach(f=>{const d=f.createCancelEvent(s,o);d&&a.push(d)})}if(n){let o=[];for(let f=0;f<l.eventRegistrations_.length;++f){const d=l.eventRegistrations_[f];if(!d.matches(n))o.push(d);else if(n.hasAnyCallback()){o=o.concat(l.eventRegistrations_.slice(f+1));break}}l.eventRegistrations_=o}else l.eventRegistrations_=[];return a}function Vy(l,n,s,a){n.type===Tn.MERGE&&n.source.queryId!==null&&(W(yl(l.viewCache_),"We should always have a full cache before handling merges"),W(td(l.viewCache_),"Missing event cache, even though we have a server cache"));const o=l.viewCache_,f=o2(l.processor_,o,n,s,a);return r2(l.processor_,f.viewCache),W(f.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),l.viewCache_=f.viewCache,p_(l,f.changes,f.viewCache.eventCache.getNode(),null)}function _2(l,n){const s=l.viewCache_.eventCache,a=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(dt,(f,d)=>{a.push(ys(f,d))}),s.isFullyInitialized()&&a.push(a_(s.getNode())),p_(l,a,s.getNode(),n)}function p_(l,n,s,a){const o=a?[a]:l.eventRegistrations_;return Bw(l.eventGenerator_,n,s,o)}let Go;class v2{constructor(){this.views=new Map}}function b2(l){W(!Go,"__referenceConstructor has already been defined"),Go=l}function x2(){return W(Go,"Reference.ts has not been loaded"),Go}function S2(l){return l.views.size===0}function Id(l,n,s,a){const o=n.source.queryId;if(o!==null){const f=l.views.get(o);return W(f!=null,"SyncTree gave us an op for an invalid query."),Vy(f,n,s,a)}else{let f=[];for(const d of l.views.values())f=f.concat(Vy(d,n,s,a));return f}}function w2(l,n,s,a,o){const f=n._queryIdentifier,d=l.views.get(f);if(!d){let h=Lo(s,o?a:null),g=!1;h?g=!0:a instanceof xe?(h=jd(s,a),g=!1):(h=xe.EMPTY_NODE,g=!1);const p=Wo(new gl(h,g,!1),new gl(a,o,!1));return new m2(n,p)}return d}function C2(l,n,s,a,o,f){const d=w2(l,n,a,o,f);return l.views.has(n._queryIdentifier)||l.views.set(n._queryIdentifier,d),y2(d,s),_2(d,s)}function E2(l,n,s,a){const o=n._queryIdentifier,f=[];let d=[];const h=Gi(l);if(o==="default")for(const[g,p]of l.views.entries())d=d.concat(Yy(p,s,a)),qy(p)&&(l.views.delete(g),p.query._queryParams.loadsAllData()||f.push(p.query));else{const g=l.views.get(o);g&&(d=d.concat(Yy(g,s,a)),qy(g)&&(l.views.delete(o),g.query._queryParams.loadsAllData()||f.push(g.query)))}return h&&!Gi(l)&&f.push(new(x2())(n._repo,n._path)),{removed:f,events:d}}function g_(l){const n=[];for(const s of l.views.values())s.query._queryParams.loadsAllData()||n.push(s);return n}function hs(l,n){let s=null;for(const a of l.views.values())s=s||g2(a,n);return s}function y_(l,n){if(n._queryParams.loadsAllData())return $o(l);{const a=n._queryIdentifier;return l.views.get(a)}}function __(l,n){return y_(l,n)!=null}function Gi(l){return $o(l)!=null}function $o(l){for(const n of l.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let qo;function T2(l){W(!qo,"__referenceConstructor has already been defined"),qo=l}function N2(){return W(qo,"Reference.ts has not been loaded"),qo}let A2=1;class Qy{constructor(n){this.listenProvider_=n,this.syncPointTree_=new lt(null),this.pendingWriteTree_=n2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function v_(l,n,s,a,o){return Vw(l.pendingWriteTree_,n,s,a,o),o?Es(l,new pl(Rd(),n,s)):[]}function R2(l,n,s,a){Qw(l.pendingWriteTree_,n,s,a);const o=lt.fromObject(s);return Es(l,new _s(Rd(),n,o))}function Ii(l,n,s=!1){const a=Pw(l.pendingWriteTree_,n);if(Xw(l.pendingWriteTree_,n)){let f=new lt(null);return a.snap!=null?f=f.set(Xe(),!0):Dt(a.children,d=>{f=f.set(new Ke(d),!0)}),Es(l,new Uo(a.path,f,s))}else return[]}function Jo(l,n,s){return Es(l,new pl(Md(),n,s))}function M2(l,n,s){const a=lt.fromObject(s);return Es(l,new _s(Md(),n,a))}function O2(l,n){return Es(l,new Va(Md(),n))}function D2(l,n,s){const a=Ld(l,s);if(a){const o=Hd(a),f=o.path,d=o.queryId,h=Wt(f,n),g=new Va(Od(d),h);return Bd(l,f,g)}else return[]}function rd(l,n,s,a,o=!1){const f=n._path,d=l.syncPointTree_.get(f);let h=[];if(d&&(n._queryIdentifier==="default"||__(d,n))){const g=E2(d,n,s,a);S2(d)&&(l.syncPointTree_=l.syncPointTree_.remove(f));const p=g.removed;if(h=g.events,!o){const b=p.findIndex(x=>x._queryParams.loadsAllData())!==-1,v=l.syncPointTree_.findOnPath(f,(x,N)=>Gi(N));if(b&&!v){const x=l.syncPointTree_.subtree(f);if(!x.isEmpty()){const N=k2(x);for(let V=0;V<N.length;++V){const G=N[V],j=G.query,ee=S_(l,G);l.listenProvider_.startListening(ka(j),Yo(l,j),ee.hashFn,ee.onComplete)}}}!v&&p.length>0&&!a&&(b?l.listenProvider_.stopListening(ka(n),null):p.forEach(x=>{const N=l.queryToTagMap.get(ec(x));l.listenProvider_.stopListening(ka(x),N)}))}I2(l,p)}return h}function j2(l,n,s,a){const o=Ld(l,a);if(o!=null){const f=Hd(o),d=f.path,h=f.queryId,g=Wt(d,n),p=new pl(Od(h),g,s);return Bd(l,d,p)}else return[]}function z2(l,n,s,a){const o=Ld(l,a);if(o){const f=Hd(o),d=f.path,h=f.queryId,g=Wt(d,n),p=lt.fromObject(s),b=new _s(Od(h),g,p);return Bd(l,d,b)}else return[]}function Py(l,n,s,a=!1){const o=n._path;let f=null,d=!1;l.syncPointTree_.foreachOnPath(o,(x,N)=>{const V=Wt(x,o);f=f||hs(N,V),d=d||Gi(N)});let h=l.syncPointTree_.get(o);h?(d=d||Gi(h),f=f||hs(h,Xe())):(h=new v2,l.syncPointTree_=l.syncPointTree_.set(o,h));let g;f!=null?g=!0:(g=!1,f=xe.EMPTY_NODE,l.syncPointTree_.subtree(o).foreachChild((N,V)=>{const G=hs(V,Xe());G&&(f=f.updateImmediateChild(N,G))}));const p=__(h,n);if(!p&&!n._queryParams.loadsAllData()){const x=ec(n);W(!l.queryToTagMap.has(x),"View does not exist, but we have a tag");const N=U2();l.queryToTagMap.set(x,N),l.tagToQueryMap.set(N,x)}const b=Dd(l.pendingWriteTree_,o);let v=C2(h,n,s,b,f,g);if(!p&&!d&&!a){const x=y_(h,n);v=v.concat(L2(l,n,x))}return v}function Ud(l,n,s){const o=l.pendingWriteTree_,f=l.syncPointTree_.findOnPath(n,(d,h)=>{const g=Wt(d,n),p=hs(h,g);if(p)return p});return u_(o,n,f,s,!0)}function Es(l,n){return b_(n,l.syncPointTree_,null,Dd(l.pendingWriteTree_,Xe()))}function b_(l,n,s,a){if(je(l.path))return x_(l,n,s,a);{const o=n.get(Xe());s==null&&o!=null&&(s=hs(o,Xe()));let f=[];const d=Oe(l.path),h=l.operationForChild(d),g=n.children.get(d);if(g&&h){const p=s?s.getImmediateChild(d):null,b=f_(a,d);f=f.concat(b_(h,g,p,b))}return o&&(f=f.concat(Id(o,l,a,s))),f}}function x_(l,n,s,a){const o=n.get(Xe());s==null&&o!=null&&(s=hs(o,Xe()));let f=[];return n.children.inorderTraversal((d,h)=>{const g=s?s.getImmediateChild(d):null,p=f_(a,d),b=l.operationForChild(d);b&&(f=f.concat(x_(b,h,g,p)))}),o&&(f=f.concat(Id(o,l,a,s))),f}function S_(l,n){const s=n.query,a=Yo(l,s);return{hashFn:()=>(p2(n)||xe.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return a?D2(l,s._path,a):O2(l,s._path);{const f=MS(o,s);return rd(l,s,null,f)}}}}function Yo(l,n){const s=ec(n);return l.queryToTagMap.get(s)}function ec(l){return l._path.toString()+"$"+l._queryIdentifier}function Ld(l,n){return l.tagToQueryMap.get(n)}function Hd(l){const n=l.indexOf("$");return W(n!==-1&&n<l.length-1,"Bad queryKey."),{queryId:l.substr(n+1),path:new Ke(l.substr(0,n))}}function Bd(l,n,s){const a=l.syncPointTree_.get(n);W(a,"Missing sync point for query tag that we're tracking");const o=Dd(l.pendingWriteTree_,n);return Id(a,s,o,null)}function k2(l){return l.fold((n,s,a)=>{if(s&&Gi(s))return[$o(s)];{let o=[];return s&&(o=g_(s)),Dt(a,(f,d)=>{o=o.concat(d)}),o}})}function ka(l){return l._queryParams.loadsAllData()&&!l._queryParams.isDefault()?new(N2())(l._repo,l._path):l}function I2(l,n){for(let s=0;s<n.length;++s){const a=n[s];if(!a._queryParams.loadsAllData()){const o=ec(a),f=l.queryToTagMap.get(o);l.queryToTagMap.delete(o),l.tagToQueryMap.delete(f)}}}function U2(){return A2++}function L2(l,n,s){const a=n._path,o=Yo(l,n),f=S_(l,s),d=l.listenProvider_.startListening(ka(n),o,f.hashFn,f.onComplete),h=l.syncPointTree_.subtree(a);if(o)W(!Gi(h.value),"If we're adding a query, it shouldn't be shadowed");else{const g=h.fold((p,b,v)=>{if(!je(p)&&b&&Gi(b))return[$o(b).query];{let x=[];return b&&(x=x.concat(g_(b).map(N=>N.query))),Dt(v,(N,V)=>{x=x.concat(V)}),x}});for(let p=0;p<g.length;++p){const b=g[p];l.listenProvider_.stopListening(ka(b),Yo(l,b))}}return d}class Gd{constructor(n){this.node_=n}getImmediateChild(n){const s=this.node_.getImmediateChild(n);return new Gd(s)}node(){return this.node_}}class qd{constructor(n,s){this.syncTree_=n,this.path_=s}getImmediateChild(n){const s=ft(this.path_,n);return new qd(this.syncTree_,s)}node(){return Ud(this.syncTree_,this.path_)}}const H2=function(l){return l=l||{},l.timestamp=l.timestamp||new Date().getTime(),l},Xy=function(l,n,s){if(!l||typeof l!="object")return l;if(W(".sv"in l,"Unexpected leaf node or priority contents"),typeof l[".sv"]=="string")return B2(l[".sv"],n,s);if(typeof l[".sv"]=="object")return G2(l[".sv"],n);W(!1,"Unexpected server value: "+JSON.stringify(l,null,2))},B2=function(l,n,s){if(l==="timestamp")return s.timestamp;W(!1,"Unexpected server value: "+l)},G2=function(l,n,s){l.hasOwnProperty("increment")||W(!1,"Unexpected server value: "+JSON.stringify(l,null,2));const a=l.increment;typeof a!="number"&&W(!1,"Unexpected increment value: "+a);const o=n.node();if(W(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return a;const d=o.getValue();return typeof d!="number"?a:d+a},w_=function(l,n,s,a){return Yd(n,new qd(s,l),a)},C_=function(l,n,s){return Yd(l,new Gd(n),s)};function Yd(l,n,s){const a=l.getPriority().val(),o=Xy(a,n.getImmediateChild(".priority"),s);let f;if(l.isLeafNode()){const d=l,h=Xy(d.getValue(),n,s);return h!==d.getValue()||o!==d.getPriority().val()?new At(h,yt(o)):l}else{const d=l;return f=d,o!==d.getPriority().val()&&(f=f.updatePriority(new At(o))),d.forEachChild(dt,(h,g)=>{const p=Yd(g,n.getImmediateChild(h),s);p!==g&&(f=f.updateImmediateChild(h,p))}),f}}class Vd{constructor(n="",s=null,a={children:{},childCount:0}){this.name=n,this.parent=s,this.node=a}}function Qd(l,n){let s=n instanceof Ke?n:new Ke(n),a=l,o=Oe(s);for(;o!==null;){const f=ms(a.node.children,o)||{children:{},childCount:0};a=new Vd(o,a,f),s=nt(s),o=Oe(s)}return a}function Ts(l){return l.node.value}function E_(l,n){l.node.value=n,od(l)}function T_(l){return l.node.childCount>0}function q2(l){return Ts(l)===void 0&&!T_(l)}function tc(l,n){Dt(l.node.children,(s,a)=>{n(new Vd(s,l,a))})}function N_(l,n,s,a){s&&n(l),tc(l,o=>{N_(o,n,!0)})}function Y2(l,n,s){let a=l.parent;for(;a!==null;){if(n(a))return!0;a=a.parent}return!1}function Ka(l){return new Ke(l.parent===null?l.name:Ka(l.parent)+"/"+l.name)}function od(l){l.parent!==null&&V2(l.parent,l.name,l)}function V2(l,n,s){const a=q2(s),o=Ln(l.node.children,n);a&&o?(delete l.node.children[n],l.node.childCount--,od(l)):!a&&!o&&(l.node.children[n]=s.node,l.node.childCount++,od(l))}const Q2=/[\[\].#$\/\u0000-\u001F\u007F]/,P2=/[\[\].#$\u0000-\u001F\u007F]/,If=10*1024*1024,Pd=function(l){return typeof l=="string"&&l.length!==0&&!Q2.test(l)},A_=function(l){return typeof l=="string"&&l.length!==0&&!P2.test(l)},X2=function(l){return l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),A_(l)},R_=function(l){return l===null||typeof l=="string"||typeof l=="number"&&!Zo(l)||l&&typeof l=="object"&&Ln(l,".sv")},Vo=function(l,n,s,a){a&&n===void 0||nc(ps(l,"value"),n,s)},nc=function(l,n,s){const a=s instanceof Ke?new uw(s,l):s;if(n===void 0)throw new Error(l+"contains undefined "+ul(a));if(typeof n=="function")throw new Error(l+"contains a function "+ul(a)+" with contents = "+n.toString());if(Zo(n))throw new Error(l+"contains "+n.toString()+" "+ul(a));if(typeof n=="string"&&n.length>If/3&&Fo(n)>If)throw new Error(l+"contains a string greater than "+If+" utf8 bytes "+ul(a)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let o=!1,f=!1;if(Dt(n,(d,h)=>{if(d===".value")o=!0;else if(d!==".priority"&&d!==".sv"&&(f=!0,!Pd(d)))throw new Error(l+" contains an invalid key ("+d+") "+ul(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);fw(a,d),nc(l,h,a),dw(a)}),o&&f)throw new Error(l+' contains ".value" child '+ul(a)+" in addition to actual children.")}},F2=function(l,n){let s,a;for(s=0;s<n.length;s++){a=n[s];const f=Ba(a);for(let d=0;d<f.length;d++)if(!(f[d]===".priority"&&d===f.length-1)){if(!Pd(f[d]))throw new Error(l+"contains an invalid key ("+f[d]+") in path "+a.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(cw);let o=null;for(s=0;s<n.length;s++){if(a=n[s],o!==null&&bn(o,a))throw new Error(l+"contains a path "+o.toString()+" that is ancestor of another path "+a.toString());o=a}},M_=function(l,n,s,a){const o=ps(l,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");const f=[];Dt(n,(d,h)=>{const g=new Ke(d);if(nc(o,h,ft(s,g)),wd(g)===".priority"&&!R_(h))throw new Error(o+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(g)}),F2(o,f)},Z2=function(l,n,s){if(Zo(n))throw new Error(ps(l,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!R_(n))throw new Error(ps(l,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},O_=function(l,n,s,a){if(!A_(s))throw new Error(ps(l,n)+'was an invalid path = "'+s+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},K2=function(l,n,s,a){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),O_(l,n,s)},hl=function(l,n){if(Oe(n)===".info")throw new Error(l+" failed = Can't modify data under /.info/")},W2=function(l,n){const s=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!Pd(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||s.length!==0&&!X2(s))throw new Error(ps(l,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class $2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ic(l,n){let s=null;for(let a=0;a<n.length;a++){const o=n[a],f=o.getPath();s!==null&&!Cd(f,s.path)&&(l.eventLists_.push(s),s=null),s===null&&(s={events:[],path:f}),s.events.push(o)}s&&l.eventLists_.push(s)}function D_(l,n,s){ic(l,s),j_(l,a=>Cd(a,n))}function An(l,n,s){ic(l,s),j_(l,a=>bn(a,n)||bn(n,a))}function j_(l,n){l.recursionDepth_++;let s=!0;for(let a=0;a<l.eventLists_.length;a++){const o=l.eventLists_[a];if(o){const f=o.path;n(f)?(J2(l.eventLists_[a]),l.eventLists_[a]=null):s=!1}}s&&(l.eventLists_=[]),l.recursionDepth_--}function J2(l){for(let n=0;n<l.events.length;n++){const s=l.events[n];if(s!==null){l.events[n]=null;const a=s.getEventRunner();Oa&&Mt("event: "+s.toString()),ws(a)}}}const eC="repo_interrupt",tC=25;class nC{constructor(n,s,a,o){this.repoInfo_=n,this.forceRestClient_=s,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new $2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Io(),this.transactionQueueTree_=new Vd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function iC(l,n,s){if(l.stats_=xd(l.repoInfo_),l.forceRestClient_||zS())l.server_=new ko(l.repoInfo_,(a,o,f,d)=>{Fy(l,a,o,f,d)},l.authTokenProvider_,l.appCheckProvider_),setTimeout(()=>Zy(l,!0),0);else{if(typeof s<"u"&&s!==null){if(typeof s!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ot(s)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}l.persistentConnection_=new ai(l.repoInfo_,n,(a,o,f,d)=>{Fy(l,a,o,f,d)},a=>{Zy(l,a)},a=>{lC(l,a)},l.authTokenProvider_,l.appCheckProvider_,s),l.server_=l.persistentConnection_}l.authTokenProvider_.addTokenChangeListener(a=>{l.server_.refreshAuthToken(a)}),l.appCheckProvider_.addTokenChangeListener(a=>{l.server_.refreshAppCheckToken(a.token)}),l.statsReporter_=HS(l.repoInfo_,()=>new Lw(l.stats_,l.server_)),l.infoData_=new jw,l.infoSyncTree_=new Qy({startListening:(a,o,f,d)=>{let h=[];const g=l.infoData_.getNode(a._path);return g.isEmpty()||(h=Jo(l.infoSyncTree_,a._path,g),setTimeout(()=>{d("ok")},0)),h},stopListening:()=>{}}),Xd(l,"connected",!1),l.serverSyncTree_=new Qy({startListening:(a,o,f,d)=>(l.server_.listen(a,f,o,(h,g)=>{const p=d(h,g);An(l.eventQueue_,a._path,p)}),[]),stopListening:(a,o)=>{l.server_.unlisten(a,o)}})}function z_(l){const s=l.infoData_.getNode(new Ke(".info/serverTimeOffset")).val()||0;return new Date().getTime()+s}function lc(l){return H2({timestamp:z_(l)})}function Fy(l,n,s,a,o){l.dataUpdateCount++;const f=new Ke(n);s=l.interceptServerDataCallback_?l.interceptServerDataCallback_(n,s):s;let d=[];if(o)if(a){const g=Ao(s,p=>yt(p));d=z2(l.serverSyncTree_,f,g,o)}else{const g=yt(s);d=j2(l.serverSyncTree_,f,g,o)}else if(a){const g=Ao(s,p=>yt(p));d=M2(l.serverSyncTree_,f,g)}else{const g=yt(s);d=Jo(l.serverSyncTree_,f,g)}let h=f;d.length>0&&(h=bs(l,f)),An(l.eventQueue_,h,d)}function Zy(l,n){Xd(l,"connected",n),n===!1&&rC(l)}function lC(l,n){Dt(n,(s,a)=>{Xd(l,s,a)})}function Xd(l,n,s){const a=new Ke("/.info/"+n),o=yt(s);l.infoData_.updateSnapshot(a,o);const f=Jo(l.infoSyncTree_,a,o);An(l.eventQueue_,a,f)}function Fd(l){return l.nextWriteId_++}function sC(l,n,s,a,o){sc(l,"set",{path:n.toString(),value:s,priority:a});const f=lc(l),d=yt(s,a),h=Ud(l.serverSyncTree_,n),g=C_(d,h,f),p=Fd(l),b=v_(l.serverSyncTree_,n,g,p,!0);ic(l.eventQueue_,b),l.server_.put(n.toString(),d.val(!0),(x,N)=>{const V=x==="ok";V||qt("set at "+n+" failed: "+x);const G=Ii(l.serverSyncTree_,p,!V);An(l.eventQueue_,n,G),qi(l,o,x,N)});const v=Kd(l,n);bs(l,v),An(l.eventQueue_,v,[])}function aC(l,n,s,a){sc(l,"update",{path:n.toString(),value:s});let o=!0;const f=lc(l),d={};if(Dt(s,(h,g)=>{o=!1,d[h]=w_(ft(n,h),yt(g),l.serverSyncTree_,f)}),o)Mt("update() called with empty data.  Don't do anything."),qi(l,a,"ok",void 0);else{const h=Fd(l),g=R2(l.serverSyncTree_,n,d,h);ic(l.eventQueue_,g),l.server_.merge(n.toString(),s,(p,b)=>{const v=p==="ok";v||qt("update at "+n+" failed: "+p);const x=Ii(l.serverSyncTree_,h,!v),N=x.length>0?bs(l,n):n;An(l.eventQueue_,N,x),qi(l,a,p,b)}),Dt(s,p=>{const b=Kd(l,ft(n,p));bs(l,b)}),An(l.eventQueue_,n,[])}}function rC(l){sc(l,"onDisconnectEvents");const n=lc(l),s=Io();ed(l.onDisconnect_,Xe(),(o,f)=>{const d=w_(o,f,l.serverSyncTree_,n);Cs(s,o,d)});let a=[];ed(s,Xe(),(o,f)=>{a=a.concat(Jo(l.serverSyncTree_,o,f));const d=Kd(l,o);bs(l,d)}),l.onDisconnect_=Io(),An(l.eventQueue_,Xe(),a)}function oC(l,n,s){l.server_.onDisconnectCancel(n.toString(),(a,o)=>{a==="ok"&&Jf(l.onDisconnect_,n),qi(l,s,a,o)})}function Ky(l,n,s,a){const o=yt(s);l.server_.onDisconnectPut(n.toString(),o.val(!0),(f,d)=>{f==="ok"&&Cs(l.onDisconnect_,n,o),qi(l,a,f,d)})}function cC(l,n,s,a,o){const f=yt(s,a);l.server_.onDisconnectPut(n.toString(),f.val(!0),(d,h)=>{d==="ok"&&Cs(l.onDisconnect_,n,f),qi(l,o,d,h)})}function uC(l,n,s,a){if(Vf(s)){Mt("onDisconnect().update() called with empty data.  Don't do anything."),qi(l,a,"ok",void 0);return}l.server_.onDisconnectMerge(n.toString(),s,(o,f)=>{o==="ok"&&Dt(s,(d,h)=>{const g=yt(h);Cs(l.onDisconnect_,ft(n,d),g)}),qi(l,a,o,f)})}function fC(l,n,s){let a;Oe(n._path)===".info"?a=Py(l.infoSyncTree_,n,s):a=Py(l.serverSyncTree_,n,s),D_(l.eventQueue_,n._path,a)}function dC(l,n,s){let a;Oe(n._path)===".info"?a=rd(l.infoSyncTree_,n,s):a=rd(l.serverSyncTree_,n,s),D_(l.eventQueue_,n._path,a)}function hC(l){l.persistentConnection_&&l.persistentConnection_.interrupt(eC)}function sc(l,...n){let s="";l.persistentConnection_&&(s=l.persistentConnection_.id+":"),Mt(s,...n)}function qi(l,n,s,a){n&&ws(()=>{if(s==="ok")n(null);else{const o=(s||"error").toUpperCase();let f=o;a&&(f+=": "+a);const d=new Error(f);d.code=o,n(d)}})}function k_(l,n,s){return Ud(l.serverSyncTree_,n,s)||xe.EMPTY_NODE}function Zd(l,n=l.transactionQueueTree_){if(n||ac(l,n),Ts(n)){const s=U_(l,n);W(s.length>0,"Sending zero length transaction queue"),s.every(o=>o.status===0)&&mC(l,Ka(n),s)}else T_(n)&&tc(n,s=>{Zd(l,s)})}function mC(l,n,s){const a=s.map(p=>p.currentWriteId),o=k_(l,n,a);let f=o;const d=o.hash();for(let p=0;p<s.length;p++){const b=s[p];W(b.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const v=Wt(n,b.path);f=f.updateChild(v,b.currentOutputSnapshotRaw)}const h=f.val(!0),g=n;l.server_.put(g.toString(),h,p=>{sc(l,"transaction put response",{path:g.toString(),status:p});let b=[];if(p==="ok"){const v=[];for(let x=0;x<s.length;x++)s[x].status=2,b=b.concat(Ii(l.serverSyncTree_,s[x].currentWriteId)),s[x].onComplete&&v.push(()=>s[x].onComplete(null,!0,s[x].currentOutputSnapshotResolved)),s[x].unwatcher();ac(l,Qd(l.transactionQueueTree_,n)),Zd(l,l.transactionQueueTree_),An(l.eventQueue_,n,b);for(let x=0;x<v.length;x++)ws(v[x])}else{if(p==="datastale")for(let v=0;v<s.length;v++)s[v].status===3?s[v].status=4:s[v].status=0;else{qt("transaction at "+g.toString()+" failed: "+p);for(let v=0;v<s.length;v++)s[v].status=4,s[v].abortReason=p}bs(l,n)}},d)}function bs(l,n){const s=I_(l,n),a=Ka(s),o=U_(l,s);return pC(l,o,a),a}function pC(l,n,s){if(n.length===0)return;const a=[];let o=[];const d=n.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<n.length;h++){const g=n[h],p=Wt(s,g.path);let b=!1,v;if(W(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)b=!0,v=g.abortReason,o=o.concat(Ii(l.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=tC)b=!0,v="maxretry",o=o.concat(Ii(l.serverSyncTree_,g.currentWriteId,!0));else{const x=k_(l,g.path,d);g.currentInputSnapshot=x;const N=n[h].update(x.val());if(N!==void 0){nc("transaction failed: Data returned ",N,g.path);let V=yt(N);typeof N=="object"&&N!=null&&Ln(N,".priority")||(V=V.updatePriority(x.getPriority()));const j=g.currentWriteId,ee=lc(l),Q=C_(V,x,ee);g.currentOutputSnapshotRaw=V,g.currentOutputSnapshotResolved=Q,g.currentWriteId=Fd(l),d.splice(d.indexOf(j),1),o=o.concat(v_(l.serverSyncTree_,g.path,Q,g.currentWriteId,g.applyLocally)),o=o.concat(Ii(l.serverSyncTree_,j,!0))}else b=!0,v="nodata",o=o.concat(Ii(l.serverSyncTree_,g.currentWriteId,!0))}An(l.eventQueue_,s,o),o=[],b&&(n[h].status=2,(function(x){setTimeout(x,Math.floor(0))})(n[h].unwatcher),n[h].onComplete&&(v==="nodata"?a.push(()=>n[h].onComplete(null,!1,n[h].currentInputSnapshot)):a.push(()=>n[h].onComplete(new Error(v),!1,null))))}ac(l,l.transactionQueueTree_);for(let h=0;h<a.length;h++)ws(a[h]);Zd(l,l.transactionQueueTree_)}function I_(l,n){let s,a=l.transactionQueueTree_;for(s=Oe(n);s!==null&&Ts(a)===void 0;)a=Qd(a,s),n=nt(n),s=Oe(n);return a}function U_(l,n){const s=[];return L_(l,n,s),s.sort((a,o)=>a.order-o.order),s}function L_(l,n,s){const a=Ts(n);if(a)for(let o=0;o<a.length;o++)s.push(a[o]);tc(n,o=>{L_(l,o,s)})}function ac(l,n){const s=Ts(n);if(s){let a=0;for(let o=0;o<s.length;o++)s[o].status!==2&&(s[a]=s[o],a++);s.length=a,E_(n,s.length>0?s:void 0)}tc(n,a=>{ac(l,a)})}function Kd(l,n){const s=Ka(I_(l,n)),a=Qd(l.transactionQueueTree_,n);return Y2(a,o=>{Uf(l,o)}),Uf(l,a),N_(a,o=>{Uf(l,o)}),s}function Uf(l,n){const s=Ts(n);if(s){const a=[];let o=[],f=-1;for(let d=0;d<s.length;d++)s[d].status===3||(s[d].status===1?(W(f===d-1,"All SENT items should be at beginning of queue."),f=d,s[d].status=3,s[d].abortReason="set"):(W(s[d].status===0,"Unexpected transaction status in abort"),s[d].unwatcher(),o=o.concat(Ii(l.serverSyncTree_,s[d].currentWriteId,!0)),s[d].onComplete&&a.push(s[d].onComplete.bind(null,new Error("set"),!1,null))));f===-1?E_(n,void 0):s.length=f+1,An(l.eventQueue_,Ka(n),o);for(let d=0;d<a.length;d++)ws(a[d])}}function gC(l){let n="";const s=l.split("/");for(let a=0;a<s.length;a++)if(s[a].length>0){let o=s[a];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}function yC(l){const n={};l.charAt(0)==="?"&&(l=l.substring(1));for(const s of l.split("&")){if(s.length===0)continue;const a=s.split("=");a.length===2?n[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):qt(`Invalid query segment '${s}' in query '${l}'`)}return n}const Wy=function(l,n){const s=_C(l),a=s.namespace;s.domain==="firebase.com"&&ci(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&s.domain!=="localhost"&&ci("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||ES();const o=s.scheme==="ws"||s.scheme==="wss";return{repoInfo:new V0(s.host,s.secure,a,o,n,"",a!==s.subdomain),path:new Ke(s.pathString)}},_C=function(l){let n="",s="",a="",o="",f="",d=!0,h="https",g=443;if(typeof l=="string"){let p=l.indexOf("//");p>=0&&(h=l.substring(0,p-1),l=l.substring(p+2));let b=l.indexOf("/");b===-1&&(b=l.length);let v=l.indexOf("?");v===-1&&(v=l.length),n=l.substring(0,Math.min(b,v)),b<v&&(o=gC(l.substring(b,v)));const x=yC(l.substring(Math.min(l.length,v)));p=n.indexOf(":"),p>=0?(d=h==="https"||h==="wss",g=parseInt(n.substring(p+1),10)):p=n.length;const N=n.slice(0,p);if(N.toLowerCase()==="localhost")s="localhost";else if(N.split(".").length<=2)s=N;else{const V=n.indexOf(".");a=n.substring(0,V).toLowerCase(),s=n.substring(V+1),f=a}"ns"in x&&(f=x.ns)}return{host:n,port:g,domain:s,subdomain:a,secure:d,scheme:h,pathString:o,namespace:f}};const $y="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",vC=(function(){let l=0;const n=[];return function(s){const a=s===l;l=s;let o;const f=new Array(8);for(o=7;o>=0;o--)f[o]=$y.charAt(s%64),s=Math.floor(s/64);W(s===0,"Cannot push at time == 0");let d=f.join("");if(a){for(o=11;o>=0&&n[o]===63;o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)d+=$y.charAt(n[o]);return W(d.length===20,"nextPushId: Length should be 20."),d}})();class bC{constructor(n,s,a,o){this.eventType=n,this.eventRegistration=s,this.snapshot=a,this.prevName=o}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ot(this.snapshot.exportVal())}}class xC{constructor(n,s,a){this.eventRegistration=n,this.error=s,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class SC{constructor(n,s){this.snapshotCallback=n,this.cancelCallback=s}onValue(n,s){this.snapshotCallback.call(null,n,s)}onCancel(n){return W(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class wC{constructor(n,s){this._repo=n,this._path=s}cancel(){const n=new Un;return oC(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){hl("OnDisconnect.remove",this._path);const n=new Un;return Ky(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){hl("OnDisconnect.set",this._path),Vo("OnDisconnect.set",n,this._path,!1);const s=new Un;return Ky(this._repo,this._path,n,s.wrapCallback(()=>{})),s.promise}setWithPriority(n,s){hl("OnDisconnect.setWithPriority",this._path),Vo("OnDisconnect.setWithPriority",n,this._path,!1),Z2("OnDisconnect.setWithPriority",s);const a=new Un;return cC(this._repo,this._path,n,s,a.wrapCallback(()=>{})),a.promise}update(n){hl("OnDisconnect.update",this._path),M_("OnDisconnect.update",n,this._path);const s=new Un;return uC(this._repo,this._path,n,s.wrapCallback(()=>{})),s.promise}}class Wd{constructor(n,s,a,o){this._repo=n,this._path=s,this._queryParams=a,this._orderByCalled=o}get key(){return je(this._path)?null:wd(this._path)}get ref(){return new Yi(this._repo,this._path)}get _queryIdentifier(){const n=ky(this._queryParams),s=vd(n);return s==="{}"?"default":s}get _queryObject(){return ky(this._queryParams)}isEqual(n){if(n=_l(n),!(n instanceof Wd))return!1;const s=this._repo===n._repo,a=Cd(this._path,n._path),o=this._queryIdentifier===n._queryIdentifier;return s&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+ow(this._path)}}class Yi extends Wd{constructor(n,s){super(n,s,new Ad,!1)}get parent(){const n=J0(this._path);return n===null?null:new Yi(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class Qo{constructor(n,s,a){this._node=n,this.ref=s,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const s=new Ke(n),a=Qa(this.ref,n);return new Qo(this._node.getChild(s),a,dt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,o)=>n(new Qo(o,Qa(this.ref,a),dt)))}hasChild(n){const s=new Ke(n);return!this._node.getChild(s).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function oe(l,n){return l=_l(l),l._checkNotDeleted("ref"),n!==void 0?Qa(l._root,n):l._root}function Qa(l,n){return l=_l(l),Oe(l._path)===null?K2("child","path",n):O_("child","path",n),new Yi(l._repo,ft(l._path,n))}function CC(l){return l=_l(l),new wC(l._repo,l._path)}function Jy(l,n){l=_l(l),hl("push",l._path),Vo("push",n,l._path,!0);const s=z_(l._repo),a=vC(s),o=Qa(l,a),f=Qa(l,a);let d;return n!=null?d=fl(f,n).then(()=>f):d=Promise.resolve(f),o.then=d.then.bind(d),o.catch=d.then.bind(d,void 0),o}function Ta(l){return hl("remove",l._path),fl(l,null)}function fl(l,n){l=_l(l),hl("set",l._path),Vo("set",n,l._path,!1);const s=new Un;return sC(l._repo,l._path,n,null,s.wrapCallback(()=>{})),s.promise}function Ce(l,n){M_("update",n,l._path);const s=new Un;return aC(l._repo,l._path,n,s.wrapCallback(()=>{})),s.promise}class $d{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,s){const a=s._queryParams.getIndex();return new bC("value",this,new Qo(n.snapshotNode,new Yi(s._repo,s._path),a))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,s){return this.callbackContext.hasCancelCallback?new xC(this,n,s):null}matches(n){return n instanceof $d?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function EC(l,n,s,a,o){const f=new SC(s,void 0),d=new $d(f);return fC(l._repo,l,d),()=>dC(l._repo,l,d)}function Na(l,n,s,a){return EC(l,"value",n)}b2(Yi);T2(Yi);const TC="FIREBASE_DATABASE_EMULATOR_HOST",cd={};let NC=!1;function AC(l,n,s,a){const o=n.lastIndexOf(":"),f=n.substring(0,o),d=yd(f);l.repoInfo_=new V0(n,d,l.repoInfo_.namespace,l.repoInfo_.webSocketOnly,l.repoInfo_.nodeAdmin,l.repoInfo_.persistenceKey,l.repoInfo_.includeNamespaceInQueryParams,!0,s),a&&(l.authTokenProvider_=a)}function RC(l,n,s,a,o){let f=a||l.options.databaseURL;f===void 0&&(l.options.projectId||ci("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Mt("Using default host for project ",l.options.projectId),f=`${l.options.projectId}-default-rtdb.firebaseio.com`);let d=Wy(f,o),h=d.repoInfo,g;typeof process<"u"&&yy&&(g=yy[TC]),g?(f=`http://${g}?ns=${h.namespace}`,d=Wy(f,o),h=d.repoInfo):d.repoInfo.secure;const p=new IS(l.name,l.options,n);W2("Invalid Firebase Database URL",d),je(d.path)||ci("Database URL must point to the root of a Firebase Database (not including a child path).");const b=OC(h,l,p,new kS(l,s));return new DC(b,l)}function MC(l,n){const s=cd[n];(!s||s[l.key]!==l)&&ci(`Database ${n}(${l.repoInfo_}) has already been deleted.`),hC(l),delete s[l.key]}function OC(l,n,s,a){let o=cd[n.name];o||(o={},cd[n.name]=o);let f=o[l.toURLString()];return f&&ci("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new nC(l,NC,s,a),o[l.toURLString()]=f,f}class DC{constructor(n,s){this._repoInternal=n,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(iC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yi(this._repo,Xe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(MC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&ci("Cannot call "+n+" on a deleted database.")}}function jC(l=oS(),n){const s=iS(l,"database").getImmediate({identifier:n});if(!s._instanceStarted){const a=q1("database");a&&zC(s,...a)}return s}function zC(l,n,s,a={}){l=_l(l),l._checkNotDeleted("useEmulator");const o=`${n}:${s}`,f=l._repoInternal;if(l._instanceStarted){if(o===l._repoInternal.repoInfo_.host&&Ro(a,f.repoInfo_.emulatorOptions))return;ci("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(f.repoInfo_.nodeAdmin)a.mockUserToken&&ci('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Co(Co.OWNER);else if(a.mockUserToken){const h=typeof a.mockUserToken=="string"?a.mockUserToken:V1(a.mockUserToken,l.app.options.projectId);d=new Co(h)}yd(n)&&(Y1(n),X1("Database",!0)),AC(f,o,a,d)}function kC(l){vS(rS),Oo(new Ua("database",(n,{instanceIdentifier:s})=>{const a=n.getProvider("app").getImmediate(),o=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return RC(a,o,f,s)},"PUBLIC").setMultipleInstances(!0)),us(_y,vy,l),us(_y,vy,"esm2020")}function vo(l){return{".sv":{increment:l}}}ai.prototype.simpleListen=function(l,n){this.sendRequest("q",{p:l},n)};ai.prototype.echo=function(l,n){this.sendRequest("echo",{d:l},n)};kC();var IC="firebase",UC="12.7.0";us(IC,UC,"app");const LC={apiKey:"AIzaSyDAWCHLJoZ3-_4MNFFgeMsGnY9va0wvSI4",authDomain:"composepratice-7ab71.firebaseapp.com",databaseURL:"https://composepratice-7ab71-default-rtdb.firebaseio.com",projectId:"composepratice-7ab71",storageBucket:"composepratice-7ab71.firebasestorage.app",messagingSenderId:"692993622356",appId:"1:692993622356:web:95b78b97e391ca37efc8c1"},HC=N0(LC),ce=jC(HC),Po={king:7,advisor:6,elephant:5,rook:4,knight:3,cannon:2,pawn:1},BC={king:"",advisor:"",elephant:"",rook:"",knight:"",cannon:"",pawn:""},GC={king:"",advisor:"",elephant:"",rook:"",knight:"",cannon:"",pawn:""};function qC(){const l=[],n={king:1,advisor:2,elephant:2,rook:2,knight:2,cannon:2,pawn:5};["red","black"].forEach(s=>{Object.entries(n).forEach(([a,o])=>{for(let f=0;f<o;f++)l.push({type:a,color:s})})});for(let s=l.length-1;s>0;s--){const a=Math.floor(Math.random()*(s+1));[l[s],l[a]]=[l[a],l[s]]}return l.map((s,a)=>({id:`${s.color}-${s.type}-${a}`,...s,isFlipped:!1,position:a}))}const In=8;function Eo(l,n){const s=Math.floor(l/In),a=l%In,o=Math.floor(n/In),f=n%In,d=Math.abs(s-o),h=Math.abs(a-f);return d===1&&h===0||d===0&&h===1}function Lf(l,n,s){if(l.color===n.color||!n.isFlipped)return!1;const a=l.position,o=n.position;if(l.type==="cannon"){const f=Math.floor(a/In),d=a%In,h=Math.floor(o/In),g=o%In;if(f!==h&&d!==g)return!1;let p=0;if(f===h){const b=Math.min(d,g),v=Math.max(d,g);for(let x=b+1;x<v;x++)s[f*In+x]&&p++}else{const b=Math.min(f,h),v=Math.max(f,h);for(let x=b+1;x<v;x++)s[x*In+d]&&p++}return p===1}return!Eo(a,o)||l.type==="king"&&n.type==="pawn"?!1:l.type==="pawn"&&n.type==="king"?!0:Po[l.type]>=Po[n.type]}function e0(l){const n=l.filter(a=>a&&a.color==="red"),s=l.filter(a=>a&&a.color==="black");return n.length===0?"black":s.length===0?"red":null}function Hf(l){return[...l].sort((n,s)=>Po[s.type]-Po[n.type])}function YC(){const l=[];let n=0;["wan","tong","tiao"].forEach(a=>{for(let o=1;o<=9;o++)for(let f=0;f<4;f++)l.push({id:`${a}-${o}-${f}`,suit:a,value:o,index:n++})});for(let a=1;a<=4;a++)for(let o=0;o<4;o++)l.push({id:`wind-${a}-${o}`,suit:"wind",value:a,index:n++});for(let a=1;a<=3;a++)for(let o=0;o<4;o++)l.push({id:`dragon-${a}-${o}`,suit:"dragon",value:a,index:n++});return l}function VC(l){const n=[...l];for(let s=n.length-1;s>0;s--){const a=Math.floor(Math.random()*(s+1));[n[s],n[a]]=[n[a],n[s]]}return n}function H_(l){const n={wan:0,tong:1,tiao:2,wind:3,dragon:4};return[...l].sort((s,a)=>n[s.suit]!==n[a.suit]?n[s.suit]-n[a.suit]:s.value-a.value)}function QC(l){const n=[...l],s=[[],[],[],[]];for(let o=0;o<16;o++)for(let f=0;f<4;f++){const d=n.pop();d&&s[f].push(d)}const a=n.pop();return a&&s[0].push(a),s.forEach(o=>H_(o)),{hands:s,wall:n}}function B_(l,n){return l.filter(a=>a.suit===n.suit&&a.value===n.value).length>=2}function PC(l,n){return l.filter(a=>a.suit===n.suit&&a.value===n.value).length===3}function XC(l,n){if(["wind","dragon"].includes(n.suit))return!1;const s=l.filter(f=>f.suit===n.suit),a=n.value,o=f=>s.some(d=>d.value===f);return!!(o(a+1)&&o(a+2)||o(a-1)&&o(a+1)||o(a-2)&&o(a-1))}function t0(l){const n=H_(l),s=new Set;for(let a=0;a<n.length-1;a++)n[a].suit===n[a+1].suit&&n[a].value===n[a+1].value&&s.add(`${n[a].suit}-${n[a].value}`);for(const a of Array.from(s)){const[o,f]=a.split("-"),d=parseInt(f),h=[...n],g=h.findIndex(b=>b.suit===o&&b.value===d);h.splice(g,1);const p=h.findIndex(b=>b.suit===o&&b.value===d);if(h.splice(p,1),ud(h))return!0}return!1}function ud(l){if(l.length===0)return!0;const n=l[0];if(B_(l,n)&&l.filter(a=>a.suit===n.suit&&a.value===n.value).length>=3&&l.map((o,f)=>o.suit===n.suit&&o.value===n.value?f:-1).filter(o=>o!==-1).slice(0,3).length===3){const o=[...l];let f=0;const d=o.filter(h=>f<3&&h.suit===n.suit&&h.value===n.value?(f++,!1):!0);if(ud(d))return!0}if(["wan","tong","tiao"].includes(n.suit)){const s=n.value,a=l.findIndex(f=>f.suit===n.suit&&f.value===s+1),o=l.findIndex(f=>f.suit===n.suit&&f.value===s+2);if(a!==-1&&o!==-1){const f=[...l];if([0,a,o].sort((h,g)=>g-h).forEach(h=>f.splice(h,1)),ud(f))return!0}}return!1}function fd(l){return l==="wan"||l==="tong"||l==="tiao"}function FC(l){return l==="wind"||l==="dragon"}function ZC(l,n){return`${l}-${n}`}function KC(l){const n=[],s=new Set;for(let a=0;a<l.length-1;a++)for(let o=a+1;o<l.length;o++)if(l[a].suit===l[o].suit&&l[a].value===l[o].value){const f=ZC(l[a].suit,l[a].value);if(s.has(f))continue;s.add(f);const d=[...l];d.splice(o,1),d.splice(a,1);const h=[];dd(d,h)&&n.push({pair:{suit:l[a].suit,value:l[a].value},sets:[...h]})}return n}function dd(l,n){if(l.length===0)return!0;const s=[...l].sort((f,d)=>f.suit!==d.suit?f.suit.localeCompare(d.suit):f.value-d.value),a=s[0];if(s.filter(f=>f.suit===a.suit&&f.value===a.value).length>=3){let f=0;const d=s.filter(h=>f<3&&h.suit===a.suit&&h.value===a.value?(f++,!1):!0);if(n.push({type:"pong",suit:a.suit,value:a.value}),dd(d,n))return!0;n.pop()}if(fd(a.suit)){const f=a.value,d=s.findIndex(g=>g.suit===a.suit&&g.value===f+1),h=s.findIndex(g=>g.suit===a.suit&&g.value===f+2);if(d!==-1&&h!==-1){const g=[...s];if([0,d,h].sort((b,v)=>v-b).forEach(b=>g.splice(b,1)),n.push({type:"chow",suit:a.suit,value:f}),dd(g,n))return!0;n.pop()}}return!1}function WC(l){const{player:n,winningTile:s,isLastTile:a,prevailingWind:o,seatWind:f}=l,d=[...n.hand||[]],h=[...n.melds||[]],g=[...d,s],p=h.length===0,b=KC(g);let v=0,x=[];for(const G of b){const j=[],ee=[];for(const T of h)if(T.tiles.length>0){const fe=T.tiles[0];ee.push({type:T.type==="kong"?"kong":T.type==="pong"?"pong":"chow",suit:fe.suit,value:T.type==="chow"?Math.min(...T.tiles.map(Ne=>Ne.value)):fe.value,isConcealed:!1})}for(const T of G.sets)ee.push({type:T.type==="pong"?"pong":"chow",suit:T.suit,value:T.value,isConcealed:!0});const Q=G.pair,P=[];P.push(Q,Q);for(const T of ee)if(T.type==="chow")P.push({suit:T.suit,value:T.value}),P.push({suit:T.suit,value:T.value+1}),P.push({suit:T.suit,value:T.value+2});else{const fe=T.type==="kong"?4:3;for(let Ne=0;Ne<fe;Ne++)P.push({suit:T.suit,value:T.value})}const Se=ee.filter(T=>T.type==="pong"||T.type==="kong"),He=ee.filter(T=>T.type==="chow"),ne=ee.filter(T=>(T.type==="pong"||T.type==="kong")&&T.isConcealed);p&&j.push({name:"",fan:1,description:""});const de=["","",""];let $=0;for(let T=1;T<=3;T++)Se.some(fe=>fe.suit==="dragon"&&fe.value===T)&&($++,j.push({name:`${de[T-1]}`,fan:1,description:`${de[T-1]}`}));if($===3){const T=j.filter(fe=>!["","",""].includes(fe.name));j.length=0,j.push(...T),j.push({name:"",fan:8,description:""})}const Ge=["","","",""];Se.some(T=>T.suit==="wind"&&T.value===o+1)&&j.push({name:` ${Ge[o]}`,fan:1,description:`${Ge[o]}`}),Se.some(T=>T.suit==="wind"&&T.value===f+1)&&j.push({name:` ${Ge[f]}`,fan:1,description:`${Ge[f]}`});let Re=0,me=0;for(let T=1;T<=4;T++)Se.some(fe=>fe.suit==="wind"&&fe.value===T)&&Re++,Q.suit==="wind"&&Q.value===T&&me++;if(Re===4){const T=j.filter(fe=>!fe.name.startsWith("")&&!fe.name.startsWith(""));j.length=0,j.push(...T),j.push({name:"",fan:16,description:""})}else if(Re===3&&me===1){const T=j.filter(fe=>!fe.name.startsWith("")&&!fe.name.startsWith(""));j.length=0,j.push(...T),j.push({name:"",fan:8,description:" + "})}const Qe=Se.length===0,Ct=P.every(T=>fd(T.suit));if(Qe&&Ct&&j.push({name:"",fan:1,description:""}),He.length===0&&Se.length>0&&j.push({name:"",fan:2,description:""}),ne.length>=3&&j.push({name:"",fan:2,description:""}),ne.length>=4){const T=j.filter(fe=>fe.name!=="");j.length=0,j.push(...T),j.push({name:"",fan:5,description:""})}const at=new Set(P.filter(T=>fd(T.suit)).map(T=>T.suit)),it=P.some(T=>FC(T.suit));if(!(at.size>0)&&it)j.push({name:"",fan:16,description:"+"});else if(at.size===1&&!it){const T=at.values().next().value==="wan"?"":at.values().next().value==="tong"?"":"";j.push({name:"",fan:8,description:`${T}`})}else at.size===1&&it&&j.push({name:"",fan:4,description:" + "});a&&j.push({name:"",fan:1,description:""}),h.length>=5&&j.push({name:"",fan:2,description:""});const Z=j.reduce((T,fe)=>T+fe.fan,0);Z>v&&(v=Z,x=[...j])}b.length===0&&(p&&x.push({name:"",fan:1,description:""}),v=x.reduce((G,j)=>G+j.fan,0)),v===0&&(x.push({name:"",fan:1,description:""}),v=1);const N=1,V=N+v;return{totalFan:v,items:x,basePoints:N,totalPoints:V}}const n0={clubs:0,diamonds:1,hearts:2,spades:3},G_={3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"J",12:"Q",13:"K",14:"A",15:"2"},q_={clubs:"",diamonds:"",hearts:"",spades:""};function $C(){const l=["clubs","diamonds","hearts","spades"],n=[];for(const s of l)for(let a=3;a<=15;a++)n.push({id:`bt_${s}_${a}`,suit:s,rank:a});return n}function JC(l){const n=[...l];for(let s=n.length-1;s>0;s--){const a=Math.floor(Math.random()*(s+1));[n[s],n[a]]=[n[a],n[s]]}return n}function eE(l){const n=[[],[],[],[]];for(let s=0;s<l.length;s++)n[s%4].push(l[s]);return n.forEach(s=>s.sort(ri)),n}function ri(l,n){return l.rank!==n.rank?l.rank-n.rank:n0[l.suit]-n0[n.suit]}function cs(l){return l.reduce((n,s)=>ri(s,n)>0?s:n,l[0])}function Wa(l){const n=l.length;return n===1?"single":n===2?tE(l)?"pair":null:n===3?nE(l)?"triple":null:n===5?iE(l):null}function tE(l){return l.length===2&&l[0].rank===l[1].rank}function nE(l){return l.length===3&&l[0].rank===l[1].rank&&l[1].rank===l[2].rank}function iE(l){const n=[...l].sort(ri),s=n.map(f=>f.rank),a=lE(s),o=n.every(f=>f.suit===n[0].suit);return a&&o?"straight_flush":sE(s)?"four_of_a_kind":aE(s)?"full_house":o?null:a?"straight":null}function lE(l){const n=[...l].sort((s,a)=>s-a);if(n.includes(15))return!1;for(let s=1;s<n.length;s++)if(n[s]!==n[s-1]+1)return!1;return!0}function sE(l){const n=$a(l);return Object.values(n).some(s=>s===4)}function aE(l){const n=$a(l),s=Object.values(n).sort();return s.length===2&&s[0]===2&&s[1]===3}function $a(l){const n={};for(const s of l)n[s]=(n[s]||0)+1;return n}const as={single:0,pair:0,triple:0,straight:1,full_house:2,four_of_a_kind:3,straight_flush:4};function Y_(l,n){if(l.cards.length!==n.cards.length)if(l.cards.length===5&&n.cards.length===5){if(as[l.handType]>as[n.handType])return!0;if(as[l.handType]<as[n.handType])return!1}else return!1;if(l.handType!==n.handType&&l.cards.length===5)return as[l.handType]>as[n.handType];if(l.handType!==n.handType)return!1;switch(l.handType){case"single":return ri(l.cards[0],n.cards[0])>0;case"pair":case"triple":return ri(cs(l.cards),cs(n.cards))>0;case"straight":case"straight_flush":{const s=cs(l.cards),a=cs(n.cards);return ri(s,a)>0}case"full_house":{const s=i0(l.cards),a=i0(n.cards);return s>a}case"four_of_a_kind":{const s=l0(l.cards),a=l0(n.cards);return s>a}default:return!1}}function i0(l){const n=$a(l.map(s=>s.rank));for(const[s,a]of Object.entries(n))if(a===3)return Number(s);return 0}function l0(l){const n=$a(l.map(s=>s.rank));for(const[s,a]of Object.entries(n))if(a===4)return Number(s);return 0}function rE(l,n,s,a){if(l.length===0)return{valid:!1,handType:null,error:""};const o=Wa(l);return o?a&&!l.some(h=>h.suit==="clubs"&&h.rank===3)?{valid:!1,handType:o,error:"3"}:s||!n?{valid:!0,handType:o}:Y_({cards:l,handType:o},n)?{valid:!0,handType:o}:{valid:!1,handType:o,error:""}:{valid:!1,handType:null,error:""}}function oE(l){for(let n=0;n<l.length;n++)if(l[n].some(s=>s.suit==="clubs"&&s.rank===3))return n;return 0}function cE(l,n,s,a){const o=[...l].sort(ri);if(s||!n){if(a){const d=o.find(h=>h.suit==="clubs"&&h.rank===3);if(d)return[d]}return[o[0]]}const f=n.cards.length;if(f===1){for(const d of o)if(ri(d,n.cards[0])>0)return[d]}else if(f===2&&n.handType==="pair"){const d=uE(o),h=cs(n.cards);for(const g of d)if(ri(cs(g),h)>0)return g}else if(f===5){const d=fE(o);for(const h of d){const g=Wa(h);if(g&&Y_({cards:h,handType:g},n))return h}}return null}function uE(l){const n=[];for(let s=0;s<l.length-1;s++)l[s].rank===l[s+1].rank&&(n.push([l[s],l[s+1]]),s++);return n}function fE(l){const n=[];for(let a=0;a<=l.length-5;a++){const o=l.slice(a,a+5);Wa(o)!==null&&n.push(o)}const s=$a(l.map(a=>a.rank));for(const[a,o]of Object.entries(s))if(o>=3){const f=l.filter(d=>d.rank===Number(a)).slice(0,3);for(const[d,h]of Object.entries(s))if(d!==a&&h>=2){const g=l.filter(p=>p.rank===Number(d)).slice(0,2);n.push([...f,...g])}}return n}const xs={chinese_dark_chess:{name:" (2)",minPlayers:2,maxPlayers:2},chinese_checkers_2:{name:" (2)",minPlayers:2,maxPlayers:2},gomoku:{name:" (2)",minPlayers:2,maxPlayers:2},go:{name:" (2)",minPlayers:2,maxPlayers:2},army_chess:{name:" (2)",minPlayers:2,maxPlayers:2},chess:{name:" (2)",minPlayers:2,maxPlayers:2},big_two:{name:" (3~4)",minPlayers:3,maxPlayers:4},sevens:{name:" (3~4)",minPlayers:3,maxPlayers:4},show_hand:{name:" (2~6)",minPlayers:2,maxPlayers:6},mahjong:{name:" (3~4)",minPlayers:3,maxPlayers:4}},bo="mouse530",dE=()=>Math.random().toString(36).substring(2,15),hE=l=>{const[n,s]=be.useState(null),[a,o]=be.useState([]),[f,d]=be.useState(null),[h,g]=be.useState(null),[p,b]=be.useState(null),[v,x]=be.useState([]),[N,V]=be.useState(null),[G]=be.useState(dE()),[j,ee]=be.useState([]),[Q,P]=be.useState(null),[Se,He]=be.useState(!0),ne=l===bo;be.useEffect(()=>{if(!l)return;const B=oe(ce,`users/${l}`),q=Na(B,L=>{if(L.exists()){const J=L.val();if(!ne&&J.sessionId&&J.sessionId!==G&&J.isOnline){alert(""),localStorage.removeItem("chess_userId"),window.location.reload();return}s({...J,id:l,name:J.name||l}),!ne&&J.activeGameId&&!N&&(V(J.activeGameId),He(!1))}else{const J={id:l,name:l,wins:0,losses:0,surrenders:0,runaways:0,rejections:0,lastOnline:Date.now(),inChatRoom:!1,isOnline:!0,sessionId:G};fl(B,J)}}),K=oe(ce,`users/${l}`);Ce(K,{isOnline:!0,sessionId:G}),CC(K).update({isOnline:!1,lastOnline:Date.now()});const k=oe(ce,"users"),Y=Na(k,L=>{const J=L.val();if(J){const ie=Object.entries(J).map(([X,ve])=>({...ve,id:X}));x(ie.filter(X=>X.id!==bo&&X.wins+X.losses>0).sort((X,ve)=>ve.wins!==X.wins?ve.wins-X.wins:0).slice(0,10))}});return()=>{q(),Y()}},[l,G,ne,N]),be.useEffect(()=>{if(!n)return;const B=oe(ce,"rooms"),q=Na(B,K=>{const k=K.val();if(k){const Y=Object.values(k).map(L=>({...L,players:Array.isArray(L.players)?L.players.filter(Boolean):L.players?Object.values(L.players):[],spectators:Array.isArray(L.spectators)?L.spectators.filter(Boolean):L.spectators?Object.values(L.spectators):[]}));if(ee(Y),n.id){const L=Y.find(J=>J.players.some(ie=>ie.id===n.id)||J.spectators.some(ie=>ie.id===n.id));P(L||null),L&&He(!1)}}else ee([]),P(null)});return()=>q()},[n?.id]);const de=async(B,q,K=!0,k=!1)=>{if(n)try{const Y=xs[B],L=Jy(oe(ce,"rooms")).key;if(!L)return;const J={id:L,hostId:n.id,gameType:B,...q?{password:q}:{},allowSpectators:K,fillWithBots:k,players:[n],spectators:[],maxPlayers:Y.maxPlayers,minPlayers:Y.minPlayers,status:"waiting",createdAt:Date.now(),name:`${n.name} `};P(J),He(!1),await fl(oe(ce,`rooms/${L}`),J)}catch(Y){console.error(Y),alert(""),He(!0),P(null)}},$=async(B,q)=>{if(!n)return;const K=oe(ce,`rooms/${B}`),k=j.find(L=>L.id===B);if(!k){alert("");return}if(k.password&&k.password!==q){alert("");return}if(k.players.length>=k.maxPlayers){if(k.allowSpectators){Ge(B);return}alert("");return}const Y=[...k.players,n];await Ce(K,{players:Y}),He(!1)},Ge=async B=>{if(!n)return;const q=j.find(k=>k.id===B);if(!q)return;if(q.spectators.some(k=>k.id===n.id)){He(!1);return}const K=[...q.spectators,n];await Ce(oe(ce,`rooms/${B}`),{spectators:K}),He(!1)},Re=async()=>{if(!n||!Q)return;const B=(Q.players||[]).filter(K=>K.id!==n.id),q=(Q.spectators||[]).filter(K=>K.id!==n.id);if(B.length===0)await Ta(oe(ce,`rooms/${Q.id}`));else{const K={players:B,spectators:q};Q.hostId===n.id&&B.length>0&&(K.hostId=B[0].id),await Ce(oe(ce,`rooms/${Q.id}`),K)}He(!0),P(null)},me=async B=>{if(!n||!Q||Q.hostId!==n.id||B===n.id)return;const q=(Q.players||[]).filter(k=>k.id!==B),K=(Q.spectators||[]).filter(k=>k.id!==B);await Ce(oe(ce,`rooms/${Q.id}`),{players:q,spectators:K})},Qe=async()=>{if(!n||!Q)return;const B=Q.players.map(q=>q.id===n.id?{...q,isReady:!q.isReady}:q);await Ce(oe(ce,`rooms/${Q.id}`),{players:B})},Ct=async()=>{if(!n||!Q||Q.hostId!==n.id)return;if(!Q.players.every(L=>L.id===n.id||L.isReady)){alert("");return}let q=[...Q.players];if(Q.fillWithBots&&(Q.gameType==="mahjong"||Q.gameType==="chinese_dark_chess"||Q.gameType==="big_two")){const J=(xs[Q.gameType]?.maxPlayers||4)-q.length;if(J>0)for(let ie=0;ie<J;ie++){const X=`bot_${Date.now()}_${ie}`;q.push({id:X,name:` ${ie+1}`,wins:0,losses:0,isOnline:!0,activeGameId:"",inChatRoom:!1,surrenders:0,runaways:0,rejections:0,lastOnline:Date.now()})}}if(q.length<Q.minPlayers){alert(` ${Q.minPlayers}  ()`);return}const K=`game_${Q.id}_${Date.now()}`;let k=null,Y=null;if(Q.gameType==="chinese_dark_chess"){k={board:qC(),currentPlayer:Math.random()>.5?"red":"black",players:{red:q[0].id===n.id?{id:q[0].id,name:q[0].name,wins:0,losses:0}:{id:q[1].id,name:q[1].name,wins:0,losses:0}},gameStatus:"playing",turnStartTime:Date.now(),isColorAssigned:!1};const J=q[0],ie=q[1],X=Math.random()>.5;k.players={red:X?{...J,wins:0,losses:0}:{...ie,wins:0,losses:0},black:X?{...ie,wins:0,losses:0}:{...J,wins:0,losses:0}}}else if(Q.gameType==="mahjong"){const L=VC(YC()),{hands:J,wall:ie}=QC(L),X=q.slice(0,4).map((ve,De)=>({id:ve.id,name:ve.name,wind:De,hand:J[De],melds:[],discarded:[],score:0}));Y={players:X,wall:ie,wallCount:ie.length,currentTurn:X[0].id,dice:[1,1,1],prevailingWind:0,dealer:0,gameStatus:"playing",round:1}}else if(Q.gameType==="big_two"){const L=JC($C()),J=eE(L),ie=oE(J),X=q.slice(0,4).map((le,pe)=>({id:le.id,name:le.name,hand:J[pe],cardCount:J[pe].length})),ve=[];for(let le=0;le<X.length;le++)ve.push(X[(ie+le)%X.length].id);const De={players:X,currentTurn:X[ie].id,turnOrder:ve,consecutivePasses:0,gameStatus:"playing",roundStarter:X[ie].id};await fl(oe(ce,`games/${K}`),De),await Ce(oe(ce,`rooms/${Q.id}`),{status:"playing"}),Q.players.forEach(le=>{Ce(oe(ce,`users/${le.id}`),{activeGameId:K})}),V(K)}k?(await fl(oe(ce,`games/${K}`),k),await Ce(oe(ce,`rooms/${Q.id}`),{status:"playing"}),Q.players.forEach(L=>{Ce(oe(ce,`users/${L.id}`),{activeGameId:K})}),V(K)):Y&&(await fl(oe(ce,`games/${K}`),Y),await Ce(oe(ce,`rooms/${Q.id}`),{status:"playing"}),Q.players.forEach(L=>{Ce(oe(ce,`users/${L.id}`),{activeGameId:K})}),V(K))};be.useEffect(()=>{let B=oe(ce,"chat/messages");Q?B=oe(ce,`rooms/${Q.id}/messages`):B=oe(ce,"chat/lobby_messages");const q=Na(B,K=>{const k=K.val();if(k){const Y=Object.values(k);o(Y.slice(-50))}else o([])});return()=>q()},[Q?.id]);const at=B=>{if(!n)return;const q={id:Date.now().toString(),from:n.id,fromName:n.name,content:B,timestamp:Date.now()};let K=oe(ce,"chat/lobby_messages");Q&&(K=oe(ce,`rooms/${Q.id}/messages`)),Jy(K,q)};be.useEffect(()=>{if(!N){d(null),g(null),b(null);return}const B=oe(ce,`games/${N}`),q=Na(B,K=>{const k=K.val();if(k)if(k.turnOrder){const Y=k;Y.players=(Y.players||[]).map(L=>({...L,hand:Array.isArray(L.hand)?L.hand:L.hand?Object.values(L.hand):[],cardCount:L.cardCount??(Array.isArray(L.hand)?L.hand.length:L.hand?Object.values(L.hand).length:0)})),Y.turnOrder=Array.isArray(Y.turnOrder)?Y.turnOrder:Object.values(Y.turnOrder||{}),Y.lastPlay&&(Y.lastPlay.cards=Array.isArray(Y.lastPlay.cards)?Y.lastPlay.cards:Object.values(Y.lastPlay.cards||{})),Y.centerCards&&(Y.centerCards=Array.isArray(Y.centerCards)?Y.centerCards:Object.values(Y.centerCards||{})),b(Y),d(null),g(null)}else if(k.wall)g(k),d(null),b(null);else{const Y=k.board||[],L=Array.from({length:32},(ie,X)=>Y[X]||null),J=k.spectators?Object.values(k.spectators):[];d({...k,board:L,spectators:J}),g(null),b(null)}});return()=>q()},[N]);const it=(B,q)=>{if(ne||!f||!N||!n||Q&&Q.gameType!=="chinese_dark_chess")return;const K=f.players.red?.id===n.id?"red":f.players.black?.id===n.id?"black":null;if(f.currentPlayer!==K)return;const k=f.capturedPieces||{red:[],black:[]},Y={red:Array.isArray(k.red)?[...k.red]:Object.values(k.red||{}),black:Array.isArray(k.black)?[...k.black]:Object.values(k.black||{})},L=[...f.board],J=L[B],ie=L[q];if(!J)return;if(ie)if(Lf(J,ie,L))f.currentPlayer==="red"?Y.red.push(ie):Y.black.push(ie),L[q]={...J,position:q},L[B]=null;else return;else if(Eo(B,q))L[q]={...J,position:q},L[B]=null;else return;const X=e0(L),ve=f.currentPlayer==="red"?"black":"red";Ce(oe(ce,`games/${N}`),{board:L,currentPlayer:X?null:ve,gameStatus:X?"ended":"playing",winner:X||null,turnStartTime:Date.now(),lastMove:{from:B,to:q,type:ie?"capture":"move"},capturedPieces:Y}),X&&Z(X,"normal")},D=B=>{if(ne||!f||!N||!n||Q&&Q.gameType!=="chinese_dark_chess")return;const q=f.players.red?.id===n.id?"red":f.players.black?.id===n.id?"black":null;if(f.currentPlayer!==q)return;const K=[...f.board],k=K[B];if(!k||k.isFlipped)return;K[B]={...k,isFlipped:!0};const Y=f.currentPlayer==="red"?"black":"red",L={board:K,currentPlayer:Y,turnStartTime:Date.now(),lastMove:{from:B,to:B,type:"flip"}};if(!f.isColorAssigned&&(L.isColorAssigned=!0,k.color!==f.currentPlayer)){const J=f.players.red,ie=f.players.black;L.players={red:ie,black:J},L.currentPlayer=f.currentPlayer}Ce(oe(ce,`games/${N}`),L)},Z=(B,q="normal")=>{if(!f)return;const K=f.players,k=B==="red"?K.red?.id:K.black?.id,Y=B==="red"?K.black?.id:K.red?.id;if(k&&k!==bo&&Ce(oe(ce,`users/${k}`),{wins:vo(1)}),Y&&Y!==bo){const L={losses:vo(1)};q==="surrender"&&(L.surrenders=vo(1)),q==="runaway"&&(L.runaways=vo(1)),Ce(oe(ce,`users/${Y}`),{...L})}},T=()=>{if(ne||!f||!N)return;const B=f.players.red?.id===n?.id?"black":"red";Ce(oe(ce,`games/${N}`),{gameStatus:"ended",winner:B,endReason:"surrender"}),Z(B,"surrender")},fe=()=>{alert("Rematch not fully refactored for room system yet")},Ne=async()=>{if(!(!n||!n.id&&!n.name||!N)&&(await Ce(oe(ce,`users/${n.id}`),{activeGameId:null}),V(null),Q)){const B=Q.players.map(q=>({...q,isReady:!1}));await Ce(oe(ce,`rooms/${Q.id}`),{status:"waiting",players:B})}},C=async()=>{ne&&await Ta(oe(ce,"chat"))},U=async()=>{ne&&(await Ta(oe(ce,"games")),await Ta(oe(ce,"rooms")),ee([]))},F=async()=>{ne||await Ta(oe(ce,"users"))},te=async()=>{},ge=async()=>{if(!h||!N||!n)return;const B=h.currentTurn;if(B!==n.id&&!B.startsWith("bot_"))return;const q=h.players.findIndex(ie=>ie.id===B);if(q===-1)return;const K=h.players[q];if((K.hand||[]).length%3===2)return;if(h.wall.length===0){alert(" ()"),Ce(oe(ce,`rooms/${Q?.id}`),{status:"ended"});return}const k=[...h.wall],Y=k.pop();if(!Y)return;const L=[...h.players];L[q]={...K,hand:[...K.hand||[],Y]},t0(L[q].hand)?await Ce(oe(ce,`games/${N}`),{wall:k,wallCount:k.length,players:L,pendingAction:{tile:Y,fromPlayer:B,targetPlayers:[B],actions:[{playerId:B,canHu:!0}]}}):await Ce(oe(ce,`games/${N}`),{wall:k,wallCount:k.length,players:L})},Ee=async B=>{if(!h||!N)return;const q=h.currentTurn,K=h.players.findIndex(ve=>ve.id===q);if(K===-1)return;const k=h.players[K],Y=(k.hand||[]).findIndex(ve=>ve.id===B);if(Y===-1)return;const L=(k.hand||[])[Y],J=[...k.hand||[]];J.splice(Y,1),J.sort((ve,De)=>ve.suit!==De.suit?ve.suit.localeCompare(De.suit):ve.value-De.value);const ie=[...h.players];ie[K]={...k,hand:J,discarded:[...k.discarded||[],L]};const X=[];if(h.players.forEach(ve=>{if(ve.id===q)return;const De=B_(ve.hand,L),le=PC(ve.hand,L),qe=ve.wind===(k.wind+1)%4&&XC(ve.hand,L),Et=t0([...ve.hand,L]);(De||le||qe||Et)&&X.push({playerId:ve.id,canPong:De,canKong:le,canChi:qe,canHu:Et})}),X.length>0)await Ce(oe(ce,`games/${N}`),{players:ie,pendingAction:{tile:L,fromPlayer:q,targetPlayers:X.map(ve=>ve.playerId),actions:X},lastDiscard:{tile:L,player:q,timestamp:Date.now()}});else{const ve=(K+1)%4,De=h.players[ve].id;await Ce(oe(ce,`games/${N}`),{players:ie,currentTurn:De,lastDiscard:{tile:L,player:q,timestamp:Date.now()}})}},ye=async()=>{if(!(!h||!N||!n)&&h.pendingAction){const B=h.pendingAction.actions.find(ie=>ie.playerId===n.id);if(!B||!B.canHu)return;const q=h.pendingAction.tile,K=h.players.findIndex(ie=>ie.id===n.id),k=h.players[K],Y=!1,L=(h.wall||[]).length===0,J=WC({player:k,winningTile:q,isLastTile:L,prevailingWind:h.prevailingWind,seatWind:k.wind});await Ce(oe(ce,`games/${N}`),{gameStatus:"ended",winner:n.id,winningHand:[...k.hand||[],q],scoringResult:J,isZimo:Y,isLastTile:L,players:h.players.map(ie=>ie.id===n.id?{...ie,score:ie.score+J.totalPoints}:ie)}),await Ce(oe(ce,`rooms/${Q?.id}`),{status:"ended"})}},ct=be.useRef(!1);be.useEffect(()=>{if(!h||!Q)return;const B=h.currentTurn;if(B.startsWith("bot_")&&Q.hostId===n?.id){if(ct.current)return;const q=h.players.findIndex(L=>L.id===B);if(q===-1)return;const K=h.players[q],k=(K.hand||[]).length;let Y;return k%3===1?(ct.current=!0,Y=setTimeout(async()=>{await ge(),ct.current=!1},1e3)):k%3===2&&(ct.current=!0,Y=setTimeout(async()=>{const L=K.hand||[],J=L[Math.floor(Math.random()*L.length)];J&&await Ee(J.id),ct.current=!1},1500)),()=>{Y&&clearTimeout(Y)}}if(B===n?.id){const q=h.players.findIndex(k=>k.id===n.id);if(q===-1)return;if((h.players[q].hand||[]).length%3===1){const k=setTimeout(()=>{ge()},500);return()=>clearTimeout(k)}}},[h?.currentTurn,Q?.hostId,n?.id]),be.useEffect(()=>{if(!Q||Q.gameType!=="chinese_dark_chess"||!f||!n||!N||f.gameStatus!=="playing")return;const B=f.currentPlayer;if(!B||!(B==="red"?f.players.red?.id:f.players.black?.id)?.startsWith("bot_")||Q.hostId!==n.id)return;const K=setTimeout(async()=>{if(!f||f.gameStatus!=="playing"||!N)return;const k=[...f.board],Y=[],L=[];k.forEach((le,pe)=>{le&&(le.isFlipped?le.color===B&&Y.push({index:pe,piece:le}):L.push(pe))});const J=async le=>{const pe=[...f.board],qe=pe[le];if(!qe||qe.isFlipped)return;pe[le]={...qe,isFlipped:!0};const cn={board:pe,currentPlayer:B==="red"?"black":"red",turnStartTime:Date.now(),lastMove:{from:le,to:le,type:"flip"}};if(!f.isColorAssigned&&(cn.isColorAssigned=!0,qe.color!==B)){const Rn=f.players.red,xn=f.players.black;cn.players={red:xn,black:Rn},cn.currentPlayer=B}await Ce(oe(ce,`games/${N}`),cn)},ie=async(le,pe)=>{const qe=[...f.board],Et=qe[le],cn=qe[pe];if(!Et)return;const Rn=f.capturedPieces||{red:[],black:[]},xn={red:Array.isArray(Rn.red)?[...Rn.red]:Object.values(Rn.red||{}),black:Array.isArray(Rn.black)?[...Rn.black]:Object.values(Rn.black||{})};if(cn){if(!Lf(Et,cn,qe))return;B==="red"?xn.red.push(cn):xn.black.push(cn),qe[pe]={...Et,position:pe},qe[le]=null}else{if(!Eo(le,pe))return;qe[pe]={...Et,position:pe},qe[le]=null}const jt=e0(qe),Mn=B==="red"?"black":"red";await Ce(oe(ce,`games/${N}`),{board:qe,currentPlayer:jt?null:Mn,gameStatus:jt?"ended":"playing",winner:jt||null,turnStartTime:Date.now(),lastMove:{from:le,to:pe,type:cn?"capture":"move"},capturedPieces:xn})};let X=[];for(const{index:le,piece:pe}of Y)for(let qe=0;qe<k.length;qe++){const Et=k[qe];Et&&Et.isFlipped&&Et.color!==B&&Lf(pe,Et,k)&&X.push({from:le,to:qe})}if(X.length>0){const le=X[Math.floor(Math.random()*X.length)];await ie(le.from,le.to);return}if(L.length>0&&(Math.random()<.6||Y.length===0)){const le=L[Math.floor(Math.random()*L.length)];await J(le);return}let De=[];for(const{index:le}of Y)for(let pe=0;pe<k.length;pe++)!k[pe]&&Eo(le,pe)&&De.push({from:le,to:pe});if(De.length>0){const le=De[Math.floor(Math.random()*De.length)];await ie(le.from,le.to);return}if(L.length>0){const le=L[Math.floor(Math.random()*L.length)];await J(le)}},1200);return()=>clearTimeout(K)},[f?.currentPlayer,f?.gameStatus,Q?.gameType,n?.id,N]);const We=async B=>{if(!p||!N||!n||p.currentTurn!==n.id)return;const q=p.players.findIndex(pe=>pe.id===n.id);if(q===-1)return;const K=p.players[q],k=(K.hand||[]).filter(pe=>B.includes(pe.id));if(k.length===0)return;const Y=p.consecutivePasses>=p.players.filter(pe=>(pe.hand?.length||0)>0).length-1||!p.lastPlay,L=!p.lastPlay&&p.roundStarter===p.turnOrder[0],J=rE(k,p.lastPlay,Y,L);if(!J.valid||!J.handType){alert(J.error||"");return}const ie=(K.hand||[]).filter(pe=>!B.includes(pe.id)),X=[...p.players];X[q]={...K,hand:ie,cardCount:ie.length};const ve={cards:k,handType:J.handType,playerId:n.id};if(ie.length===0){await Ce(oe(ce,`games/${N}`),{players:X,lastPlay:ve,lastPlayerId:n.id,centerCards:k,consecutivePasses:0,gameStatus:"ended",winner:n.id}),await Ce(oe(ce,`rooms/${Q?.id}`),{status:"ended"});return}let le=(p.turnOrder.indexOf(n.id)+1)%p.turnOrder.length;for(;X.find(pe=>pe.id===p.turnOrder[le])?.hand?.length===0;)le=(le+1)%p.turnOrder.length;await Ce(oe(ce,`games/${N}`),{players:X,currentTurn:p.turnOrder[le],lastPlay:ve,lastPlayerId:n.id,centerCards:k,consecutivePasses:0,roundStarter:n.id})},on=async()=>{if(!p||!N||!n||p.currentTurn!==n.id)return;const B=(p.consecutivePasses||0)+1,q=p.players.filter(Y=>(Y.hand?.length||0)>0);let k=(p.turnOrder.indexOf(n.id)+1)%p.turnOrder.length;for(;p.players.find(Y=>Y.id===p.turnOrder[k])?.hand?.length===0;)k=(k+1)%p.turnOrder.length;B>=q.length-1?await Ce(oe(ce,`games/${N}`),{currentTurn:p.lastPlayerId||p.turnOrder[k],consecutivePasses:0,lastPlay:null,centerCards:null,roundStarter:p.lastPlayerId||p.turnOrder[k]}):await Ce(oe(ce,`games/${N}`),{currentTurn:p.turnOrder[k],consecutivePasses:B})},Yt=be.useRef(!1);return be.useEffect(()=>{if(!p||!Q||Q.gameType!=="big_two"||p.gameStatus!=="playing")return;const B=p.currentTurn;if(!B?.startsWith("bot_")||Q.hostId!==n?.id||Yt.current)return;const q=p.players.findIndex(Y=>Y.id===B);if(q===-1)return;const K=p.players[q];if((K.hand?.length||0)===0)return;Yt.current=!0;const k=setTimeout(async()=>{try{if(!p||!N)return;const Y=p.players.filter(X=>(X.hand?.length||0)>0),L=(p.consecutivePasses||0)>=Y.length-1||!p.lastPlay,J=!p.lastPlay&&p.roundStarter===p.turnOrder[0],ie=cE(K.hand||[],p.lastPlay||void 0,L,J);if(ie){const X=Wa(ie);if(!X){Yt.current=!1;return}const ve=(K.hand||[]).filter(pe=>!ie.some(qe=>qe.id===pe.id)),De=[...p.players];De[q]={...K,hand:ve,cardCount:ve.length};const le={cards:ie,handType:X,playerId:B};if(ve.length===0)await Ce(oe(ce,`games/${N}`),{players:De,lastPlay:le,lastPlayerId:B,centerCards:ie,consecutivePasses:0,gameStatus:"ended",winner:B}),await Ce(oe(ce,`rooms/${Q?.id}`),{status:"ended"});else{let qe=(p.turnOrder.indexOf(B)+1)%p.turnOrder.length;for(;De.find(Et=>Et.id===p.turnOrder[qe])?.hand?.length===0;)qe=(qe+1)%p.turnOrder.length;await Ce(oe(ce,`games/${N}`),{players:De,currentTurn:p.turnOrder[qe],lastPlay:le,lastPlayerId:B,centerCards:ie,consecutivePasses:0,roundStarter:B})}}else{const X=(p.consecutivePasses||0)+1;let De=(p.turnOrder.indexOf(B)+1)%p.turnOrder.length;for(;p.players.find(le=>le.id===p.turnOrder[De])?.hand?.length===0;)De=(De+1)%p.turnOrder.length;X>=Y.length-1?await Ce(oe(ce,`games/${N}`),{currentTurn:p.lastPlayerId||p.turnOrder[De],consecutivePasses:0,lastPlay:null,centerCards:null,roundStarter:p.lastPlayerId||p.turnOrder[De]}):await Ce(oe(ce,`games/${N}`),{currentTurn:p.turnOrder[De],consecutivePasses:X})}}finally{Yt.current=!1}},1200);return()=>{clearTimeout(k),Yt.current=!1}},[p?.currentTurn,p?.gameStatus,Q?.gameType,n?.id,N]),{user:n,leaderboard:v,messages:a,gameState:f,mahjongState:h,bigTwoState:p,isAdmin:ne,rooms:j,currentRoom:Q,isInLobby:Se,createRoom:de,joinRoom:$,leaveRoom:Re,kickPlayer:me,startGame:Ct,sendMessage:at,handleMove:it,handleFlip:D,surrender:T,requestRematch:fe,exitGame:Ne,joinSpectate:Ge,clearChat:C,clearGames:U,clearUsers:F,clearStats:te,drawMahjongTile:ge,discardMahjongTile:Ee,performChi:async()=>{if(!h||!N||!h.pendingAction||!n)return;const B=h.pendingAction.actions.find(le=>le.playerId===n.id);if(!B||!B.canChi)return;const q=h.pendingAction.tile,K=h.players.findIndex(le=>le.id===n.id),k=h.players[K],Y=q.value,L=k.hand||[],J=le=>L.find(pe=>pe.suit===q.suit&&pe.value===le);let ie=[];if(J(Y-1)&&J(Y+1)?ie=[J(Y-1),J(Y+1)]:J(Y-2)&&J(Y-1)?ie=[J(Y-2),J(Y-1)]:J(Y+1)&&J(Y+2)&&(ie=[J(Y+1),J(Y+2)]),ie.length!==2)return;const X=[...k.hand||[]];ie.forEach(le=>{const pe=X.findIndex(qe=>qe.id===le.id);pe!==-1&&X.splice(pe,1)});const ve={type:"chow",tiles:[...ie,q].sort((le,pe)=>le.value-pe.value),fromPlayer:h.pendingAction.fromPlayer},De=[...h.players];De[K]={...k,hand:X,melds:[...k.melds||[],ve]},await Ce(oe(ce,`games/${N}`),{players:De,pendingAction:null,currentTurn:n.id})},performPong:async()=>{if(!h||!N||!h.pendingAction||!n)return;const B=h.pendingAction.actions.find(X=>X.playerId===n.id);if(!B||!B.canPong)return;const q=h.pendingAction.tile,K=h.players.findIndex(X=>X.id===n.id),k=h.players[K],Y=[...k.hand||[]];let L=0;for(let X=Y.length-1;X>=0&&!(Y[X].suit===q.suit&&Y[X].value===q.value&&(Y.splice(X,1),L++,L===2));X--);const J={type:"pong",tiles:[q,q,q],fromPlayer:h.pendingAction.fromPlayer},ie=[...h.players];ie[K]={...k,hand:Y,melds:[...k.melds||[],J]},await Ce(oe(ce,`games/${N}`),{players:ie,pendingAction:null,currentTurn:n.id})},performKong:async()=>{if(!h||!N||!h.pendingAction||!n)return;const B=h.pendingAction.actions.find(X=>X.playerId===n.id);if(!B||!B.canKong)return;const q=h.pendingAction.tile,K=h.players.findIndex(X=>X.id===n.id),k=h.players[K],Y=[...k.hand||[]];let L=0;for(let X=Y.length-1;X>=0&&!(Y[X].suit===q.suit&&Y[X].value===q.value&&(Y.splice(X,1),L++,L===3));X--);const J={type:"kong",tiles:[q,q,q,q],fromPlayer:h.pendingAction.fromPlayer},ie=[...h.players];if(ie[K]={...k,hand:Y,melds:[...k.melds||[],J]},h.wall.length>0){const X=[...h.wall],ve=X.pop();if(ve){ie[K].hand.push(ve),await Ce(oe(ce,`games/${N}`),{wall:X,wallCount:X.length,players:ie,pendingAction:null,currentTurn:n.id});return}}await Ce(oe(ce,`games/${N}`),{players:ie,pendingAction:null,currentTurn:n.id})},performHu:ye,skipAction:async()=>{if(!h||!N||!h.pendingAction)return;const B=h.pendingAction.targetPlayers.filter(q=>q!==n?.id);if(B.length===0){const q=h.pendingAction.fromPlayer,k=(h.players.findIndex(L=>L.id===q)+1)%4,Y=h.players[k].id;await Ce(oe(ce,`games/${N}`),{pendingAction:null,currentTurn:Y})}else await Ce(oe(ce,`games/${N}/pendingAction`),{targetPlayers:B})},toggleReady:Qe,playBigTwoCards:We,passBigTwoTurn:on}};const mE=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pE=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,s,a)=>a?a.toUpperCase():s.toLowerCase()),s0=l=>{const n=pE(l);return n.charAt(0).toUpperCase()+n.slice(1)},V_=(...l)=>l.filter((n,s,a)=>!!n&&n.trim()!==""&&a.indexOf(n)===s).join(" ").trim(),gE=l=>{for(const n in l)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var yE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const _E=be.forwardRef(({color:l="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:f,iconNode:d,...h},g)=>be.createElement("svg",{ref:g,...yE,width:n,height:n,stroke:l,strokeWidth:a?Number(s)*24/Number(n):s,className:V_("lucide",o),...!f&&!gE(h)&&{"aria-hidden":"true"},...h},[...d.map(([p,b])=>be.createElement(p,b)),...Array.isArray(f)?f:[f]]));const Ht=(l,n)=>{const s=be.forwardRef(({className:a,...o},f)=>be.createElement(_E,{ref:f,iconNode:n,className:V_(`lucide-${mE(s0(l))}`,`lucide-${l}`,a),...o}));return s.displayName=s0(l),s};const vE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],bE=Ht("arrow-right",vE);const xE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Bf=Ht("circle-alert",xE);const SE=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],wE=Ht("crown",SE);const CE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Q_=Ht("eye",CE);const EE=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],TE=Ht("flag",EE);const NE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],AE=Ht("lock",NE);const RE=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ME=Ht("log-out",RE);const OE=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],DE=Ht("message-square",OE);const jE=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],zE=Ht("play",jE);const kE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],IE=Ht("plus",kE);const UE=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],LE=Ht("refresh-cw",UE);const HE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],BE=Ht("search",HE);const GE=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],qE=Ht("send",GE);const YE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],a0=Ht("star",YE);const VE=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],hd=Ht("trophy",VE);const QE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],PE=Ht("user",QE);const XE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],P_=Ht("users",XE),FE=({onLogin:l,leaderboard:n})=>{const[s,a]=be.useState(""),[o,f]=be.useState(""),d=h=>{h.preventDefault();const g=/^[\u4e00-\u9fa5a-zA-Z0-9_-]+$/;if(!s.trim()){f("ID ");return}if(!g.test(s)){f("ID ");return}l(s)};return y.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 text-white p-4 gap-8",children:[y.jsxs("div",{className:"w-full max-w-md p-8 bg-gray-800 rounded-3xl shadow-2xl border border-gray-700",children:[y.jsx("h1",{className:"text-4xl font-black mb-8 text-center bg-gradient-to-r from-red-500 to-red-800 bg-clip-text text-transparent italic uppercase tracking-tighter",children:""}),y.jsxs("form",{onSubmit:d,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"userId",className:"block text-sm font-bold text-gray-400 mb-2 ml-1",children:" ID"}),y.jsx("input",{type:"text",id:"userId",value:s,onChange:h=>{a(h.target.value),f("")},className:"w-full px-5 py-4 bg-gray-900 border border-gray-700 rounded-2xl focus:outline-none focus:ring-2 focus:ring-red-500/50 text-white transition-all placeholder:text-gray-600 font-bold",placeholder:": player123",maxLength:15}),o&&y.jsxs("p",{className:"mt-2 text-sm text-red-500 font-bold ml-1",children:[" ",o]})]}),y.jsx("button",{type:"submit",className:"w-full py-4 bg-red-600 hover:bg-red-700 text-white font-black rounded-2xl transform active:scale-95 transition-all shadow-lg shadow-red-900/40 text-lg uppercase tracking-wide",children:""})]}),y.jsx("div",{className:"mt-8 text-center text-gray-500 text-xs font-medium",children:" ID "})]}),n.length>0&&y.jsxs("div",{className:"w-full max-w-2xl bg-gray-800 rounded-3xl border border-gray-700 overflow-hidden shadow-2xl",children:[y.jsxs("div",{className:"p-6 border-b border-gray-700 bg-gray-800/50 flex items-center gap-3",children:[y.jsx(hd,{className:"text-yellow-500"}),y.jsx("h3",{className:"text-xl font-black text-yellow-500 italic uppercase",children:"KO - "})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-gray-900/50 text-gray-500 text-[10px] uppercase font-black tracking-widest",children:[y.jsx("th",{className:"px-6 py-4",children:""}),y.jsx("th",{className:"px-6 py-4",children:""}),y.jsx("th",{className:"px-6 py-4 text-center",children:""}),y.jsx("th",{className:"px-6 py-4 text-center",children:""}),y.jsx("th",{className:"px-6 py-4 text-center",children:""}),y.jsx("th",{className:"px-6 py-4 text-center",children:""}),y.jsx("th",{className:"px-6 py-4 text-center",children:""}),y.jsx("th",{className:"px-6 py-4 text-right",children:""})]})}),y.jsx("tbody",{className:"divide-y divide-gray-700/50 text-sm",children:n.map((h,g)=>y.jsxs("tr",{className:"hover:bg-gray-700/30 transition-colors",children:[y.jsx("td",{className:"px-6 py-4 font-black",children:g+1===1?"":g+1===2?"":g+1===3?"":`#${g+1}`}),y.jsx("td",{className:"px-6 py-4 font-bold text-gray-200",children:h.name}),y.jsx("td",{className:"px-6 py-4 text-center text-green-400 font-mono font-bold",children:h.wins}),y.jsx("td",{className:"px-6 py-4 text-center text-red-400 font-mono",children:h.losses}),y.jsx("td",{className:"px-6 py-4 text-center text-orange-400 font-mono",children:h.surrenders||0}),y.jsx("td",{className:"px-6 py-4 text-center text-purple-400 font-mono",children:h.runaways||0}),y.jsx("td",{className:"px-6 py-4 text-center text-gray-500 font-mono",children:h.rejections||0}),y.jsxs("td",{className:"px-6 py-4 text-right font-mono text-blue-400 font-bold",children:[h.wins+h.losses>0?Math.round(h.wins/(h.wins+h.losses)*100):0,"%"]})]},h.id))})]})})]})]})},ZE=({isOpen:l,onClose:n,onCreate:s})=>{const[a,o]=be.useState("chinese_dark_chess"),[f,d]=be.useState(""),[h,g]=be.useState(!0),[p,b]=be.useState(!1);if(!l)return null;const v=x=>{x.preventDefault(),s(a,f,h,p),n()};return y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:y.jsxs("div",{className:"bg-[#f0e4d4] rounded-2xl shadow-2xl w-full max-w-md border-4 border-[#8b5a2b] p-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-[#5c3a1e] mb-6 text-center",children:""}),y.jsxs("form",{onSubmit:v,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-[#8b5a2b] font-bold mb-2",children:""}),y.jsx("select",{value:a,onChange:x=>o(x.target.value),className:"w-full p-3 rounded-lg border-2 border-[#ccbfa8] bg-[#fff8f0] focus:border-[#8b5a2b] focus:outline-none text-[#5c3a1e]",children:Object.entries(xs).map(([x,N])=>y.jsx("option",{value:x,children:N.name},x))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-[#8b5a2b] font-bold mb-2",children:" ()"}),y.jsx("input",{type:"text",value:f,onChange:x=>d(x.target.value),placeholder:"",className:"w-full p-3 rounded-lg border-2 border-[#ccbfa8] bg-[#fff8f0] focus:border-[#8b5a2b] focus:outline-none text-[#5c3a1e]"})]}),y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("input",{type:"checkbox",id:"allowSpectators",checked:h,onChange:x=>g(x.target.checked),className:"w-5 h-5 accent-[#8b5a2b]"}),y.jsx("label",{htmlFor:"allowSpectators",className:"text-[#5c3a1e] font-medium",children:""})]}),y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("input",{type:"checkbox",id:"fillWithBots",checked:p,onChange:x=>b(x.target.checked),className:"w-5 h-5 accent-[#8b5a2b]"}),y.jsx("label",{htmlFor:"fillWithBots",className:"text-[#5c3a1e] font-medium",children:""})]}),y.jsxs("div",{className:"pt-4 flex space-x-3",children:[y.jsx("button",{type:"button",onClick:n,className:"flex-1 py-3 bg-[#e8d5c4] text-[#8b5a2b] rounded-xl font-bold hover:bg-[#dcc0a3] transition border border-[#dcc0a3]",children:""}),y.jsx("button",{type:"submit",className:"flex-1 py-3 bg-gradient-to-r from-[#8b5a2b] to-[#6d4621] text-[#fff8f0] rounded-xl font-bold hover:shadow-lg transition transform active:scale-95",children:""})]})]})]})})},KE=({user:l,rooms:n,onCreateRoom:s,onJoinRoom:a,onClearGames:o,onClearUsers:f,onClearStats:d,isAdmin:h})=>{const[g,p]=be.useState(!1),[b,v]=be.useState("all"),[x,N]=be.useState(null),[V,G]=be.useState(""),j=n.filter(P=>b==="all"||P.gameType===b),ee=P=>{P.password&&P.hostId!==l.id?(N(P.id),G("")):a(P.id)},Q=P=>{a(P,V),N(null)};return y.jsxs("div",{className:"min-h-screen bg-[#f8f1e7] p-4 md:p-8 font-sans",children:[y.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-[#fff8f0] p-6 rounded-2xl shadow-sm border border-[#e8d5c4]",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-[#5c3a1e] mb-1",children:""}),y.jsxs("p",{className:"text-[#8b5a2b]",children:["",y.jsx("span",{className:"font-bold",children:l.name})]})]}),y.jsxs("div",{className:"mt-4 md:mt-0 flex gap-3",children:[h&&y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:o,className:"px-3 py-2 bg-red-100 text-red-700 rounded-lg text-sm hover:bg-red-200",children:""}),y.jsx("button",{onClick:f,className:"px-3 py-2 bg-red-100 text-red-700 rounded-lg text-sm hover:bg-red-200",children:""}),y.jsx("button",{onClick:d,className:"px-3 py-2 bg-red-100 text-red-700 rounded-lg text-sm hover:bg-red-200",children:""})]}),y.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-6 py-3 bg-[#8b5a2b] text-white rounded-xl hover:bg-[#6d4621] transition shadow-lg active:scale-95",children:[y.jsx(IE,{size:20}),y.jsx("span",{children:""})]})]})]}),y.jsxs("div",{className:"flex overflow-x-auto pb-2 gap-2 scrollbar-thin",children:[y.jsx("button",{onClick:()=>v("all"),className:`px-4 py-2 rounded-full whitespace-nowrap transition ${b==="all"?"bg-[#5c3a1e] text-white shadow-md":"bg-[#e8d5c4] text-[#8b5a2b] hover:bg-[#dcc0a3]"}`,children:""}),Object.entries(xs).map(([P,Se])=>y.jsx("button",{onClick:()=>v(P),className:`px-4 py-2 rounded-full whitespace-nowrap transition ${b===P?"bg-[#5c3a1e] text-white shadow-md":"bg-[#e8d5c4] text-[#8b5a2b] hover:bg-[#dcc0a3]"}`,children:Se.name},P))]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.length===0?y.jsxs("div",{className:"col-span-full py-20 text-center text-[#9ca3af]",children:[y.jsx(BE,{size:48,className:"mx-auto mb-4 opacity-50"}),y.jsx("p",{className:"text-xl",children:""})]}):j.map(P=>y.jsxs("div",{className:"bg-white rounded-xl shadow-md border-2 border-[#e8d5c4] hover:border-[#dcc0a3] transition overflow-hidden flex flex-col",children:[y.jsxs("div",{className:"p-5 flex-1",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsx("div",{className:"bg-[#f0e4d4] px-3 py-1 rounded-lg text-xs font-bold text-[#8b5a2b]",children:xs[P.gameType].name}),P.password&&y.jsx(AE,{size:16,className:"text-[#8b5a2b]"})]}),y.jsx("h3",{className:"text-lg font-bold text-[#5c3a1e] mb-2 truncate",children:P.name||` #${P.id.slice(-4)}`}),y.jsxs("div",{className:"flex items-center gap-4 text-sm text-[#6b7280]",children:[y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(P_,{size:16}),y.jsxs("span",{children:[P.players.length," / ",P.maxPlayers]})]}),P.allowSpectators&&y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(Q_,{size:16}),y.jsx("span",{children:P.spectators.length})]})]}),y.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:P.players.map(Se=>y.jsx("span",{className:"inline-block px-2 py-1 bg-[#f3f4f6] rounded text-xs text-[#374151]",children:Se.name},Se.id))})]}),y.jsx("div",{className:"p-4 bg-[#fff8f0] border-t border-[#e8d5c4]",children:x===P.id?y.jsxs("div",{className:"flex gap-2",children:[y.jsx("input",{type:"text",value:V,onChange:Se=>G(Se.target.value),placeholder:"",className:"flex-1 px-3 py-2 rounded-lg border border-[#ccbfa8] text-sm focus:outline-none focus:border-[#8b5a2b]",autoFocus:!0}),y.jsx("button",{onClick:()=>Q(P.id),className:"px-4 py-2 bg-[#8b5a2b] text-white rounded-lg text-sm font-bold hover:bg-[#6d4621]",children:""})]}):y.jsx("button",{onClick:()=>ee(P),disabled:P.players.length>=P.maxPlayers&&!P.allowSpectators,className:`w-full py-3 rounded-lg font-bold transition flex justify-center items-center gap-2 ${P.players.length>=P.maxPlayers?P.allowSpectators?"bg-[#e8d5c4] text-[#8b5a2b] hover:bg-[#dcc0a3]":"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-[#5c3a1e] text-white hover:bg-[#4a2e18]"}`,children:P.players.length>=P.maxPlayers?P.allowSpectators?"":"":""})})]},P.id))})]}),y.jsx(ZE,{isOpen:g,onClose:()=>p(!1),onCreate:s})]})},WE=({messages:l,currentUser:n,onSendMessage:s,className:a=""})=>{const[o,f]=be.useState(""),d=be.useRef(null),h=()=>{d.current?.scrollIntoView({behavior:"smooth"})};be.useEffect(()=>{h()},[l]);const g=p=>{p.preventDefault(),o.trim()&&(s(o.trim()),f(""))};return y.jsxs("div",{className:`bg-white rounded-xl shadow-lg border border-[#e8d5c4] flex flex-col h-full ${a}`,children:[y.jsxs("div",{className:"p-4 bg-[#f8f1e7] border-b border-[#e8d5c4] rounded-t-xl flex items-center gap-2",children:[y.jsx(DE,{size:20,className:"text-[#8b5a2b]"}),y.jsx("h3",{className:"font-bold text-[#5c3a1e]",children:""})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-[#fffaf5] min-h-[300px] md:min-h-0",children:[l.length===0?y.jsx("div",{className:"text-center text-gray-400 py-10 text-sm",children:""}):l.map(p=>{const b=p.from===n.id;return y.jsxs("div",{className:`flex flex-col ${b?"items-end":"items-start"}`,children:[y.jsxs("div",{className:"flex items-end gap-2 max-w-[85%]",children:[!b&&y.jsx("div",{className:"w-6 h-6 rounded-full bg-[#dcc0a3] flex items-center justify-center text-xs font-bold text-[#5c3a1e] shrink-0",children:p.fromName[0].toUpperCase()}),y.jsx("div",{className:`px-4 py-2 rounded-2xl text-sm break-words shadow-sm ${b?"bg-[#8b5a2b] text-white rounded-br-none":"bg-white border border-[#e8d5c4] text-[#374151] rounded-bl-none"}`,children:p.content})]}),y.jsxs("span",{className:"text-[10px] text-gray-400 mt-1 px-1",children:[p.fromName,"  ",new Date(p.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]},p.id)}),y.jsx("div",{ref:d})]}),y.jsxs("form",{onSubmit:g,className:"p-3 bg-white border-t border-[#e8d5c4] rounded-b-xl flex gap-2",children:[y.jsx("input",{type:"text",value:o,onChange:p=>f(p.target.value),placeholder:"...",className:"flex-1 px-4 py-2 rounded-full border border-[#ccbfa8] bg-[#fdfdfd] text-sm focus:outline-none focus:border-[#8b5a2b] focus:ring-1 focus:ring-[#8b5a2b]"}),y.jsx("button",{type:"submit",disabled:!o.trim(),className:"p-2 bg-[#8b5a2b] text-white rounded-full hover:bg-[#6d4621] disabled:opacity-50 disabled:cursor-not-allowed transition",children:y.jsx(qE,{size:18})})]})]})},$E=({room:l,currentUser:n,messages:s,onLeave:a,onStartGame:o,onKickUser:f,onSendMessage:d,onToggleReady:h})=>{const g=l.hostId===n.id,p=xs[l.gameType],b=Array.isArray(l.players)?l.players:[],v=Array.isArray(l.spectators)?l.spectators:[],x=b.length>=l.minPlayers||l.fillWithBots&&b.length>=1,N=b.every(ee=>ee.id===l.hostId||ee.isReady),V=g&&x&&N,j=b.find(ee=>ee.id===n.id)?.isReady??!1;return y.jsx("div",{className:"min-h-screen bg-[#f8f1e7] p-4 md:p-8 font-sans flex flex-col items-center",children:y.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-4rem)]",children:[y.jsxs("div",{className:"lg:col-span-2 flex flex-col gap-6 h-full",children:[y.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-[#e8d5c4]",children:y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-2xl font-bold text-[#5c3a1e] flex items-center gap-2",children:[l.name||` #${l.id}`,y.jsx("span",{className:"text-sm bg-[#f0e4d4] px-2 py-1 rounded text-[#8b5a2b] font-normal",children:p.name})]}),y.jsxs("p",{className:"text-[#8b5a2b] mt-1 text-sm",children:[": ",b.find(ee=>ee.id===l.hostId)?.name||""]})]}),y.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition text-sm font-bold",children:[y.jsx(ME,{size:16}),""]})]})}),y.jsxs("div",{className:"flex-1 bg-white p-6 rounded-2xl shadow-sm border border-[#e8d5c4] flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("h3",{className:"text-lg font-bold text-[#5c3a1e] flex items-center gap-2",children:[y.jsx(PE,{size:20})," (",b.length,"/",l.maxPlayers,")"]}),y.jsxs("div",{className:"flex flex-col items-end gap-1",children:[b.length<l.minPlayers&&!l.fillWithBots&&y.jsxs("span",{className:"text-amber-600 text-sm flex items-center gap-1 bg-amber-50 px-3 py-1 rounded-full",children:[y.jsx(Bf,{size:14})," ",l.minPlayers-b.length," "]}),b.length<l.maxPlayers&&l.fillWithBots&&y.jsxs("span",{className:"text-blue-600 text-sm flex items-center gap-1 bg-blue-50 px-3 py-1 rounded-full",children:[y.jsx(Bf,{size:14})," ",l.maxPlayers-b.length," "]}),!N&&x&&y.jsxs("span",{className:"text-amber-600 text-sm flex items-center gap-1 bg-amber-50 px-3 py-1 rounded-full",children:[y.jsx(Bf,{size:14}),"..."]})]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:l.maxPlayers}).map((ee,Q)=>{const P=b[Q];return y.jsx("div",{className:`
                                        relative group p-4 rounded-xl border-2 flex items-center gap-4 transition-all
                                        ${P?P.isReady||P.id===l.hostId?"border-green-500 bg-green-50":"border-[#8b5a2b] bg-[#fffaf5]":"border-dashed border-[#dcc0a3] bg-[#fdfdfd]"}
                                    `,children:P?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"w-12 h-12 rounded-full bg-[#dcc0a3] flex items-center justify-center text-xl font-bold text-[#5c3a1e]",children:P.name[0].toUpperCase()}),P.id===l.hostId&&y.jsx("div",{className:"absolute -top-2 -right-2 bg-white rounded-full p-1 shadow",children:y.jsx(wE,{size:14,className:"text-yellow-500 fill-yellow-500"})}),P.id!==l.hostId&&P.isReady&&y.jsx("div",{className:"absolute -bottom-1 -right-1 bg-green-500 text-white rounded-full p-0.5 shadow border-2 border-white",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("polyline",{points:"20 6 9 17 4 12"})})})]}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("p",{className:"font-bold text-[#5c3a1e] truncate",children:P.name}),P.id!==l.hostId&&y.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${P.isReady?"bg-green-100 text-green-700 border-green-200":"bg-gray-100 text-gray-500 border-gray-200"}`,children:P.isReady?"":""}),P.id===l.hostId&&y.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-yellow-100 text-yellow-700 border border-yellow-200",children:""})]}),y.jsxs("p",{className:"text-xs text-[#8b5a2b]",children:[": ",P.wins,"  / ",P.losses," "]})]}),g&&P.id!==n.id&&y.jsx("button",{onClick:()=>f(P.id),className:"opacity-0 group-hover:opacity-100 px-3 py-1 bg-red-100 text-red-600 rounded-lg text-xs hover:bg-red-200 transition",children:""})]}):y.jsx("div",{className:"flex-1 text-center text-[#dcc0a3] font-medium",children:"..."})},Q)})}),y.jsx("div",{className:"mt-8 pt-6 border-t border-[#e8d5c4] flex justify-end",children:g?y.jsxs("button",{onClick:o,disabled:!V,className:`
                                        flex items-center gap-2 px-8 py-3 rounded-xl font-bold text-lg shadow-lg transition transform active:scale-95
                                        ${V?"bg-gradient-to-r from-[#8b5a2b] to-[#6d4621] text-white hover:brightness-110":"bg-gray-200 text-gray-400 cursor-not-allowed"}
                                    `,children:[y.jsx(zE,{size:24,fill:"currentColor"}),""]}):y.jsx("button",{onClick:h,className:`
                                        flex items-center gap-2 px-8 py-3 rounded-xl font-bold text-lg shadow-lg transition transform active:scale-95
                                        ${j?"bg-red-50 text-red-600 hover:bg-red-100 border border-red-200":"bg-green-500 text-white hover:bg-green-600"}
                                    `,children:j?"":""})})]})]}),y.jsxs("div",{className:"flex flex-col gap-6 h-full",children:[l.allowSpectators&&y.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-[#e8d5c4] max-h-48 overflow-y-auto",children:[y.jsxs("h3",{className:"text-sm font-bold text-[#8b5a2b] mb-3 flex items-center gap-2",children:[y.jsx(Q_,{size:16})," (",v.length,")"]}),y.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.length===0&&y.jsx("span",{className:"text-xs text-gray-400",children:""}),v.map(ee=>y.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-[#f3f4f6] rounded text-xs text-[#374151]",children:ee.name},ee.id))]})]}),y.jsx("div",{className:"flex-1 min-h-0",children:y.jsx(WE,{messages:s,currentUser:n,onSendMessage:d,className:"h-full"})})]})]})})};function X_(l){var n,s,a="";if(typeof l=="string"||typeof l=="number")a+=l;else if(typeof l=="object")if(Array.isArray(l)){var o=l.length;for(n=0;n<o;n++)l[n]&&(s=X_(l[n]))&&(a&&(a+=" "),a+=s)}else for(s in l)l[s]&&(a&&(a+=" "),a+=s);return a}function JE(){for(var l,n,s=0,a="",o=arguments.length;s<o;s++)(l=arguments[s])&&(n=X_(l))&&(a&&(a+=" "),a+=n);return a}const eT=(l,n)=>{const s=new Array(l.length+n.length);for(let a=0;a<l.length;a++)s[a]=l[a];for(let a=0;a<n.length;a++)s[l.length+a]=n[a];return s},tT=(l,n)=>({classGroupId:l,validator:n}),F_=(l=new Map,n=null,s)=>({nextPart:l,validators:n,classGroupId:s}),Xo="-",r0=[],nT="arbitrary..",iT=l=>{const n=sT(l),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=l;return{getClassGroupId:d=>{if(d.startsWith("[")&&d.endsWith("]"))return lT(d);const h=d.split(Xo),g=h[0]===""&&h.length>1?1:0;return Z_(h,g,n)},getConflictingClassGroupIds:(d,h)=>{if(h){const g=a[d],p=s[d];return g?p?eT(p,g):g:p||r0}return s[d]||r0}}},Z_=(l,n,s)=>{if(l.length-n===0)return s.classGroupId;const o=l[n],f=s.nextPart.get(o);if(f){const p=Z_(l,n+1,f);if(p)return p}const d=s.validators;if(d===null)return;const h=n===0?l.join(Xo):l.slice(n).join(Xo),g=d.length;for(let p=0;p<g;p++){const b=d[p];if(b.validator(h))return b.classGroupId}},lT=l=>l.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const n=l.slice(1,-1),s=n.indexOf(":"),a=n.slice(0,s);return a?nT+a:void 0})(),sT=l=>{const{theme:n,classGroups:s}=l;return aT(s,n)},aT=(l,n)=>{const s=F_();for(const a in l){const o=l[a];Jd(o,s,a,n)}return s},Jd=(l,n,s,a)=>{const o=l.length;for(let f=0;f<o;f++){const d=l[f];rT(d,n,s,a)}},rT=(l,n,s,a)=>{if(typeof l=="string"){oT(l,n,s);return}if(typeof l=="function"){cT(l,n,s,a);return}uT(l,n,s,a)},oT=(l,n,s)=>{const a=l===""?n:K_(n,l);a.classGroupId=s},cT=(l,n,s,a)=>{if(fT(l)){Jd(l(a),n,s,a);return}n.validators===null&&(n.validators=[]),n.validators.push(tT(s,l))},uT=(l,n,s,a)=>{const o=Object.entries(l),f=o.length;for(let d=0;d<f;d++){const[h,g]=o[d];Jd(g,K_(n,h),s,a)}},K_=(l,n)=>{let s=l;const a=n.split(Xo),o=a.length;for(let f=0;f<o;f++){const d=a[f];let h=s.nextPart.get(d);h||(h=F_(),s.nextPart.set(d,h)),s=h}return s},fT=l=>"isThemeGetter"in l&&l.isThemeGetter===!0,dT=l=>{if(l<1)return{get:()=>{},set:()=>{}};let n=0,s=Object.create(null),a=Object.create(null);const o=(f,d)=>{s[f]=d,n++,n>l&&(n=0,a=s,s=Object.create(null))};return{get(f){let d=s[f];if(d!==void 0)return d;if((d=a[f])!==void 0)return o(f,d),d},set(f,d){f in s?s[f]=d:o(f,d)}}},md="!",o0=":",hT=[],c0=(l,n,s,a,o)=>({modifiers:l,hasImportantModifier:n,baseClassName:s,maybePostfixModifierPosition:a,isExternal:o}),mT=l=>{const{prefix:n,experimentalParseClassName:s}=l;let a=o=>{const f=[];let d=0,h=0,g=0,p;const b=o.length;for(let G=0;G<b;G++){const j=o[G];if(d===0&&h===0){if(j===o0){f.push(o.slice(g,G)),g=G+1;continue}if(j==="/"){p=G;continue}}j==="["?d++:j==="]"?d--:j==="("?h++:j===")"&&h--}const v=f.length===0?o:o.slice(g);let x=v,N=!1;v.endsWith(md)?(x=v.slice(0,-1),N=!0):v.startsWith(md)&&(x=v.slice(1),N=!0);const V=p&&p>g?p-g:void 0;return c0(f,N,x,V)};if(n){const o=n+o0,f=a;a=d=>d.startsWith(o)?f(d.slice(o.length)):c0(hT,!1,d,void 0,!0)}if(s){const o=a;a=f=>s({className:f,parseClassName:o})}return a},pT=l=>{const n=new Map;return l.orderSensitiveModifiers.forEach((s,a)=>{n.set(s,1e6+a)}),s=>{const a=[];let o=[];for(let f=0;f<s.length;f++){const d=s[f],h=d[0]==="[",g=n.has(d);h||g?(o.length>0&&(o.sort(),a.push(...o),o=[]),a.push(d)):o.push(d)}return o.length>0&&(o.sort(),a.push(...o)),a}},gT=l=>({cache:dT(l.cacheSize),parseClassName:mT(l),sortModifiers:pT(l),...iT(l)}),yT=/\s+/,_T=(l,n)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:o,sortModifiers:f}=n,d=[],h=l.trim().split(yT);let g="";for(let p=h.length-1;p>=0;p-=1){const b=h[p],{isExternal:v,modifiers:x,hasImportantModifier:N,baseClassName:V,maybePostfixModifierPosition:G}=s(b);if(v){g=b+(g.length>0?" "+g:g);continue}let j=!!G,ee=a(j?V.substring(0,G):V);if(!ee){if(!j){g=b+(g.length>0?" "+g:g);continue}if(ee=a(V),!ee){g=b+(g.length>0?" "+g:g);continue}j=!1}const Q=x.length===0?"":x.length===1?x[0]:f(x).join(":"),P=N?Q+md:Q,Se=P+ee;if(d.indexOf(Se)>-1)continue;d.push(Se);const He=o(ee,j);for(let ne=0;ne<He.length;++ne){const de=He[ne];d.push(P+de)}g=b+(g.length>0?" "+g:g)}return g},vT=(...l)=>{let n=0,s,a,o="";for(;n<l.length;)(s=l[n++])&&(a=W_(s))&&(o&&(o+=" "),o+=a);return o},W_=l=>{if(typeof l=="string")return l;let n,s="";for(let a=0;a<l.length;a++)l[a]&&(n=W_(l[a]))&&(s&&(s+=" "),s+=n);return s},bT=(l,...n)=>{let s,a,o,f;const d=g=>{const p=n.reduce((b,v)=>v(b),l());return s=gT(p),a=s.cache.get,o=s.cache.set,f=h,h(g)},h=g=>{const p=a(g);if(p)return p;const b=_T(g,s);return o(g,b),b};return f=d,(...g)=>f(vT(...g))},xT=[],wt=l=>{const n=s=>s[l]||xT;return n.isThemeGetter=!0,n},$_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,J_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ST=/^\d+\/\d+$/,wT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ET=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,TT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,NT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rs=l=>ST.test(l),Me=l=>!!l&&!Number.isNaN(Number(l)),ki=l=>!!l&&Number.isInteger(Number(l)),Gf=l=>l.endsWith("%")&&Me(l.slice(0,-1)),li=l=>wT.test(l),AT=()=>!0,RT=l=>CT.test(l)&&!ET.test(l),ev=()=>!1,MT=l=>TT.test(l),OT=l=>NT.test(l),DT=l=>!ae(l)&&!re(l),jT=l=>Ns(l,iv,ev),ae=l=>$_.test(l),ol=l=>Ns(l,lv,RT),qf=l=>Ns(l,LT,Me),u0=l=>Ns(l,tv,ev),zT=l=>Ns(l,nv,OT),xo=l=>Ns(l,sv,MT),re=l=>J_.test(l),Aa=l=>As(l,lv),kT=l=>As(l,HT),f0=l=>As(l,tv),IT=l=>As(l,iv),UT=l=>As(l,nv),So=l=>As(l,sv,!0),Ns=(l,n,s)=>{const a=$_.exec(l);return a?a[1]?n(a[1]):s(a[2]):!1},As=(l,n,s=!1)=>{const a=J_.exec(l);return a?a[1]?n(a[1]):s:!1},tv=l=>l==="position"||l==="percentage",nv=l=>l==="image"||l==="url",iv=l=>l==="length"||l==="size"||l==="bg-size",lv=l=>l==="length",LT=l=>l==="number",HT=l=>l==="family-name",sv=l=>l==="shadow",BT=()=>{const l=wt("color"),n=wt("font"),s=wt("text"),a=wt("font-weight"),o=wt("tracking"),f=wt("leading"),d=wt("breakpoint"),h=wt("container"),g=wt("spacing"),p=wt("radius"),b=wt("shadow"),v=wt("inset-shadow"),x=wt("text-shadow"),N=wt("drop-shadow"),V=wt("blur"),G=wt("perspective"),j=wt("aspect"),ee=wt("ease"),Q=wt("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Se=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],He=()=>[...Se(),re,ae],ne=()=>["auto","hidden","clip","visible","scroll"],de=()=>["auto","contain","none"],$=()=>[re,ae,g],Ge=()=>[rs,"full","auto",...$()],Re=()=>[ki,"none","subgrid",re,ae],me=()=>["auto",{span:["full",ki,re,ae]},ki,re,ae],Qe=()=>[ki,"auto",re,ae],Ct=()=>["auto","min","max","fr",re,ae],at=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],it=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...$()],Z=()=>[rs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...$()],T=()=>[l,re,ae],fe=()=>[...Se(),f0,u0,{position:[re,ae]}],Ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],C=()=>["auto","cover","contain",IT,jT,{size:[re,ae]}],U=()=>[Gf,Aa,ol],F=()=>["","none","full",p,re,ae],te=()=>["",Me,Aa,ol],ge=()=>["solid","dashed","dotted","double"],Ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ye=()=>[Me,Gf,f0,u0],ct=()=>["","none",V,re,ae],We=()=>["none",Me,re,ae],on=()=>["none",Me,re,ae],Yt=()=>[Me,re,ae],Hn=()=>[rs,"full",...$()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[li],breakpoint:[li],color:[AT],container:[li],"drop-shadow":[li],ease:["in","out","in-out"],font:[DT],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[li],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[li],shadow:[li],spacing:["px",Me],text:[li],"text-shadow":[li],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",rs,ae,re,j]}],container:["container"],columns:[{columns:[Me,ae,re,h]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:He()}],overflow:[{overflow:ne()}],"overflow-x":[{"overflow-x":ne()}],"overflow-y":[{"overflow-y":ne()}],overscroll:[{overscroll:de()}],"overscroll-x":[{"overscroll-x":de()}],"overscroll-y":[{"overscroll-y":de()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Ge()}],"inset-x":[{"inset-x":Ge()}],"inset-y":[{"inset-y":Ge()}],start:[{start:Ge()}],end:[{end:Ge()}],top:[{top:Ge()}],right:[{right:Ge()}],bottom:[{bottom:Ge()}],left:[{left:Ge()}],visibility:["visible","invisible","collapse"],z:[{z:[ki,"auto",re,ae]}],basis:[{basis:[rs,"full","auto",h,...$()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Me,rs,"auto","initial","none",ae]}],grow:[{grow:["",Me,re,ae]}],shrink:[{shrink:["",Me,re,ae]}],order:[{order:[ki,"first","last","none",re,ae]}],"grid-cols":[{"grid-cols":Re()}],"col-start-end":[{col:me()}],"col-start":[{"col-start":Qe()}],"col-end":[{"col-end":Qe()}],"grid-rows":[{"grid-rows":Re()}],"row-start-end":[{row:me()}],"row-start":[{"row-start":Qe()}],"row-end":[{"row-end":Qe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ct()}],"auto-rows":[{"auto-rows":Ct()}],gap:[{gap:$()}],"gap-x":[{"gap-x":$()}],"gap-y":[{"gap-y":$()}],"justify-content":[{justify:[...at(),"normal"]}],"justify-items":[{"justify-items":[...it(),"normal"]}],"justify-self":[{"justify-self":["auto",...it()]}],"align-content":[{content:["normal",...at()]}],"align-items":[{items:[...it(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...it(),{baseline:["","last"]}]}],"place-content":[{"place-content":at()}],"place-items":[{"place-items":[...it(),"baseline"]}],"place-self":[{"place-self":["auto",...it()]}],p:[{p:$()}],px:[{px:$()}],py:[{py:$()}],ps:[{ps:$()}],pe:[{pe:$()}],pt:[{pt:$()}],pr:[{pr:$()}],pb:[{pb:$()}],pl:[{pl:$()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":$()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":$()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[h,"screen",...Z()]}],"min-w":[{"min-w":[h,"screen","none",...Z()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[d]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",s,Aa,ol]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,re,qf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Gf,ae]}],"font-family":[{font:[kT,ae,n]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,re,ae]}],"line-clamp":[{"line-clamp":[Me,"none",re,qf]}],leading:[{leading:[f,...$()]}],"list-image":[{"list-image":["none",re,ae]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",re,ae]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:T()}],"text-color":[{text:T()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[Me,"from-font","auto",re,ol]}],"text-decoration-color":[{decoration:T()}],"underline-offset":[{"underline-offset":[Me,"auto",re,ae]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re,ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re,ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:fe()}],"bg-repeat":[{bg:Ne()}],"bg-size":[{bg:C()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ki,re,ae],radial:["",re,ae],conic:[ki,re,ae]},UT,zT]}],"bg-color":[{bg:T()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:T()}],"gradient-via":[{via:T()}],"gradient-to":[{to:T()}],rounded:[{rounded:F()}],"rounded-s":[{"rounded-s":F()}],"rounded-e":[{"rounded-e":F()}],"rounded-t":[{"rounded-t":F()}],"rounded-r":[{"rounded-r":F()}],"rounded-b":[{"rounded-b":F()}],"rounded-l":[{"rounded-l":F()}],"rounded-ss":[{"rounded-ss":F()}],"rounded-se":[{"rounded-se":F()}],"rounded-ee":[{"rounded-ee":F()}],"rounded-es":[{"rounded-es":F()}],"rounded-tl":[{"rounded-tl":F()}],"rounded-tr":[{"rounded-tr":F()}],"rounded-br":[{"rounded-br":F()}],"rounded-bl":[{"rounded-bl":F()}],"border-w":[{border:te()}],"border-w-x":[{"border-x":te()}],"border-w-y":[{"border-y":te()}],"border-w-s":[{"border-s":te()}],"border-w-e":[{"border-e":te()}],"border-w-t":[{"border-t":te()}],"border-w-r":[{"border-r":te()}],"border-w-b":[{"border-b":te()}],"border-w-l":[{"border-l":te()}],"divide-x":[{"divide-x":te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:T()}],"border-color-x":[{"border-x":T()}],"border-color-y":[{"border-y":T()}],"border-color-s":[{"border-s":T()}],"border-color-e":[{"border-e":T()}],"border-color-t":[{"border-t":T()}],"border-color-r":[{"border-r":T()}],"border-color-b":[{"border-b":T()}],"border-color-l":[{"border-l":T()}],"divide-color":[{divide:T()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Me,re,ae]}],"outline-w":[{outline:["",Me,Aa,ol]}],"outline-color":[{outline:T()}],shadow:[{shadow:["","none",b,So,xo]}],"shadow-color":[{shadow:T()}],"inset-shadow":[{"inset-shadow":["none",v,So,xo]}],"inset-shadow-color":[{"inset-shadow":T()}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:T()}],"ring-offset-w":[{"ring-offset":[Me,ol]}],"ring-offset-color":[{"ring-offset":T()}],"inset-ring-w":[{"inset-ring":te()}],"inset-ring-color":[{"inset-ring":T()}],"text-shadow":[{"text-shadow":["none",x,So,xo]}],"text-shadow-color":[{"text-shadow":T()}],opacity:[{opacity:[Me,re,ae]}],"mix-blend":[{"mix-blend":[...Ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Me]}],"mask-image-linear-from-pos":[{"mask-linear-from":ye()}],"mask-image-linear-to-pos":[{"mask-linear-to":ye()}],"mask-image-linear-from-color":[{"mask-linear-from":T()}],"mask-image-linear-to-color":[{"mask-linear-to":T()}],"mask-image-t-from-pos":[{"mask-t-from":ye()}],"mask-image-t-to-pos":[{"mask-t-to":ye()}],"mask-image-t-from-color":[{"mask-t-from":T()}],"mask-image-t-to-color":[{"mask-t-to":T()}],"mask-image-r-from-pos":[{"mask-r-from":ye()}],"mask-image-r-to-pos":[{"mask-r-to":ye()}],"mask-image-r-from-color":[{"mask-r-from":T()}],"mask-image-r-to-color":[{"mask-r-to":T()}],"mask-image-b-from-pos":[{"mask-b-from":ye()}],"mask-image-b-to-pos":[{"mask-b-to":ye()}],"mask-image-b-from-color":[{"mask-b-from":T()}],"mask-image-b-to-color":[{"mask-b-to":T()}],"mask-image-l-from-pos":[{"mask-l-from":ye()}],"mask-image-l-to-pos":[{"mask-l-to":ye()}],"mask-image-l-from-color":[{"mask-l-from":T()}],"mask-image-l-to-color":[{"mask-l-to":T()}],"mask-image-x-from-pos":[{"mask-x-from":ye()}],"mask-image-x-to-pos":[{"mask-x-to":ye()}],"mask-image-x-from-color":[{"mask-x-from":T()}],"mask-image-x-to-color":[{"mask-x-to":T()}],"mask-image-y-from-pos":[{"mask-y-from":ye()}],"mask-image-y-to-pos":[{"mask-y-to":ye()}],"mask-image-y-from-color":[{"mask-y-from":T()}],"mask-image-y-to-color":[{"mask-y-to":T()}],"mask-image-radial":[{"mask-radial":[re,ae]}],"mask-image-radial-from-pos":[{"mask-radial-from":ye()}],"mask-image-radial-to-pos":[{"mask-radial-to":ye()}],"mask-image-radial-from-color":[{"mask-radial-from":T()}],"mask-image-radial-to-color":[{"mask-radial-to":T()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Se()}],"mask-image-conic-pos":[{"mask-conic":[Me]}],"mask-image-conic-from-pos":[{"mask-conic-from":ye()}],"mask-image-conic-to-pos":[{"mask-conic-to":ye()}],"mask-image-conic-from-color":[{"mask-conic-from":T()}],"mask-image-conic-to-color":[{"mask-conic-to":T()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:fe()}],"mask-repeat":[{mask:Ne()}],"mask-size":[{mask:C()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",re,ae]}],filter:[{filter:["","none",re,ae]}],blur:[{blur:ct()}],brightness:[{brightness:[Me,re,ae]}],contrast:[{contrast:[Me,re,ae]}],"drop-shadow":[{"drop-shadow":["","none",N,So,xo]}],"drop-shadow-color":[{"drop-shadow":T()}],grayscale:[{grayscale:["",Me,re,ae]}],"hue-rotate":[{"hue-rotate":[Me,re,ae]}],invert:[{invert:["",Me,re,ae]}],saturate:[{saturate:[Me,re,ae]}],sepia:[{sepia:["",Me,re,ae]}],"backdrop-filter":[{"backdrop-filter":["","none",re,ae]}],"backdrop-blur":[{"backdrop-blur":ct()}],"backdrop-brightness":[{"backdrop-brightness":[Me,re,ae]}],"backdrop-contrast":[{"backdrop-contrast":[Me,re,ae]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Me,re,ae]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Me,re,ae]}],"backdrop-invert":[{"backdrop-invert":["",Me,re,ae]}],"backdrop-opacity":[{"backdrop-opacity":[Me,re,ae]}],"backdrop-saturate":[{"backdrop-saturate":[Me,re,ae]}],"backdrop-sepia":[{"backdrop-sepia":["",Me,re,ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":$()}],"border-spacing-x":[{"border-spacing-x":$()}],"border-spacing-y":[{"border-spacing-y":$()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",re,ae]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Me,"initial",re,ae]}],ease:[{ease:["linear","initial",ee,re,ae]}],delay:[{delay:[Me,re,ae]}],animate:[{animate:["none",Q,re,ae]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[G,re,ae]}],"perspective-origin":[{"perspective-origin":He()}],rotate:[{rotate:We()}],"rotate-x":[{"rotate-x":We()}],"rotate-y":[{"rotate-y":We()}],"rotate-z":[{"rotate-z":We()}],scale:[{scale:on()}],"scale-x":[{"scale-x":on()}],"scale-y":[{"scale-y":on()}],"scale-z":[{"scale-z":on()}],"scale-3d":["scale-3d"],skew:[{skew:Yt()}],"skew-x":[{"skew-x":Yt()}],"skew-y":[{"skew-y":Yt()}],transform:[{transform:[re,ae,"","none","gpu","cpu"]}],"transform-origin":[{origin:He()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Hn()}],"translate-x":[{"translate-x":Hn()}],"translate-y":[{"translate-y":Hn()}],"translate-z":[{"translate-z":Hn()}],"translate-none":["translate-none"],accent:[{accent:T()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:T()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re,ae]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re,ae]}],fill:[{fill:["none",...T()]}],"stroke-w":[{stroke:[Me,Aa,ol,qf]}],stroke:[{stroke:["none",...T()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},GT=bT(BT);function wo(...l){return GT(JE(l))}const To=({piece:l,selected:n,onClick:s,cheatMode:a,variant:o="board"})=>{if(!l)return y.jsx("div",{className:"w-full h-full",onClick:s});const f=l.color==="red",d=f?BC[l.type]:GC[l.type],h=a&&!l.isFlipped,g=!l.isFlipped&&!a,p=o==="captured";return y.jsxs("div",{onClick:s,className:wo("relative w-[90%] h-[90%] rounded-full cursor-pointer transition-all duration-300 transform select-none","flex items-center justify-center font-bold",p?"text-xl md:text-2xl":"text-3xl md:text-5xl","shadow-[0_4px_6px_-1px_rgba(0,0,0,0.3),0_2px_4px_-1px_rgba(0,0,0,0.2)] active:scale-95",l.isFlipped?f?"bg-gradient-to-br from-amber-50 to-orange-100 text-red-700 border-[3px] border-amber-900 shadow-inner":"bg-gradient-to-br from-amber-50 to-orange-100 text-gray-900 border-[3px] border-amber-900 shadow-inner":"bg-gradient-to-br from-orange-800 to-amber-950 border-[3px] border-amber-900 shadow-[inset_0_2px_4px_rgba(255,255,255,0.1)]",n&&"ring-4 ring-yellow-500 scale-110 z-10 brightness-110",h&&"brightness-[0.8]"),children:[l.isFlipped&&y.jsx("div",{className:"absolute inset-0 rounded-full bg-[radial-gradient(circle,transparent_40%,rgba(0,0,0,0.05)_100%)] pointer-events-none"}),!g&&y.jsx("span",{className:wo("transition-all duration-500",h?f?"text-red-500/20 blur-[0.5px]":"text-amber-100/10 blur-[0.5px]":"drop-shadow-[1px_1px_0px_rgba(255,255,255,0.4)]"),children:d}),!l.isFlipped&&!a&&y.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[y.jsx("div",{className:wo("border-2 border-amber-700/50 rounded-full",p?"w-6 h-6":"w-8 h-8 md:w-10 md:h-10")}),y.jsx("div",{className:wo("absolute border border-amber-700/30 rounded-full",p?"w-3 h-3":"absolute w-4 h-4 md:w-6 md:h-6")})]})]})},qT=({board:l,selectedPosition:n,onSquareClick:s,cheatMode:a})=>{const o=(h,g)=>{const p=l[g];if(!p||!p.isFlipped){h.preventDefault();return}const v=h.currentTarget.querySelector(".rounded-full");v&&h.dataTransfer.setDragImage(v,v.offsetWidth/2,v.offsetHeight/2),h.dataTransfer.setData("text/plain",g.toString()),s(g)},f=h=>{h.preventDefault(),h.dataTransfer.dropEffect="move"},d=(h,g)=>{h.preventDefault();const p=parseInt(h.dataTransfer.getData("text/plain"));!isNaN(p)&&p!==g&&s(g)};return y.jsx("div",{className:"grid grid-cols-8 gap-0 p-2 md:p-3 bg-[#e8d5c4] rounded-xl border-4 border-amber-900/20 shadow-2xl relative select-none",children:Array.from({length:32}).map((h,g)=>{const p=l[g];return y.jsx("div",{className:`aspect-square flex items-center justify-center relative border border-amber-900/10 ${(Math.floor(g/8)+g)%2===0?"bg-[#f4e4bc]":"bg-[#eddec0]"}`,onClick:()=>s(g),onDragOver:f,onDrop:b=>d(b,g),children:y.jsx("div",{draggable:p?.isFlipped,onDragStart:b=>o(b,g),className:"w-full h-full flex items-center justify-center",children:y.jsx(To,{piece:p,selected:n===g,cheatMode:a})})},g)})})},YT=({gameState:l,currentUserId:n,onMove:s,onFlip:a,onSurrender:o,onRematch:f,onExit:d})=>{const[h,g]=be.useState(null),[p,b]=be.useState(!1),[v,x]=be.useState(30),N=l.players.red?.id===n,V=l.players.black?.id===n,G=!N&&!V,j=N?"red":V?"black":null,ee=!G&&l.currentPlayer===j&&l.gameStatus==="playing",Q=!1;be.useEffect(()=>{},[l.currentPlayer,l.turnStartTime,l.gameStatus,Q]);const P=Re=>{if(!ee||G)return;const me=l.board[Re];h===null?me&&(me.isFlipped?me.color===j&&g(Re):a(Re)):h===Re?g(null):me&&me.isFlipped&&me.color===j?g(Re):l.board[h]&&(s(h,Re),g(null))},Se=Re=>{const me=l.players[Re],Qe=l.currentPlayer===Re;return y.jsxs("div",{className:`flex flex-col items-center p-3 rounded-xl transition-all border-2 ${Qe?"bg-orange-600/20 border-orange-500 scale-105 shadow-lg shadow-orange-900/20":"bg-gray-800/40 border-transparent opacity-60"}`,children:[y.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold mb-1 ${Re==="red"?"bg-red-600":"bg-gray-950 text-white"}`,children:me?.name?.[0]?.toUpperCase()||"?"}),y.jsx("span",{className:"text-xs font-bold truncate max-w-[100px] mb-0.5",children:me?.name||"..."}),me&&y.jsxs("div",{className:"flex flex-col items-center gap-0.5 opacity-80 scale-90",children:[y.jsxs("span",{className:"text-[10px] text-gray-400 font-mono",children:[me.wins," ",me.losses,""]}),y.jsxs("span",{className:"text-[9px] text-blue-400 font-bold bg-blue-900/20 px-1 rounded",children:[me.wins+me.losses>0?Math.round(me.wins/(me.wins+me.losses)*100):0,"% "]})]}),Q]})},He=({color:Re,title:me})=>{const Qe=Hf(Object.values(l.capturedPieces?.[Re]||{}));return y.jsxs("div",{className:"flex flex-col gap-2 w-12 md:w-16 min-h-[300px] bg-black/20 rounded-xl p-2 items-center border border-white/5 shadow-inner",children:[y.jsx("span",{className:"text-[12px] text-white/80 font-serif vertical-text mb-2 uppercase tracking-[0.2em]",children:me}),y.jsxs("div",{className:"flex flex-col gap-1 w-full items-center",children:[Qe.map((Ct,at)=>y.jsx("div",{className:"w-8 h-8 md:w-11 md:h-11 opacity-95 hover:scale-110 transition-transform",children:y.jsx(To,{piece:{...Ct,isFlipped:!0},variant:"captured"})},`${Re}-cap-${at}`)),Qe.length===0&&y.jsx("div",{className:"flex flex-col items-center gap-1 opacity-10 mt-4",children:y.jsx("div",{className:"w-6 h-6 rounded-full border border-dashed border-gray-500"})})]})]})},ne=()=>{const Re=l.spectators||[];return y.jsxs("div",{className:"bg-black/20 rounded-xl p-4 border border-white/5 w-full mt-4",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-3 text-orange-500/80",children:[y.jsx(P_,{size:18}),y.jsxs("span",{className:"font-bold text-sm tracking-widest",children:[" (",Re.length,")"]})]}),y.jsxs("div",{className:"flex flex-wrap gap-3",children:[Re.map(me=>y.jsxs("div",{className:"flex items-center gap-2 bg-gray-800/50 px-3 py-2 rounded-xl border border-gray-700/50 shadow-sm",children:[y.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-700 to-gray-800 rounded-full flex items-center justify-center text-xs font-bold text-orange-400 border border-orange-500/20",children:me.name&&me.name.length>0?me.name[0].toUpperCase():"?"}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-xs font-bold text-gray-200",children:me.name}),y.jsxs("span",{className:"text-[10px] text-gray-500 font-mono",children:["W:",me.wins," L:",me.losses]})]})]},me.id)),Re.length===0&&y.jsx("span",{className:"text-xs text-gray-600 italic py-2",children:"..."})]})]})},de=j==="red"?"black":"red",$=j||"red",Ge=G?"black":de;return y.jsxs("div",{className:"min-h-screen bg-[#1a120b] text-[#e8d5c4] flex flex-col items-center p-4 md:p-8 animate-in fade-in duration-500",children:[y.jsxs("div",{className:"mb-6 text-center select-none",children:[y.jsxs("h1",{className:"text-4xl md:text-5xl font-serif tracking-[0.5em] font-black text-orange-900/40 flex justify-center items-center gap-2",children:[y.jsx("span",{children:""}),y.jsx("span",{children:""}),y.jsx("span",{onClick:()=>b(!p),className:"cursor-default",children:""}),y.jsx("span",{children:""})]}),y.jsx("div",{className:"h-0.5 w-64 bg-gradient-to-r from-transparent via-orange-900/30 to-transparent mt-2"})]}),y.jsxs("div",{className:"w-full max-w-lg md:max-w-6xl flex flex-col gap-4 md:gap-6",children:[y.jsxs("div",{className:"flex justify-between items-center px-4 max-w-4xl mx-auto w-full",children:[Se(Ge),y.jsx("div",{className:"text-gray-600 italic text-sm font-serif",children:"VS"}),Se($)]}),y.jsxs("div",{className:"flex flex-row items-start justify-center gap-2 md:gap-6 w-full",children:[y.jsx("div",{className:"hidden sm:block",children:y.jsx(He,{color:de,title:""})}),y.jsxs("div",{className:"flex flex-col gap-4 flex-1 max-w-[800px]",children:[y.jsxs("div",{className:"relative",children:[y.jsx(qT,{board:l.board,selectedPosition:h,onSquareClick:P,cheatMode:p}),l.gameStatus==="ended"&&y.jsxs("div",{className:"absolute inset-0 z-50 bg-black/80 backdrop-blur-md rounded-xl flex flex-col items-center justify-center p-8 text-center animate-in zoom-in duration-300",children:[y.jsx("div",{className:"text-4xl md:text-6xl font-black mb-4 tracking-widest uppercase italic text-orange-500 drop-shadow-2xl",children:G?`${l.winner==="red"?"":""} !`:l.winner===j?"!":"!"}),y.jsx("p",{className:"text-gray-400 mb-8 font-serif",children:""}),y.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-[200px]",children:[!G&&!l.rematch?.[$]?y.jsxs("button",{onClick:f,className:"w-full py-4 bg-red-700 hover:bg-red-600 text-white rounded-2xl font-bold transition-all transform active:scale-95 shadow-xl shadow-red-900/40 border border-red-500/30 flex items-center justify-center gap-2",children:[y.jsx(LE,{size:20}),""]}):G?null:y.jsx("div",{className:"w-full py-4 bg-orange-900/20 text-orange-400 rounded-2xl font-bold border border-orange-900/50 animate-pulse text-center",children:"..."}),y.jsx("button",{onClick:d,className:"w-full py-3 bg-gray-800 hover:bg-gray-700 text-gray-400 rounded-2xl font-medium transition-all",children:""})]})]})]}),y.jsxs("div",{className:"sm:hidden flex flex-col gap-2",children:[y.jsxs("div",{className:"flex flex-col bg-black/20 rounded-xl p-2 border border-white/5",children:[y.jsx("span",{className:"text-[10px] text-white/50 mb-1",children:""}),y.jsx("div",{className:"flex flex-wrap gap-1",children:Hf(Object.values(l.capturedPieces?.[Ge]||{})).map((Re,me)=>y.jsx("div",{className:"w-8 h-8 opacity-95",children:y.jsx(To,{piece:{...Re,isFlipped:!0},variant:"captured"})},`mob-opp-${me}`))})]}),y.jsxs("div",{className:"flex flex-col bg-black/20 rounded-xl p-2 border border-white/5",children:[y.jsx("span",{className:"text-[10px] text-white/50 mb-1",children:""}),y.jsx("div",{className:"flex flex-wrap gap-1",children:Hf(Object.values(l.capturedPieces?.[$]||{})).map((Re,me)=>y.jsx("div",{className:"w-8 h-8 opacity-95",children:y.jsx(To,{piece:{...Re,isFlipped:!0},variant:"captured"})},`mob-me-${me}`))})]})]}),y.jsxs("div",{className:"flex justify-between items-center gap-4 px-2",children:[y.jsxs("button",{onClick:G?d:o,disabled:!G&&l.gameStatus!=="playing",className:"flex items-center justify-center gap-2 px-6 py-3 bg-gray-900/50 hover:bg-gray-800 rounded-xl text-gray-400 hover:text-white transition-all disabled:opacity-30 border border-gray-800 shrink-0",children:[y.jsx(TE,{size:18}),G?"":""]}),y.jsx("div",{className:"flex-1 text-center",children:ee?y.jsx("span",{className:"text-orange-500 font-bold animate-pulse text-sm",children:"!"}):l.gameStatus==="playing"?y.jsx("span",{className:"text-white/60 text-sm animate-pulse",children:"..."}):null})]})]}),y.jsx("div",{className:"hidden sm:block",children:y.jsx(He,{color:$,title:""})})]}),y.jsx(ne,{})]})]})},VT=l=>["","","","","","","","",""][l-1]||l,QT=(l,n)=>{switch(l){case"wan":return y.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[y.jsx("span",{className:"text-red-600 font-bold text-lg",children:VT(n)}),y.jsx("span",{className:"text-red-600 font-bold text-sm",children:""})]});case"tong":return y.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[y.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-600 border-2 border-white shadow-sm flex items-center justify-center text-white text-[10px] my-auto"}),y.jsxs("span",{className:"text-blue-600 font-bold text-xs",children:[n,""]})]});case"tiao":return y.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[y.jsx("span",{className:"text-green-600 font-bold text-lg",children:n===1?"":n}),y.jsx("span",{className:"text-green-600 font-bold text-sm",children:""})]});case"wind":const s=["","","",""];return y.jsx("div",{className:"text-black font-bold text-2xl",children:s[n-1]});case"dragon":const a=["","",""],o=["text-red-600","text-green-600","text-blue-600 border border-blue-600 rounded px-0.5"];return y.jsx("div",{className:`${o[n-1]} font-bold text-2xl ${n===3?"text-transparent border-2 border-blue-400 w-6 h-8":""}`,children:a[n-1]});default:return null}},kn=({tile:l,isHidden:n,isSelected:s,onClick:a,size:o="md",className:f=""})=>{const d={sm:"w-8 h-11 text-xs",md:"w-10 h-14 text-sm",lg:"w-14 h-20 text-lg"};return y.jsx("div",{className:`
                relative flex items-center justify-center bg-[#fdfdfd] border-b-4 border-r-2 border-gray-300 rounded shadow-md select-none cursor-pointer transition-transform duration-100 box-border
                ${d[o]}
                ${s?"transform -translate-y-3 ring-2 ring-yellow-400 z-10":"hover:-translate-y-1"}
                ${n?"bg-gradient-to-br from-green-600 to-green-800 border-green-900":""}
                ${f}
            `,onClick:a,children:!n&&l?y.jsx("div",{className:"flex flex-col items-center justify-center w-full h-full p-0.5",children:QT(l.suit,l.value)}):n?y.jsx("div",{className:"w-full h-full rounded-[1px] opacity-10"}):null})},PT=({gameState:l,currentUserId:n,onDiscard:s,onPong:a,onKong:o,onChi:f,onHu:d,onSkip:h})=>{const g=l.players.findIndex(G=>G.id===n),p=g===-1?0:g,b=G=>{const j=(p+G)%4,ee=l.players[j];return ee?{...ee,hand:ee.hand||[],discarded:ee.discarded||[],melds:ee.melds||[]}:{id:"",name:"?",wind:0,hand:[],melds:[],discarded:[],score:0}},v=b(1),x=b(2),N=b(3),V=b(0);return y.jsxs("div",{className:"relative w-full h-[600px] md:h-[700px] bg-[#0a5c36] rounded-xl overflow-hidden shadow-2xl p-2 md:p-4 select-none border-8 border-[#3e2723]",children:[y.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[#064225] p-6 rounded-lg text-white text-center border-2 border-[#8d6e63] shadow-lg z-0 w-48 h-48 flex flex-col justify-center items-center",children:[y.jsxs("div",{className:"text-3xl font-bold mb-2 text-yellow-400",children:[["","","",""][l.prevailingWind],""]}),y.jsxs("div",{className:"text-sm opacity-80 text-gray-300",children:[": ",l.wallCount]}),y.jsxs("div",{className:"mt-2 text-xs bg-black/30 px-2 py-1 rounded text-yellow-200",children:[": ",l.players[l.dealer]?.name]}),y.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Round: ",l.round]})]}),y.jsxs("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 flex flex-col items-center max-w-[80%]",children:[y.jsx("div",{className:"text-white text-xs mb-1 opacity-70",children:x.name}),y.jsx("div",{className:"flex flex-row gap-0.5 mb-2",children:x.hand.map((G,j)=>y.jsx(kn,{size:"sm",isHidden:!0},j))}),y.jsx("div",{className:"flex flex-wrap gap-0.5 justify-center w-64 md:w-80 flex-row-reverse",children:x.discarded.map((G,j)=>y.jsx(kn,{tile:G,size:"sm"},j))})]}),y.jsxs("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 flex flex-row items-center h-[80%]",children:[y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"text-white text-xs mb-1 opacity-70 rotate-90",children:N.name}),y.jsx("div",{className:"flex flex-col gap-0.5 mr-2",children:N.hand.map((G,j)=>y.jsx(kn,{size:"sm",isHidden:!0,className:"rotate-90"},j))})]}),y.jsx("div",{className:"grid grid-cols-6 gap-0.5 w-24 md:w-32 rotate-90",children:N.discarded.map((G,j)=>y.jsx(kn,{tile:G,size:"sm",className:"-rotate-90"},j))})]}),y.jsxs("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 flex flex-row-reverse items-center h-[80%]",children:[y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"text-white text-xs mb-1 opacity-70 -rotate-90",children:v.name}),y.jsx("div",{className:"flex flex-col gap-0.5 ml-2",children:v.hand.map((G,j)=>y.jsx(kn,{size:"sm",isHidden:!0,className:"-rotate-90"},j))})]}),y.jsx("div",{className:"grid grid-cols-6 gap-0.5 w-24 md:w-32 -rotate-90",children:v.discarded.map((G,j)=>y.jsx(kn,{tile:G,size:"sm",className:"rotate-90"},j))})]}),y.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex flex-col items-center w-full px-4",children:[y.jsx("div",{className:"flex flex-wrap gap-0.5 justify-center mb-8 w-full max-w-2xl",children:V.discarded.map((G,j)=>y.jsx(kn,{tile:G,size:"sm"},j))}),y.jsx("div",{className:"flex flex-row gap-0.5 md:gap-1 items-end h-20 mb-2",children:V.hand.map((G,j)=>y.jsx(kn,{tile:G,size:"md",onClick:()=>s&&s(G),className:"cursor-pointer hover:mb-4 transition-all duration-200 shadow-xl"},G.id||j))}),y.jsxs("div",{className:"text-white text-xs mt-1 opacity-70",children:[V.name," ",l.currentTurn===V.id?"(Your Turn)":""]}),(()=>{const G=l.pendingAction,j=G&&G.targetPlayers.includes(n),ee=j?G.actions.find(Q=>Q.playerId===n):null;return j&&ee?y.jsxs("div",{className:"absolute bottom-32 left-1/2 transform -translate-x-1/2 flex gap-4 z-50 animate-bounce",children:[ee.canPong&&y.jsx("button",{onClick:a,className:"bg-blue-600 text-white px-6 py-3 rounded-full shadow-lg font-bold hover:bg-blue-500 border-2 border-white ring-2 ring-blue-400",children:" (Pong)"}),ee.canKong&&y.jsx("button",{onClick:o,className:"bg-purple-600 text-white px-6 py-3 rounded-full shadow-lg font-bold hover:bg-purple-500 border-2 border-white ring-2 ring-purple-400",children:" (Kong)"}),ee.canChi&&y.jsx("button",{onClick:f,className:"bg-green-600 text-white px-6 py-3 rounded-full shadow-lg font-bold hover:bg-green-500 border-2 border-white ring-2 ring-green-400",children:" (Chi)"}),ee.canHu&&y.jsx("button",{onClick:d,className:"bg-red-600 text-white px-6 py-3 rounded-full shadow-lg font-bold hover:bg-red-500 border-2 border-white ring-2 ring-red-400 animate-pulse",children:" (Hu)"}),y.jsx("button",{onClick:h,className:"bg-gray-600 text-white px-6 py-3 rounded-full shadow-lg font-bold hover:bg-gray-500 border-2 border-white ring-2 ring-gray-400",children:" (Skip)"})]}):null})()]})]})},XT=({gameState:l,onExit:n})=>{const s=l.players.find(d=>d.id===l.winner),a=l.scoringResult,o=l.winningHand||[];if(!s||!a)return null;const f=["","","",""];return y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm animate-fadeIn",children:[y.jsxs("div",{className:"bg-gradient-to-b from-[#2a1f0e] to-[#1a120b] border-2 border-yellow-600/50 rounded-2xl shadow-2xl w-[90vw] max-w-lg p-0 overflow-hidden",children:[y.jsxs("div",{className:"bg-gradient-to-r from-yellow-700 via-yellow-600 to-yellow-700 px-6 py-4 text-center relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_0%,rgba(255,255,200,0.3),transparent_70%)]"}),y.jsxs("div",{className:"relative flex items-center justify-center gap-2",children:[y.jsx(hd,{className:"text-yellow-200",size:28}),y.jsx("h2",{className:"text-2xl font-bold text-yellow-100 tracking-wider",children:""}),y.jsx(hd,{className:"text-yellow-200",size:28})]}),y.jsxs("p",{className:"text-yellow-200/80 text-sm mt-1",children:[s.name,"  ",f[s.wind],"  ",l.isZimo?"":""]})]}),y.jsxs("div",{className:"px-4 pt-4 pb-2",children:[y.jsxs("h3",{className:"text-gray-400 text-xs font-medium mb-2 flex items-center gap-1",children:[y.jsx(a0,{size:12})," "]}),y.jsxs("div",{className:"flex flex-wrap gap-1 justify-center bg-green-900/30 rounded-xl p-3 border border-green-800/30",children:[(s.melds||[]).map((d,h)=>y.jsx("div",{className:"flex gap-0.5 mr-2",children:d.tiles.map((g,p)=>y.jsx(kn,{tile:g,size:"sm"},`meld-${h}-${p}`))},`meld-${h}`)),(s.melds||[]).length>0&&y.jsx("div",{className:"w-px bg-yellow-600/30 mx-1 self-stretch"}),o.map((d,h)=>y.jsx(kn,{tile:d,size:"sm"},`hand-${h}`))]})]}),y.jsxs("div",{className:"px-4 py-3",children:[y.jsxs("h3",{className:"text-gray-400 text-xs font-medium mb-2 flex items-center gap-1",children:[y.jsx(a0,{size:12})," "]}),y.jsxs("div",{className:"bg-black/30 rounded-xl border border-gray-700/50 overflow-hidden",children:[y.jsx("div",{className:"divide-y divide-gray-700/30",children:a.items.map((d,h)=>y.jsxs("div",{className:"flex items-center justify-between px-4 py-2.5 hover:bg-white/5 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-yellow-500 font-bold text-lg",children:d.fan}),y.jsx("span",{className:"text-gray-300 text-xs",children:""}),y.jsx(bE,{size:12,className:"text-gray-600"}),y.jsx("span",{className:"text-white font-medium",children:d.name})]}),y.jsx("span",{className:"text-gray-500 text-xs max-w-[140px] text-right",children:d.description})]},h))}),y.jsxs("div",{className:"bg-yellow-900/30 border-t border-yellow-600/30 px-4 py-3 flex items-center justify-between",children:[y.jsx("span",{className:"text-yellow-200 font-bold text-lg",children:""}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-yellow-400 font-bold text-3xl",children:a.totalFan}),y.jsx("span",{className:"text-yellow-300/80 text-sm",children:""})]})]})]})]}),y.jsx("div",{className:"px-4 pb-4 pt-1",children:y.jsx("button",{onClick:n,className:"w-full py-3 bg-gradient-to-r from-yellow-700 to-yellow-600 hover:from-yellow-600 hover:to-yellow-500 text-white font-bold rounded-xl transition-all duration-200 shadow-lg hover:shadow-yellow-600/20 active:scale-[0.98]",children:""})})]}),y.jsx("style",{children:`
                @keyframes fadeIn {
                    from { opacity: 0; transform: scale(0.95); }
                    to { opacity: 1; transform: scale(1); }
                }
                .animate-fadeIn {
                    animation: fadeIn 0.4s ease-out;
                }
            `})]})},d0={sm:"w-8 h-12 text-[10px]",md:"w-12 h-[72px] text-sm",lg:"w-16 h-24 text-base"},h0=({card:l,isHidden:n,isSelected:s,onClick:a,size:o="md",className:f=""})=>{if(n)return y.jsx("div",{className:`${d0[o]} rounded-lg bg-gradient-to-br from-blue-800 to-blue-950 border-2 border-blue-600 shadow-lg flex items-center justify-center ${f}`,children:y.jsx("div",{className:"w-[60%] h-[70%] rounded border border-blue-400/30 bg-blue-900/50 flex items-center justify-center",children:y.jsx("span",{className:"text-blue-300/50 text-lg font-bold",children:""})})});if(!l)return null;const d=l.suit==="hearts"||l.suit==="diamonds",h=q_[l.suit],g=G_[l.rank];return y.jsxs("div",{onClick:a,className:`
                ${d0[o]} rounded-lg border-2 shadow-lg cursor-pointer
                flex flex-col items-center justify-between p-1
                transition-all duration-200 select-none relative
                ${s?"border-yellow-400 bg-gradient-to-b from-yellow-50 to-white -translate-y-3 ring-2 ring-yellow-300 shadow-yellow-200/50 shadow-xl":"border-gray-300 bg-gradient-to-b from-white to-gray-50 hover:-translate-y-1 hover:shadow-xl"}
                ${f}
            `,children:[y.jsxs("div",{className:`self-start leading-none ${d?"text-red-600":"text-gray-800"}`,children:[y.jsx("div",{className:"font-bold",children:g}),y.jsx("div",{className:"-mt-0.5",children:h})]}),y.jsx("div",{className:`text-2xl ${o==="sm"?"text-lg":o==="lg"?"text-3xl":"text-2xl"} ${d?"text-red-500":"text-gray-700"}`,children:h}),y.jsxs("div",{className:`self-end leading-none rotate-180 ${d?"text-red-600":"text-gray-800"}`,children:[y.jsx("div",{className:"font-bold",children:g}),y.jsx("div",{className:"-mt-0.5",children:h})]})]})},m0={single:"",pair:"",triple:"",straight:"",full_house:"",four_of_a_kind:"",straight_flush:""},FT=({gameState:l,currentUserId:n,onPlayCards:s,onPass:a})=>{const[o,f]=be.useState(new Set),d=l.players.findIndex(ne=>ne.id===n),h=d===-1?0:d,g=ne=>{const de=(h+ne)%l.players.length,$=l.players[de];return $?{...$,hand:$.hand||[],cardCount:$.cardCount??($.hand||[]).length}:{id:"",name:"?",hand:[],cardCount:0}},p=g(0),b=l.players.length,v=[];for(let ne=1;ne<b;ne++)v.push(g(ne));const x=l.currentTurn===n,N=l.consecutivePasses>=b-1||!l.lastPlay,V=!l.lastPlay&&!l.roundStarter,G=ne=>{x&&f(de=>{const $=new Set(de);return $.has(ne)?$.delete(ne):$.add(ne),$})},j=be.useMemo(()=>p.hand.filter(ne=>o.has(ne.id)),[p.hand,o]),ee=be.useMemo(()=>j.length===0?null:Wa(j),[j]),Q=()=>{j.length!==0&&(s(Array.from(o)),f(new Set))},P=()=>{a(),f(new Set)},Se=ne=>`${q_[ne.suit]}${G_[ne.rank]}`,He=l.players.find(ne=>ne.id===l.currentTurn);return y.jsx("div",{className:"w-full flex flex-col items-center select-none",children:y.jsxs("div",{className:"relative w-full max-w-4xl h-[600px] md:h-[700px] bg-gradient-to-b from-[#1a6b1a] to-[#0d4d0d] rounded-3xl shadow-2xl border-8 border-[#3e2723] overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPjxyZWN0IHdpZHRoPSIxIiBoZWlnaHQ9IjEiIGZpbGw9IiMwMDAiIG9wYWNpdHk9IjAuMSIvPjwvc3ZnPg==')]"}),y.jsxs("div",{className:"absolute top-4 left-0 right-0 flex justify-center gap-8",children:[b===4&&y.jsxs(y.Fragment,{children:[y.jsx(Ra,{player:v[2],position:"left",isCurrentTurn:l.currentTurn===v[2]?.id}),y.jsx(Ra,{player:v[1],position:"top",isCurrentTurn:l.currentTurn===v[1]?.id}),y.jsx(Ra,{player:v[0],position:"right",isCurrentTurn:l.currentTurn===v[0]?.id})]}),b===3&&y.jsxs(y.Fragment,{children:[y.jsx(Ra,{player:v[1],position:"left",isCurrentTurn:l.currentTurn===v[1]?.id}),y.jsx(Ra,{player:v[0],position:"right",isCurrentTurn:l.currentTurn===v[0]?.id})]})]}),y.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 flex flex-col items-center z-10",children:[y.jsx("div",{className:"mb-2 text-center",children:l.lastPlay?y.jsxs("div",{className:"text-yellow-300/80 text-xs font-medium",children:[l.players.find(ne=>ne.id===l.lastPlayerId)?.name," ",y.jsx("span",{className:"text-yellow-200 ml-1",children:m0[l.lastPlay.handType]||l.lastPlay.handType})]}):y.jsx("div",{className:"text-green-300/60 text-xs",children:""})}),y.jsx("div",{className:"flex gap-1 md:gap-2 min-h-[80px] items-center",children:l.centerCards&&l.centerCards.length>0?l.centerCards.map((ne,de)=>y.jsx(h0,{card:ne,size:"md"},ne.id||de)):y.jsx("div",{className:"text-white/20 text-lg font-light italic",children:N?"":"..."})}),y.jsx("div",{className:`mt-3 px-4 py-1.5 rounded-full text-xs font-bold shadow-lg
                        ${x?"bg-yellow-500 text-black animate-pulse":"bg-black/40 text-white/70"}`,children:x?" ":` ${He?.name||"..."} `})]}),j.length>0&&y.jsx("div",{className:"absolute bottom-36 left-1/2 transform -translate-x-1/2 z-20",children:y.jsxs("div",{className:"bg-black/60 backdrop-blur-sm rounded-xl px-4 py-2 text-center border border-white/10",children:[y.jsxs("span",{className:"text-white/60 text-xs",children:[" ",j.length," "]}),y.jsx("span",{className:"text-white text-sm ml-1 font-medium",children:j.map(Se).join(" ")}),ee&&y.jsxs("span",{className:"text-green-400 text-xs ml-2 font-bold",children:["(",m0[ee],")"]}),ee===null&&j.length>0&&y.jsx("span",{className:"text-red-400 text-xs ml-2",children:"()"})]})}),y.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex flex-col items-center w-full px-4",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("div",{className:`w-3 h-3 rounded-full ${x?"bg-yellow-400 animate-pulse":"bg-gray-600"}`}),y.jsx("span",{className:"text-white text-sm font-medium",children:p.name}),y.jsxs("span",{className:"text-white/40 text-xs",children:["(",p.hand.length," )"]})]}),y.jsx("div",{className:"flex flex-wrap justify-center gap-0.5 md:gap-1 items-end mb-3 max-w-full",children:p.hand.map(ne=>y.jsx(h0,{card:ne,size:"md",isSelected:o.has(ne.id),onClick:()=>G(ne.id)},ne.id))}),x&&y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:Q,disabled:j.length===0||!ee,className:`
                                    px-8 py-2.5 rounded-xl font-bold text-sm shadow-lg transition transform active:scale-95
                                    ${j.length>0&&ee?"bg-gradient-to-r from-yellow-500 to-amber-600 text-black hover:brightness-110":"bg-gray-700 text-gray-400 cursor-not-allowed"}
                                `,children:""}),!V&&y.jsx("button",{onClick:P,disabled:N&&V,className:"px-8 py-2.5 rounded-xl font-bold text-sm bg-gray-800 text-gray-300 hover:bg-gray-700 transition transform active:scale-95 shadow-lg border border-gray-600",children:"Pass"})]})]})]})})},Ra=({player:l,isCurrentTurn:n})=>l?y.jsxs("div",{className:"flex flex-col items-center gap-1",children:[y.jsxs("div",{className:`
                flex items-center gap-2 px-3 py-1.5 rounded-xl text-xs font-medium transition-all
                ${n?"bg-yellow-500/30 text-yellow-300 border border-yellow-500/40 shadow-lg shadow-yellow-500/20":"bg-black/30 text-white/70 border border-white/10"}
            `,children:[n&&y.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-400 animate-pulse"}),y.jsx("span",{children:l.name}),y.jsxs("span",{className:"text-white/40",children:["(",l.cardCount," )"]})]}),y.jsx("div",{className:"flex gap-px mt-1",children:Array.from({length:Math.min(l.cardCount,13)}).map((s,a)=>y.jsx("div",{className:"w-2 h-3 rounded-[1px] bg-gradient-to-b from-blue-600 to-blue-900 border border-blue-500/30"},a))})]}):null,ZT=({gameState:l,currentUserId:n,onExit:s})=>{const a=l.players.find(d=>d.id===l.winner),o=l.winner===n,f=[...l.players].sort((d,h)=>(d.hand?.length||0)-(h.hand?.length||0));return y.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 animate-fadeIn",children:y.jsxs("div",{className:"bg-gradient-to-b from-[#1a1a2e] to-[#16213e] rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl border border-white/10",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("div",{className:"text-6xl mb-4",children:o?"":""}),y.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:o?"":""}),y.jsxs("p",{className:"text-yellow-400 text-lg",children:[" ",a?.name||""," "]})]}),y.jsx("div",{className:"space-y-3 mb-8",children:f.map((d,h)=>{const g=["","","",""],p=d.hand?.length||0;return y.jsxs("div",{className:`
                                    flex items-center justify-between px-4 py-3 rounded-xl
                                    ${d.id===n?"bg-yellow-500/20 border border-yellow-500/30":"bg-white/5 border border-white/5"}
                                `,children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-2xl",children:g[h]}),y.jsx("span",{className:`font-medium ${d.id===n?"text-yellow-300":"text-white"}`,children:d.name})]}),y.jsx("span",{className:"text-gray-400 text-sm",children:p===0?" ":` ${p} `})]},d.id)})}),y.jsx("button",{onClick:s,className:"w-full py-3 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-bold rounded-xl hover:brightness-110 transition shadow-lg shadow-amber-500/30",children:""})]})})},KT=()=>{const[l,n]=be.useState(localStorage.getItem("chess_userId")),{user:s,leaderboard:a,messages:o,gameState:f,mahjongState:d,bigTwoState:h,isAdmin:g,rooms:p,currentRoom:b,isInLobby:v,createRoom:x,joinRoom:N,leaveRoom:V,kickPlayer:G,startGame:j,sendMessage:ee,handleMove:Q,handleFlip:P,surrender:Se,requestRematch:He,exitGame:ne,clearGames:de,clearUsers:$,clearStats:Ge,discardMahjongTile:Re,performChi:me,performPong:Qe,performKong:Ct,performHu:at,skipAction:it,toggleReady:D,playBigTwoCards:Z,passBigTwoTurn:T}=hE(l);be.useEffect(()=>{l&&localStorage.setItem("chess_userId",l)},[l]);const fe=Ne=>{n(Ne)};return!l||!s?y.jsx(FE,{onLogin:fe,leaderboard:a}):b&&(b.status==="playing"||b.status==="ended")?b.gameType==="chinese_dark_chess"&&f?y.jsx(YT,{gameState:f,currentUserId:s.id,onMove:Q,onFlip:P,onSurrender:Se,onRematch:He,onExit:ne}):b.gameType==="mahjong"&&d?y.jsxs("div",{className:"min-h-screen bg-[#1a120b] flex flex-col items-center justify-center p-2 md:p-4",children:[y.jsx(PT,{gameState:d,currentUserId:s.id,onDiscard:Ne=>Re(Ne.id),onPong:Qe,onKong:Ct,onChi:me,onHu:at,onSkip:it}),y.jsx("button",{onClick:ne,className:"mt-4 px-6 py-2 bg-gray-800 text-gray-400 rounded-lg hover:bg-gray-700 transition-colors",children:""}),d.gameStatus==="ended"&&d.scoringResult&&y.jsx(XT,{gameState:d,onExit:ne})]}):b.gameType==="big_two"&&h?y.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#0a3d0a] to-[#062806] flex flex-col items-center justify-center p-2 md:p-4",children:[y.jsx(FT,{gameState:h,currentUserId:s.id,onPlayCards:Z,onPass:T}),y.jsx("button",{onClick:ne,className:"mt-4 px-6 py-2 bg-gray-800 text-gray-400 rounded-lg hover:bg-gray-700 transition-colors",children:""}),h.gameStatus==="ended"&&y.jsx(ZT,{gameState:h,currentUserId:s.id,onExit:ne})]}):y.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-[#f8f1e7] text-[#5c3a1e]",children:[y.jsx("h1",{className:"text-3xl font-bold mb-4",children:""}),y.jsx("p",{className:"mb-8",children:""}),y.jsx("button",{onClick:ne,className:"px-6 py-2 bg-[#8b5a2b] text-white rounded-lg hover:bg-[#6d4621]",children:""})]}):b&&!v?y.jsx($E,{room:b,currentUser:s,messages:o,onLeave:V,onStartGame:j,onKickUser:G,onSendMessage:ee,onToggleReady:D}):y.jsx(KE,{user:s,rooms:p,onCreateRoom:x,onJoinRoom:N,onClearGames:de,onClearUsers:$,onClearStats:Ge,isAdmin:g})};O1.createRoot(document.getElementById("root")).render(y.jsx(be.StrictMode,{children:y.jsx(KT,{})}));
